---
title: "1125"
publishedAt: 2024-11-25
image: 
tags: 
personal: "0"
---
교훈: useRef와 useState를 꼭 하나만 써야할 필요는 없다.
비제어/제어 형태가 공존해도 된다. 목적에 따라서 분리만 잘해놓는다면 안티패턴이 아니다.
i.e. textarea의 박스 높이 변경은 DOM 건드리는 행위이니 React가 관심있는 분야는 아님 = 명령적으로 ref.current 값 건드려서 직접 수정해주기.
동시에 textarea의 value 유무에 따라 버튼 disabled 처리를 하는건 상태 변화와 관련있으므로 React로 다뤄야 함 = useState를 써서 해결하기.

꼭 억지로 한쪽으로만 생각할 필요 없다!

![[note/2024/11월/Pasted image 20241125105203.png]]
이벤트핸들러의 이벤트로 target을 가져오면 타입 추론이 안돼서 일일이 타입 단언을 붙여줘야 함. 근데 이미 이벤트핸들러의 타입이 박혀있는데 또 이벤트 타겟에 단언해주는게 어불성설이라 느껴져서 왼쪽으로 바꿨음. 기능에는 아무런 차이가 없어서 리드님께 여쭤본 결과:
ref의 복잡한 속성들을 동시에 건드려야하는 로직이 필요하면 왼쪽으로 쓰면 되고, 국소적인 요소만을 핸들링하는 로직이면 오른쪽으로 써도 된다. DOM을 건드릴 때 event가 어떤 태그의 요소인지까지 정보를 포함해 뱉어주지 않기 때문에 오른쪽으로 쓸 때 타입 단언해주는건 어쩔 수 없는 것 같다.
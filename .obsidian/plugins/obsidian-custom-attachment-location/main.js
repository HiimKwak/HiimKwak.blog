/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault: () => extractDefault,
    process: () => {
      const browserProcess = {
        browser: true,
        cwd: () => "/",
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  function requirePatched(id) {
    const module2 = originalRequire?.(id);
    if (module2) {
      return extractDefault(module2);
    }
    if (id === "process" || id === "node:process") {
      console.error(`Module not found: ${id}. Fake process object is returned instead.`);
      return globalThis.process;
    }
    console.error(`Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var ib=Object.create;var Xi=Object.defineProperty;var ob=Object.getOwnPropertyDescriptor;var sb=Object.getOwnPropertyNames;var ab=Object.getPrototypeOf,lb=Object.prototype.hasOwnProperty;var U=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Yc=(t,e)=>{for(var n in e)Xi(t,n,{get:e[n],enumerable:!0})},Uc=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of sb(e))!lb.call(t,i)&&i!==n&&Xi(t,i,{get:()=>e[i],enumerable:!(r=ob(e,i))||r.enumerable});return t};var Me=(t,e,n)=>(n=t!=null?ib(ab(t)):{},Uc(e||!t||!t.__esModule?Xi(n,"default",{value:t,enumerable:!0}):n,t)),ub=t=>Uc(Xi({},"__esModule",{value:!0}),t);var en=U((Va,lr)=>{(function(t,e){typeof Va=="object"&&typeof lr<"u"?lr.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(Va,(function(){"use strict";var t;function e(){return t.apply(null,arguments)}function n(o){t=o}function r(o){return o instanceof Array||Object.prototype.toString.call(o)==="[object Array]"}function i(o){return o!=null&&Object.prototype.toString.call(o)==="[object Object]"}function s(o,l){return Object.prototype.hasOwnProperty.call(o,l)}function a(o){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(o).length===0;var l;for(l in o)if(s(o,l))return!1;return!0}function u(o){return o===void 0}function c(o){return typeof o=="number"||Object.prototype.toString.call(o)==="[object Number]"}function m(o){return o instanceof Date||Object.prototype.toString.call(o)==="[object Date]"}function f(o,l){var d=[],h,y=o.length;for(h=0;h<y;++h)d.push(l(o[h],h));return d}function p(o,l){for(var d in l)s(l,d)&&(o[d]=l[d]);return s(l,"toString")&&(o.toString=l.toString),s(l,"valueOf")&&(o.valueOf=l.valueOf),o}function w(o,l,d,h){return yc(o,l,d,h,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(o){return o._pf==null&&(o._pf=g()),o._pf}var F;Array.prototype.some?F=Array.prototype.some:F=function(o){var l=Object(this),d=l.length>>>0,h;for(h=0;h<d;h++)if(h in l&&o.call(this,l[h],h,l))return!0;return!1};function x(o){var l=null,d=!1,h=o._d&&!isNaN(o._d.getTime());if(h&&(l=v(o),d=F.call(l.parsedDateParts,function(y){return y!=null}),h=l.overflow<0&&!l.empty&&!l.invalidEra&&!l.invalidMonth&&!l.invalidWeekday&&!l.weekdayMismatch&&!l.nullInput&&!l.invalidFormat&&!l.userInvalidated&&(!l.meridiem||l.meridiem&&d),o._strict&&(h=h&&l.charsLeftOver===0&&l.unusedTokens.length===0&&l.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(o))o._isValid=h;else return h;return o._isValid}function E(o){var l=w(NaN);return o!=null?p(v(l),o):v(l).userInvalidated=!0,l}var _=e.momentProperties=[],P=!1;function Y(o,l){var d,h,y,k=_.length;if(u(l._isAMomentObject)||(o._isAMomentObject=l._isAMomentObject),u(l._i)||(o._i=l._i),u(l._f)||(o._f=l._f),u(l._l)||(o._l=l._l),u(l._strict)||(o._strict=l._strict),u(l._tzm)||(o._tzm=l._tzm),u(l._isUTC)||(o._isUTC=l._isUTC),u(l._offset)||(o._offset=l._offset),u(l._pf)||(o._pf=v(l)),u(l._locale)||(o._locale=l._locale),k>0)for(d=0;d<k;d++)h=_[d],y=l[h],u(y)||(o[h]=y);return o}function W(o){Y(this,o),this._d=new Date(o._d!=null?o._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),P===!1&&(P=!0,e.updateOffset(this),P=!1)}function T(o){return o instanceof W||o!=null&&o._isAMomentObject!=null}function ne(o){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+o)}function Z(o,l){var d=!0;return p(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,o),d){var h=[],y,k,C,D=arguments.length;for(k=0;k<D;k++){if(y="",typeof arguments[k]=="object"){y+=`
[`+k+"] ";for(C in arguments[0])s(arguments[0],C)&&(y+=C+": "+arguments[0][C]+", ");y=y.slice(0,-2)}else y=arguments[k];h.push(y)}ne(o+`
Arguments: `+Array.prototype.slice.call(h).join("")+`
`+new Error().stack),d=!1}return l.apply(this,arguments)},l)}var J={};function ae(o,l){e.deprecationHandler!=null&&e.deprecationHandler(o,l),J[o]||(ne(l),J[o]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function de(o){return typeof Function<"u"&&o instanceof Function||Object.prototype.toString.call(o)==="[object Function]"}function ie(o){var l,d;for(d in o)s(o,d)&&(l=o[d],de(l)?this[d]=l:this["_"+d]=l);this._config=o,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function V(o,l){var d=p({},o),h;for(h in l)s(l,h)&&(i(o[h])&&i(l[h])?(d[h]={},p(d[h],o[h]),p(d[h],l[h])):l[h]!=null?d[h]=l[h]:delete d[h]);for(h in o)s(o,h)&&!s(l,h)&&i(o[h])&&(d[h]=p({},d[h]));return d}function G(o){o!=null&&this.set(o)}var z;Object.keys?z=Object.keys:z=function(o){var l,d=[];for(l in o)s(o,l)&&d.push(l);return d};var oe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ye(o,l,d){var h=this._calendar[o]||this._calendar.sameElse;return de(h)?h.call(l,d):h}function ke(o,l,d){var h=""+Math.abs(o),y=l-h.length,k=o>=0;return(k?d?"+":"":"-")+Math.pow(10,Math.max(0,y)).toString().substr(1)+h}var tt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,A=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ne={},$e={};function b(o,l,d,h){var y=h;typeof h=="string"&&(y=function(){return this[h]()}),o&&($e[o]=y),l&&($e[l[0]]=function(){return ke(y.apply(this,arguments),l[1],l[2])}),d&&($e[d]=function(){return this.localeData().ordinal(y.apply(this,arguments),o)})}function ze(o){return o.match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"")}function Wt(o){var l=o.match(tt),d,h;for(d=0,h=l.length;d<h;d++)$e[l[d]]?l[d]=$e[l[d]]:l[d]=ze(l[d]);return function(y){var k="",C;for(C=0;C<h;C++)k+=de(l[C])?l[C].call(y,o):l[C];return k}}function hn(o,l){return o.isValid()?(l=In(l,o.localeData()),Ne[l]=Ne[l]||Wt(l),Ne[l](o)):o.localeData().invalidDate()}function In(o,l){var d=5;function h(y){return l.longDateFormat(y)||y}for(A.lastIndex=0;d>=0&&A.test(o);)o=o.replace(A,h),A.lastIndex=0,d-=1;return o}var Se={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function On(o){var l=this._longDateFormat[o],d=this._longDateFormat[o.toUpperCase()];return l||!d?l:(this._longDateFormat[o]=d.match(tt).map(function(h){return h==="MMMM"||h==="MM"||h==="DD"||h==="dddd"?h.slice(1):h}).join(""),this._longDateFormat[o])}var Ct="Invalid date";function zt(){return this._invalidDate}var mn="%d",Vr=/\d{1,2}/;function wa(o){return this._ordinal.replace("%d",o)}var Ii={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Oi(o,l,d,h){var y=this._relativeTime[d];return de(y)?y(o,l,d,h):y.replace(/%d/i,o)}function Ri(o,l){var d=this._relativeTime[o>0?"future":"past"];return de(d)?d(l):d.replace(/%s/i,l)}var Di={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function He(o){return typeof o=="string"?Di[o]||Di[o.toLowerCase()]:void 0}function er(o){var l={},d,h;for(h in o)s(o,h)&&(d=He(h),d&&(l[d]=o[h]));return l}var ya={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ba(o){var l=[],d;for(d in o)s(o,d)&&l.push({unit:d,priority:ya[d]});return l.sort(function(h,y){return h.priority-y.priority}),l}var Mi=/\d/,Ge=/\d\d/,Li=/\d{3}/,S=/\d{4}/,O=/[+-]?\d{6}/,R=/\d\d?/,Q=/\d\d\d\d?/,le=/\d\d\d\d\d\d?/,Be=/\d{1,3}/,xt=/\d{1,4}/,nt=/[+-]?\d{1,6}/,ht=/\d+/,Rt=/[+-]?\d+/,qe=/Z|[+-]\d\d:?\d\d/gi,Tt=/Z|[+-]\d\d(?::?\d\d)?/gi,St=/[+-]?\d+(\.\d{1,3})?/,Yr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,tr=/^[1-9]\d?/,ka=/^([1-9]\d|\d)/,Ni;Ni={};function N(o,l,d){Ni[o]=de(l)?l:function(h,y){return h&&d?d:l}}function xg(o,l){return s(Ni,o)?Ni[o](l._strict,l._locale):new RegExp(Tg(o))}function Tg(o){return Ht(o.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(l,d,h,y,k){return d||h||y||k}))}function Ht(o){return o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function mt(o){return o<0?Math.ceil(o)||0:Math.floor(o)}function ee(o){var l=+o,d=0;return l!==0&&isFinite(l)&&(d=mt(l)),d}var Aa={};function ce(o,l){var d,h=l,y;for(typeof o=="string"&&(o=[o]),c(l)&&(h=function(k,C){C[l]=ee(k)}),y=o.length,d=0;d<y;d++)Aa[o[d]]=h}function Ur(o,l){ce(o,function(d,h,y,k){y._w=y._w||{},l(d,y._w,y,k)})}function Sg(o,l,d){l!=null&&s(Aa,o)&&Aa[o](l,d._a,d,o)}function $i(o){return o%4===0&&o%100!==0||o%400===0}var Ve=0,Gt=1,Dt=2,_e=3,_t=4,qt=5,Rn=6,_g=7,Fg=8;b("Y",0,0,function(){var o=this.year();return o<=9999?ke(o,4):"+"+o}),b(0,["YY",2],0,function(){return this.year()%100}),b(0,["YYYY",4],0,"year"),b(0,["YYYYY",5],0,"year"),b(0,["YYYYYY",6,!0],0,"year"),N("Y",Rt),N("YY",R,Ge),N("YYYY",xt,S),N("YYYYY",nt,O),N("YYYYYY",nt,O),ce(["YYYYY","YYYYYY"],Ve),ce("YYYY",function(o,l){l[Ve]=o.length===2?e.parseTwoDigitYear(o):ee(o)}),ce("YY",function(o,l){l[Ve]=e.parseTwoDigitYear(o)}),ce("Y",function(o,l){l[Ve]=parseInt(o,10)});function Wr(o){return $i(o)?366:365}e.parseTwoDigitYear=function(o){return ee(o)+(ee(o)>68?1900:2e3)};var nc=nr("FullYear",!0);function Pg(){return $i(this.year())}function nr(o,l){return function(d){return d!=null?(rc(this,o,d),e.updateOffset(this,l),this):zr(this,o)}}function zr(o,l){if(!o.isValid())return NaN;var d=o._d,h=o._isUTC;switch(l){case"Milliseconds":return h?d.getUTCMilliseconds():d.getMilliseconds();case"Seconds":return h?d.getUTCSeconds():d.getSeconds();case"Minutes":return h?d.getUTCMinutes():d.getMinutes();case"Hours":return h?d.getUTCHours():d.getHours();case"Date":return h?d.getUTCDate():d.getDate();case"Day":return h?d.getUTCDay():d.getDay();case"Month":return h?d.getUTCMonth():d.getMonth();case"FullYear":return h?d.getUTCFullYear():d.getFullYear();default:return NaN}}function rc(o,l,d){var h,y,k,C,D;if(!(!o.isValid()||isNaN(d))){switch(h=o._d,y=o._isUTC,l){case"Milliseconds":return void(y?h.setUTCMilliseconds(d):h.setMilliseconds(d));case"Seconds":return void(y?h.setUTCSeconds(d):h.setSeconds(d));case"Minutes":return void(y?h.setUTCMinutes(d):h.setMinutes(d));case"Hours":return void(y?h.setUTCHours(d):h.setHours(d));case"Date":return void(y?h.setUTCDate(d):h.setDate(d));case"FullYear":break;default:return}k=d,C=o.month(),D=o.date(),D=D===29&&C===1&&!$i(k)?28:D,y?h.setUTCFullYear(k,C,D):h.setFullYear(k,C,D)}}function Ig(o){return o=He(o),de(this[o])?this[o]():this}function Og(o,l){if(typeof o=="object"){o=er(o);var d=ba(o),h,y=d.length;for(h=0;h<y;h++)this[d[h].unit](o[d[h].unit])}else if(o=He(o),de(this[o]))return this[o](l);return this}function Rg(o,l){return(o%l+l)%l}var ve;Array.prototype.indexOf?ve=Array.prototype.indexOf:ve=function(o){var l;for(l=0;l<this.length;++l)if(this[l]===o)return l;return-1};function va(o,l){if(isNaN(o)||isNaN(l))return NaN;var d=Rg(l,12);return o+=(l-d)/12,d===1?$i(o)?29:28:31-d%7%2}b("M",["MM",2],"Mo",function(){return this.month()+1}),b("MMM",0,0,function(o){return this.localeData().monthsShort(this,o)}),b("MMMM",0,0,function(o){return this.localeData().months(this,o)}),N("M",R,tr),N("MM",R,Ge),N("MMM",function(o,l){return l.monthsShortRegex(o)}),N("MMMM",function(o,l){return l.monthsRegex(o)}),ce(["M","MM"],function(o,l){l[Gt]=ee(o)-1}),ce(["MMM","MMMM"],function(o,l,d,h){var y=d._locale.monthsParse(o,h,d._strict);y!=null?l[Gt]=y:v(d).invalidMonth=o});var Dg="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ic="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),oc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Mg=Yr,Lg=Yr;function Ng(o,l){return o?r(this._months)?this._months[o.month()]:this._months[(this._months.isFormat||oc).test(l)?"format":"standalone"][o.month()]:r(this._months)?this._months:this._months.standalone}function $g(o,l){return o?r(this._monthsShort)?this._monthsShort[o.month()]:this._monthsShort[oc.test(l)?"format":"standalone"][o.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Bg(o,l,d){var h,y,k,C=o.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],h=0;h<12;++h)k=w([2e3,h]),this._shortMonthsParse[h]=this.monthsShort(k,"").toLocaleLowerCase(),this._longMonthsParse[h]=this.months(k,"").toLocaleLowerCase();return d?l==="MMM"?(y=ve.call(this._shortMonthsParse,C),y!==-1?y:null):(y=ve.call(this._longMonthsParse,C),y!==-1?y:null):l==="MMM"?(y=ve.call(this._shortMonthsParse,C),y!==-1?y:(y=ve.call(this._longMonthsParse,C),y!==-1?y:null)):(y=ve.call(this._longMonthsParse,C),y!==-1?y:(y=ve.call(this._shortMonthsParse,C),y!==-1?y:null))}function Vg(o,l,d){var h,y,k;if(this._monthsParseExact)return Bg.call(this,o,l,d);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),h=0;h<12;h++){if(y=w([2e3,h]),d&&!this._longMonthsParse[h]&&(this._longMonthsParse[h]=new RegExp("^"+this.months(y,"").replace(".","")+"$","i"),this._shortMonthsParse[h]=new RegExp("^"+this.monthsShort(y,"").replace(".","")+"$","i")),!d&&!this._monthsParse[h]&&(k="^"+this.months(y,"")+"|^"+this.monthsShort(y,""),this._monthsParse[h]=new RegExp(k.replace(".",""),"i")),d&&l==="MMMM"&&this._longMonthsParse[h].test(o))return h;if(d&&l==="MMM"&&this._shortMonthsParse[h].test(o))return h;if(!d&&this._monthsParse[h].test(o))return h}}function sc(o,l){if(!o.isValid())return o;if(typeof l=="string"){if(/^\d+$/.test(l))l=ee(l);else if(l=o.localeData().monthsParse(l),!c(l))return o}var d=l,h=o.date();return h=h<29?h:Math.min(h,va(o.year(),d)),o._isUTC?o._d.setUTCMonth(d,h):o._d.setMonth(d,h),o}function ac(o){return o!=null?(sc(this,o),e.updateOffset(this,!0),this):zr(this,"Month")}function Yg(){return va(this.year(),this.month())}function Ug(o){return this._monthsParseExact?(s(this,"_monthsRegex")||lc.call(this),o?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Mg),this._monthsShortStrictRegex&&o?this._monthsShortStrictRegex:this._monthsShortRegex)}function Wg(o){return this._monthsParseExact?(s(this,"_monthsRegex")||lc.call(this),o?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Lg),this._monthsStrictRegex&&o?this._monthsStrictRegex:this._monthsRegex)}function lc(){function o(H,te){return te.length-H.length}var l=[],d=[],h=[],y,k,C,D;for(y=0;y<12;y++)k=w([2e3,y]),C=Ht(this.monthsShort(k,"")),D=Ht(this.months(k,"")),l.push(C),d.push(D),h.push(D),h.push(C);l.sort(o),d.sort(o),h.sort(o),this._monthsRegex=new RegExp("^("+h.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+l.join("|")+")","i")}function zg(o,l,d,h,y,k,C){var D;return o<100&&o>=0?(D=new Date(o+400,l,d,h,y,k,C),isFinite(D.getFullYear())&&D.setFullYear(o)):D=new Date(o,l,d,h,y,k,C),D}function Hr(o){var l,d;return o<100&&o>=0?(d=Array.prototype.slice.call(arguments),d[0]=o+400,l=new Date(Date.UTC.apply(null,d)),isFinite(l.getUTCFullYear())&&l.setUTCFullYear(o)):l=new Date(Date.UTC.apply(null,arguments)),l}function Bi(o,l,d){var h=7+l-d,y=(7+Hr(o,0,h).getUTCDay()-l)%7;return-y+h-1}function uc(o,l,d,h,y){var k=(7+d-h)%7,C=Bi(o,h,y),D=1+7*(l-1)+k+C,H,te;return D<=0?(H=o-1,te=Wr(H)+D):D>Wr(o)?(H=o+1,te=D-Wr(o)):(H=o,te=D),{year:H,dayOfYear:te}}function Gr(o,l,d){var h=Bi(o.year(),l,d),y=Math.floor((o.dayOfYear()-h-1)/7)+1,k,C;return y<1?(C=o.year()-1,k=y+jt(C,l,d)):y>jt(o.year(),l,d)?(k=y-jt(o.year(),l,d),C=o.year()+1):(C=o.year(),k=y),{week:k,year:C}}function jt(o,l,d){var h=Bi(o,l,d),y=Bi(o+1,l,d);return(Wr(o)-h+y)/7}b("w",["ww",2],"wo","week"),b("W",["WW",2],"Wo","isoWeek"),N("w",R,tr),N("ww",R,Ge),N("W",R,tr),N("WW",R,Ge),Ur(["w","ww","W","WW"],function(o,l,d,h){l[h.substr(0,1)]=ee(o)});function Hg(o){return Gr(o,this._week.dow,this._week.doy).week}var Gg={dow:0,doy:6};function qg(){return this._week.dow}function jg(){return this._week.doy}function Kg(o){var l=this.localeData().week(this);return o==null?l:this.add((o-l)*7,"d")}function Xg(o){var l=Gr(this,1,4).week;return o==null?l:this.add((o-l)*7,"d")}b("d",0,"do","day"),b("dd",0,0,function(o){return this.localeData().weekdaysMin(this,o)}),b("ddd",0,0,function(o){return this.localeData().weekdaysShort(this,o)}),b("dddd",0,0,function(o){return this.localeData().weekdays(this,o)}),b("e",0,0,"weekday"),b("E",0,0,"isoWeekday"),N("d",R),N("e",R),N("E",R),N("dd",function(o,l){return l.weekdaysMinRegex(o)}),N("ddd",function(o,l){return l.weekdaysShortRegex(o)}),N("dddd",function(o,l){return l.weekdaysRegex(o)}),Ur(["dd","ddd","dddd"],function(o,l,d,h){var y=d._locale.weekdaysParse(o,h,d._strict);y!=null?l.d=y:v(d).invalidWeekday=o}),Ur(["d","e","E"],function(o,l,d,h){l[h]=ee(o)});function Zg(o,l){return typeof o!="string"?o:isNaN(o)?(o=l.weekdaysParse(o),typeof o=="number"?o:null):parseInt(o,10)}function Jg(o,l){return typeof o=="string"?l.weekdaysParse(o)%7||7:isNaN(o)?null:o}function Ea(o,l){return o.slice(l,7).concat(o.slice(0,l))}var Qg="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),cc="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),e0="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),t0=Yr,n0=Yr,r0=Yr;function i0(o,l){var d=r(this._weekdays)?this._weekdays:this._weekdays[o&&o!==!0&&this._weekdays.isFormat.test(l)?"format":"standalone"];return o===!0?Ea(d,this._week.dow):o?d[o.day()]:d}function o0(o){return o===!0?Ea(this._weekdaysShort,this._week.dow):o?this._weekdaysShort[o.day()]:this._weekdaysShort}function s0(o){return o===!0?Ea(this._weekdaysMin,this._week.dow):o?this._weekdaysMin[o.day()]:this._weekdaysMin}function a0(o,l,d){var h,y,k,C=o.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],h=0;h<7;++h)k=w([2e3,1]).day(h),this._minWeekdaysParse[h]=this.weekdaysMin(k,"").toLocaleLowerCase(),this._shortWeekdaysParse[h]=this.weekdaysShort(k,"").toLocaleLowerCase(),this._weekdaysParse[h]=this.weekdays(k,"").toLocaleLowerCase();return d?l==="dddd"?(y=ve.call(this._weekdaysParse,C),y!==-1?y:null):l==="ddd"?(y=ve.call(this._shortWeekdaysParse,C),y!==-1?y:null):(y=ve.call(this._minWeekdaysParse,C),y!==-1?y:null):l==="dddd"?(y=ve.call(this._weekdaysParse,C),y!==-1||(y=ve.call(this._shortWeekdaysParse,C),y!==-1)?y:(y=ve.call(this._minWeekdaysParse,C),y!==-1?y:null)):l==="ddd"?(y=ve.call(this._shortWeekdaysParse,C),y!==-1||(y=ve.call(this._weekdaysParse,C),y!==-1)?y:(y=ve.call(this._minWeekdaysParse,C),y!==-1?y:null)):(y=ve.call(this._minWeekdaysParse,C),y!==-1||(y=ve.call(this._weekdaysParse,C),y!==-1)?y:(y=ve.call(this._shortWeekdaysParse,C),y!==-1?y:null))}function l0(o,l,d){var h,y,k;if(this._weekdaysParseExact)return a0.call(this,o,l,d);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),h=0;h<7;h++){if(y=w([2e3,1]).day(h),d&&!this._fullWeekdaysParse[h]&&(this._fullWeekdaysParse[h]=new RegExp("^"+this.weekdays(y,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[h]=new RegExp("^"+this.weekdaysShort(y,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[h]=new RegExp("^"+this.weekdaysMin(y,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[h]||(k="^"+this.weekdays(y,"")+"|^"+this.weekdaysShort(y,"")+"|^"+this.weekdaysMin(y,""),this._weekdaysParse[h]=new RegExp(k.replace(".",""),"i")),d&&l==="dddd"&&this._fullWeekdaysParse[h].test(o))return h;if(d&&l==="ddd"&&this._shortWeekdaysParse[h].test(o))return h;if(d&&l==="dd"&&this._minWeekdaysParse[h].test(o))return h;if(!d&&this._weekdaysParse[h].test(o))return h}}function u0(o){if(!this.isValid())return o!=null?this:NaN;var l=zr(this,"Day");return o!=null?(o=Zg(o,this.localeData()),this.add(o-l,"d")):l}function c0(o){if(!this.isValid())return o!=null?this:NaN;var l=(this.day()+7-this.localeData()._week.dow)%7;return o==null?l:this.add(o-l,"d")}function d0(o){if(!this.isValid())return o!=null?this:NaN;if(o!=null){var l=Jg(o,this.localeData());return this.day(this.day()%7?l:l-7)}else return this.day()||7}function f0(o){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ca.call(this),o?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=t0),this._weekdaysStrictRegex&&o?this._weekdaysStrictRegex:this._weekdaysRegex)}function h0(o){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ca.call(this),o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=n0),this._weekdaysShortStrictRegex&&o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function m0(o){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ca.call(this),o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=r0),this._weekdaysMinStrictRegex&&o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ca(){function o(je,Qt){return Qt.length-je.length}var l=[],d=[],h=[],y=[],k,C,D,H,te;for(k=0;k<7;k++)C=w([2e3,1]).day(k),D=Ht(this.weekdaysMin(C,"")),H=Ht(this.weekdaysShort(C,"")),te=Ht(this.weekdays(C,"")),l.push(D),d.push(H),h.push(te),y.push(D),y.push(H),y.push(te);l.sort(o),d.sort(o),h.sort(o),y.sort(o),this._weekdaysRegex=new RegExp("^("+y.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+l.join("|")+")","i")}function xa(){return this.hours()%12||12}function p0(){return this.hours()||24}b("H",["HH",2],0,"hour"),b("h",["hh",2],0,xa),b("k",["kk",2],0,p0),b("hmm",0,0,function(){return""+xa.apply(this)+ke(this.minutes(),2)}),b("hmmss",0,0,function(){return""+xa.apply(this)+ke(this.minutes(),2)+ke(this.seconds(),2)}),b("Hmm",0,0,function(){return""+this.hours()+ke(this.minutes(),2)}),b("Hmmss",0,0,function(){return""+this.hours()+ke(this.minutes(),2)+ke(this.seconds(),2)});function dc(o,l){b(o,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),l)})}dc("a",!0),dc("A",!1);function fc(o,l){return l._meridiemParse}N("a",fc),N("A",fc),N("H",R,ka),N("h",R,tr),N("k",R,tr),N("HH",R,Ge),N("hh",R,Ge),N("kk",R,Ge),N("hmm",Q),N("hmmss",le),N("Hmm",Q),N("Hmmss",le),ce(["H","HH"],_e),ce(["k","kk"],function(o,l,d){var h=ee(o);l[_e]=h===24?0:h}),ce(["a","A"],function(o,l,d){d._isPm=d._locale.isPM(o),d._meridiem=o}),ce(["h","hh"],function(o,l,d){l[_e]=ee(o),v(d).bigHour=!0}),ce("hmm",function(o,l,d){var h=o.length-2;l[_e]=ee(o.substr(0,h)),l[_t]=ee(o.substr(h)),v(d).bigHour=!0}),ce("hmmss",function(o,l,d){var h=o.length-4,y=o.length-2;l[_e]=ee(o.substr(0,h)),l[_t]=ee(o.substr(h,2)),l[qt]=ee(o.substr(y)),v(d).bigHour=!0}),ce("Hmm",function(o,l,d){var h=o.length-2;l[_e]=ee(o.substr(0,h)),l[_t]=ee(o.substr(h))}),ce("Hmmss",function(o,l,d){var h=o.length-4,y=o.length-2;l[_e]=ee(o.substr(0,h)),l[_t]=ee(o.substr(h,2)),l[qt]=ee(o.substr(y))});function g0(o){return(o+"").toLowerCase().charAt(0)==="p"}var w0=/[ap]\.?m?\.?/i,y0=nr("Hours",!0);function b0(o,l,d){return o>11?d?"pm":"PM":d?"am":"AM"}var hc={calendar:oe,longDateFormat:Se,invalidDate:Ct,ordinal:mn,dayOfMonthOrdinalParse:Vr,relativeTime:Ii,months:Dg,monthsShort:ic,week:Gg,weekdays:Qg,weekdaysMin:e0,weekdaysShort:cc,meridiemParse:w0},me={},qr={},jr;function k0(o,l){var d,h=Math.min(o.length,l.length);for(d=0;d<h;d+=1)if(o[d]!==l[d])return d;return h}function mc(o){return o&&o.toLowerCase().replace("_","-")}function A0(o){for(var l=0,d,h,y,k;l<o.length;){for(k=mc(o[l]).split("-"),d=k.length,h=mc(o[l+1]),h=h?h.split("-"):null;d>0;){if(y=Vi(k.slice(0,d).join("-")),y)return y;if(h&&h.length>=d&&k0(k,h)>=d-1)break;d--}l++}return jr}function v0(o){return!!(o&&o.match("^[^/\\\\]*$"))}function Vi(o){var l=null,d;if(me[o]===void 0&&typeof lr<"u"&&lr&&lr.exports&&v0(o))try{l=jr._abbr,d=require,d("./locale/"+o),pn(l)}catch{me[o]=null}return me[o]}function pn(o,l){var d;return o&&(u(l)?d=Kt(o):d=Ta(o,l),d?jr=d:typeof console<"u"&&console.warn&&console.warn("Locale "+o+" not found. Did you forget to load it?")),jr._abbr}function Ta(o,l){if(l!==null){var d,h=hc;if(l.abbr=o,me[o]!=null)ae("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),h=me[o]._config;else if(l.parentLocale!=null)if(me[l.parentLocale]!=null)h=me[l.parentLocale]._config;else if(d=Vi(l.parentLocale),d!=null)h=d._config;else return qr[l.parentLocale]||(qr[l.parentLocale]=[]),qr[l.parentLocale].push({name:o,config:l}),null;return me[o]=new G(V(h,l)),qr[o]&&qr[o].forEach(function(y){Ta(y.name,y.config)}),pn(o),me[o]}else return delete me[o],null}function E0(o,l){if(l!=null){var d,h,y=hc;me[o]!=null&&me[o].parentLocale!=null?me[o].set(V(me[o]._config,l)):(h=Vi(o),h!=null&&(y=h._config),l=V(y,l),h==null&&(l.abbr=o),d=new G(l),d.parentLocale=me[o],me[o]=d),pn(o)}else me[o]!=null&&(me[o].parentLocale!=null?(me[o]=me[o].parentLocale,o===pn()&&pn(o)):me[o]!=null&&delete me[o]);return me[o]}function Kt(o){var l;if(o&&o._locale&&o._locale._abbr&&(o=o._locale._abbr),!o)return jr;if(!r(o)){if(l=Vi(o),l)return l;o=[o]}return A0(o)}function C0(){return z(me)}function Sa(o){var l,d=o._a;return d&&v(o).overflow===-2&&(l=d[Gt]<0||d[Gt]>11?Gt:d[Dt]<1||d[Dt]>va(d[Ve],d[Gt])?Dt:d[_e]<0||d[_e]>24||d[_e]===24&&(d[_t]!==0||d[qt]!==0||d[Rn]!==0)?_e:d[_t]<0||d[_t]>59?_t:d[qt]<0||d[qt]>59?qt:d[Rn]<0||d[Rn]>999?Rn:-1,v(o)._overflowDayOfYear&&(l<Ve||l>Dt)&&(l=Dt),v(o)._overflowWeeks&&l===-1&&(l=_g),v(o)._overflowWeekday&&l===-1&&(l=Fg),v(o).overflow=l),o}var x0=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,T0=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,S0=/Z|[+-]\d\d(?::?\d\d)?/,Yi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],_a=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],_0=/^\/?Date\((-?\d+)/i,F0=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,P0={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function pc(o){var l,d,h=o._i,y=x0.exec(h)||T0.exec(h),k,C,D,H,te=Yi.length,je=_a.length;if(y){for(v(o).iso=!0,l=0,d=te;l<d;l++)if(Yi[l][1].exec(y[1])){C=Yi[l][0],k=Yi[l][2]!==!1;break}if(C==null){o._isValid=!1;return}if(y[3]){for(l=0,d=je;l<d;l++)if(_a[l][1].exec(y[3])){D=(y[2]||" ")+_a[l][0];break}if(D==null){o._isValid=!1;return}}if(!k&&D!=null){o._isValid=!1;return}if(y[4])if(S0.exec(y[4]))H="Z";else{o._isValid=!1;return}o._f=C+(D||"")+(H||""),Pa(o)}else o._isValid=!1}function I0(o,l,d,h,y,k){var C=[O0(o),ic.indexOf(l),parseInt(d,10),parseInt(h,10),parseInt(y,10)];return k&&C.push(parseInt(k,10)),C}function O0(o){var l=parseInt(o,10);return l<=49?2e3+l:l<=999?1900+l:l}function R0(o){return o.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function D0(o,l,d){if(o){var h=cc.indexOf(o),y=new Date(l[0],l[1],l[2]).getDay();if(h!==y)return v(d).weekdayMismatch=!0,d._isValid=!1,!1}return!0}function M0(o,l,d){if(o)return P0[o];if(l)return 0;var h=parseInt(d,10),y=h%100,k=(h-y)/100;return k*60+y}function gc(o){var l=F0.exec(R0(o._i)),d;if(l){if(d=I0(l[4],l[3],l[2],l[5],l[6],l[7]),!D0(l[1],d,o))return;o._a=d,o._tzm=M0(l[8],l[9],l[10]),o._d=Hr.apply(null,o._a),o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),v(o).rfc2822=!0}else o._isValid=!1}function L0(o){var l=_0.exec(o._i);if(l!==null){o._d=new Date(+l[1]);return}if(pc(o),o._isValid===!1)delete o._isValid;else return;if(gc(o),o._isValid===!1)delete o._isValid;else return;o._strict?o._isValid=!1:e.createFromInputFallback(o)}e.createFromInputFallback=Z("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(o){o._d=new Date(o._i+(o._useUTC?" UTC":""))});function rr(o,l,d){return o??l??d}function N0(o){var l=new Date(e.now());return o._useUTC?[l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()]:[l.getFullYear(),l.getMonth(),l.getDate()]}function Fa(o){var l,d,h=[],y,k,C;if(!o._d){for(y=N0(o),o._w&&o._a[Dt]==null&&o._a[Gt]==null&&$0(o),o._dayOfYear!=null&&(C=rr(o._a[Ve],y[Ve]),(o._dayOfYear>Wr(C)||o._dayOfYear===0)&&(v(o)._overflowDayOfYear=!0),d=Hr(C,0,o._dayOfYear),o._a[Gt]=d.getUTCMonth(),o._a[Dt]=d.getUTCDate()),l=0;l<3&&o._a[l]==null;++l)o._a[l]=h[l]=y[l];for(;l<7;l++)o._a[l]=h[l]=o._a[l]==null?l===2?1:0:o._a[l];o._a[_e]===24&&o._a[_t]===0&&o._a[qt]===0&&o._a[Rn]===0&&(o._nextDay=!0,o._a[_e]=0),o._d=(o._useUTC?Hr:zg).apply(null,h),k=o._useUTC?o._d.getUTCDay():o._d.getDay(),o._tzm!=null&&o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),o._nextDay&&(o._a[_e]=24),o._w&&typeof o._w.d<"u"&&o._w.d!==k&&(v(o).weekdayMismatch=!0)}}function $0(o){var l,d,h,y,k,C,D,H,te;l=o._w,l.GG!=null||l.W!=null||l.E!=null?(k=1,C=4,d=rr(l.GG,o._a[Ve],Gr(fe(),1,4).year),h=rr(l.W,1),y=rr(l.E,1),(y<1||y>7)&&(H=!0)):(k=o._locale._week.dow,C=o._locale._week.doy,te=Gr(fe(),k,C),d=rr(l.gg,o._a[Ve],te.year),h=rr(l.w,te.week),l.d!=null?(y=l.d,(y<0||y>6)&&(H=!0)):l.e!=null?(y=l.e+k,(l.e<0||l.e>6)&&(H=!0)):y=k),h<1||h>jt(d,k,C)?v(o)._overflowWeeks=!0:H!=null?v(o)._overflowWeekday=!0:(D=uc(d,h,y,k,C),o._a[Ve]=D.year,o._dayOfYear=D.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function Pa(o){if(o._f===e.ISO_8601){pc(o);return}if(o._f===e.RFC_2822){gc(o);return}o._a=[],v(o).empty=!0;var l=""+o._i,d,h,y,k,C,D=l.length,H=0,te,je;for(y=In(o._f,o._locale).match(tt)||[],je=y.length,d=0;d<je;d++)k=y[d],h=(l.match(xg(k,o))||[])[0],h&&(C=l.substr(0,l.indexOf(h)),C.length>0&&v(o).unusedInput.push(C),l=l.slice(l.indexOf(h)+h.length),H+=h.length),$e[k]?(h?v(o).empty=!1:v(o).unusedTokens.push(k),Sg(k,h,o)):o._strict&&!h&&v(o).unusedTokens.push(k);v(o).charsLeftOver=D-H,l.length>0&&v(o).unusedInput.push(l),o._a[_e]<=12&&v(o).bigHour===!0&&o._a[_e]>0&&(v(o).bigHour=void 0),v(o).parsedDateParts=o._a.slice(0),v(o).meridiem=o._meridiem,o._a[_e]=B0(o._locale,o._a[_e],o._meridiem),te=v(o).era,te!==null&&(o._a[Ve]=o._locale.erasConvertYear(te,o._a[Ve])),Fa(o),Sa(o)}function B0(o,l,d){var h;return d==null?l:o.meridiemHour!=null?o.meridiemHour(l,d):(o.isPM!=null&&(h=o.isPM(d),h&&l<12&&(l+=12),!h&&l===12&&(l=0)),l)}function V0(o){var l,d,h,y,k,C,D=!1,H=o._f.length;if(H===0){v(o).invalidFormat=!0,o._d=new Date(NaN);return}for(y=0;y<H;y++)k=0,C=!1,l=Y({},o),o._useUTC!=null&&(l._useUTC=o._useUTC),l._f=o._f[y],Pa(l),x(l)&&(C=!0),k+=v(l).charsLeftOver,k+=v(l).unusedTokens.length*10,v(l).score=k,D?k<h&&(h=k,d=l):(h==null||k<h||C)&&(h=k,d=l,C&&(D=!0));p(o,d||l)}function Y0(o){if(!o._d){var l=er(o._i),d=l.day===void 0?l.date:l.day;o._a=f([l.year,l.month,d,l.hour,l.minute,l.second,l.millisecond],function(h){return h&&parseInt(h,10)}),Fa(o)}}function U0(o){var l=new W(Sa(wc(o)));return l._nextDay&&(l.add(1,"d"),l._nextDay=void 0),l}function wc(o){var l=o._i,d=o._f;return o._locale=o._locale||Kt(o._l),l===null||d===void 0&&l===""?E({nullInput:!0}):(typeof l=="string"&&(o._i=l=o._locale.preparse(l)),T(l)?new W(Sa(l)):(m(l)?o._d=l:r(d)?V0(o):d?Pa(o):W0(o),x(o)||(o._d=null),o))}function W0(o){var l=o._i;u(l)?o._d=new Date(e.now()):m(l)?o._d=new Date(l.valueOf()):typeof l=="string"?L0(o):r(l)?(o._a=f(l.slice(0),function(d){return parseInt(d,10)}),Fa(o)):i(l)?Y0(o):c(l)?o._d=new Date(l):e.createFromInputFallback(o)}function yc(o,l,d,h,y){var k={};return(l===!0||l===!1)&&(h=l,l=void 0),(d===!0||d===!1)&&(h=d,d=void 0),(i(o)&&a(o)||r(o)&&o.length===0)&&(o=void 0),k._isAMomentObject=!0,k._useUTC=k._isUTC=y,k._l=d,k._i=o,k._f=l,k._strict=h,U0(k)}function fe(o,l,d,h){return yc(o,l,d,h,!1)}var z0=Z("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=fe.apply(null,arguments);return this.isValid()&&o.isValid()?o<this?this:o:E()}),H0=Z("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=fe.apply(null,arguments);return this.isValid()&&o.isValid()?o>this?this:o:E()});function bc(o,l){var d,h;if(l.length===1&&r(l[0])&&(l=l[0]),!l.length)return fe();for(d=l[0],h=1;h<l.length;++h)(!l[h].isValid()||l[h][o](d))&&(d=l[h]);return d}function G0(){var o=[].slice.call(arguments,0);return bc("isBefore",o)}function q0(){var o=[].slice.call(arguments,0);return bc("isAfter",o)}var j0=function(){return Date.now?Date.now():+new Date},Kr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function K0(o){var l,d=!1,h,y=Kr.length;for(l in o)if(s(o,l)&&!(ve.call(Kr,l)!==-1&&(o[l]==null||!isNaN(o[l]))))return!1;for(h=0;h<y;++h)if(o[Kr[h]]){if(d)return!1;parseFloat(o[Kr[h]])!==ee(o[Kr[h]])&&(d=!0)}return!0}function X0(){return this._isValid}function Z0(){return Ft(NaN)}function Ui(o){var l=er(o),d=l.year||0,h=l.quarter||0,y=l.month||0,k=l.week||l.isoWeek||0,C=l.day||0,D=l.hour||0,H=l.minute||0,te=l.second||0,je=l.millisecond||0;this._isValid=K0(l),this._milliseconds=+je+te*1e3+H*6e4+D*1e3*60*60,this._days=+C+k*7,this._months=+y+h*3+d*12,this._data={},this._locale=Kt(),this._bubble()}function Wi(o){return o instanceof Ui}function Ia(o){return o<0?Math.round(-1*o)*-1:Math.round(o)}function J0(o,l,d){var h=Math.min(o.length,l.length),y=Math.abs(o.length-l.length),k=0,C;for(C=0;C<h;C++)(d&&o[C]!==l[C]||!d&&ee(o[C])!==ee(l[C]))&&k++;return k+y}function kc(o,l){b(o,0,0,function(){var d=this.utcOffset(),h="+";return d<0&&(d=-d,h="-"),h+ke(~~(d/60),2)+l+ke(~~d%60,2)})}kc("Z",":"),kc("ZZ",""),N("Z",Tt),N("ZZ",Tt),ce(["Z","ZZ"],function(o,l,d){d._useUTC=!0,d._tzm=Oa(Tt,o)});var Q0=/([\+\-]|\d\d)/gi;function Oa(o,l){var d=(l||"").match(o),h,y,k;return d===null?null:(h=d[d.length-1]||[],y=(h+"").match(Q0)||["-",0,0],k=+(y[1]*60)+ee(y[2]),k===0?0:y[0]==="+"?k:-k)}function Ra(o,l){var d,h;return l._isUTC?(d=l.clone(),h=(T(o)||m(o)?o.valueOf():fe(o).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+h),e.updateOffset(d,!1),d):fe(o).local()}function Da(o){return-Math.round(o._d.getTimezoneOffset())}e.updateOffset=function(){};function ew(o,l,d){var h=this._offset||0,y;if(!this.isValid())return o!=null?this:NaN;if(o!=null){if(typeof o=="string"){if(o=Oa(Tt,o),o===null)return this}else Math.abs(o)<16&&!d&&(o=o*60);return!this._isUTC&&l&&(y=Da(this)),this._offset=o,this._isUTC=!0,y!=null&&this.add(y,"m"),h!==o&&(!l||this._changeInProgress?Cc(this,Ft(o-h,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?h:Da(this)}function tw(o,l){return o!=null?(typeof o!="string"&&(o=-o),this.utcOffset(o,l),this):-this.utcOffset()}function nw(o){return this.utcOffset(0,o)}function rw(o){return this._isUTC&&(this.utcOffset(0,o),this._isUTC=!1,o&&this.subtract(Da(this),"m")),this}function iw(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var o=Oa(qe,this._i);o!=null?this.utcOffset(o):this.utcOffset(0,!0)}return this}function ow(o){return this.isValid()?(o=o?fe(o).utcOffset():0,(this.utcOffset()-o)%60===0):!1}function sw(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function aw(){if(!u(this._isDSTShifted))return this._isDSTShifted;var o={},l;return Y(o,this),o=wc(o),o._a?(l=o._isUTC?w(o._a):fe(o._a),this._isDSTShifted=this.isValid()&&J0(o._a,l.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function lw(){return this.isValid()?!this._isUTC:!1}function uw(){return this.isValid()?this._isUTC:!1}function Ac(){return this.isValid()?this._isUTC&&this._offset===0:!1}var cw=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,dw=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ft(o,l){var d=o,h=null,y,k,C;return Wi(o)?d={ms:o._milliseconds,d:o._days,M:o._months}:c(o)||!isNaN(+o)?(d={},l?d[l]=+o:d.milliseconds=+o):(h=cw.exec(o))?(y=h[1]==="-"?-1:1,d={y:0,d:ee(h[Dt])*y,h:ee(h[_e])*y,m:ee(h[_t])*y,s:ee(h[qt])*y,ms:ee(Ia(h[Rn]*1e3))*y}):(h=dw.exec(o))?(y=h[1]==="-"?-1:1,d={y:Dn(h[2],y),M:Dn(h[3],y),w:Dn(h[4],y),d:Dn(h[5],y),h:Dn(h[6],y),m:Dn(h[7],y),s:Dn(h[8],y)}):d==null?d={}:typeof d=="object"&&("from"in d||"to"in d)&&(C=fw(fe(d.from),fe(d.to)),d={},d.ms=C.milliseconds,d.M=C.months),k=new Ui(d),Wi(o)&&s(o,"_locale")&&(k._locale=o._locale),Wi(o)&&s(o,"_isValid")&&(k._isValid=o._isValid),k}Ft.fn=Ui.prototype,Ft.invalid=Z0;function Dn(o,l){var d=o&&parseFloat(o.replace(",","."));return(isNaN(d)?0:d)*l}function vc(o,l){var d={};return d.months=l.month()-o.month()+(l.year()-o.year())*12,o.clone().add(d.months,"M").isAfter(l)&&--d.months,d.milliseconds=+l-+o.clone().add(d.months,"M"),d}function fw(o,l){var d;return o.isValid()&&l.isValid()?(l=Ra(l,o),o.isBefore(l)?d=vc(o,l):(d=vc(l,o),d.milliseconds=-d.milliseconds,d.months=-d.months),d):{milliseconds:0,months:0}}function Ec(o,l){return function(d,h){var y,k;return h!==null&&!isNaN(+h)&&(ae(l,"moment()."+l+"(period, number) is deprecated. Please use moment()."+l+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),k=d,d=h,h=k),y=Ft(d,h),Cc(this,y,o),this}}function Cc(o,l,d,h){var y=l._milliseconds,k=Ia(l._days),C=Ia(l._months);o.isValid()&&(h=h??!0,C&&sc(o,zr(o,"Month")+C*d),k&&rc(o,"Date",zr(o,"Date")+k*d),y&&o._d.setTime(o._d.valueOf()+y*d),h&&e.updateOffset(o,k||C))}var hw=Ec(1,"add"),mw=Ec(-1,"subtract");function xc(o){return typeof o=="string"||o instanceof String}function pw(o){return T(o)||m(o)||xc(o)||c(o)||ww(o)||gw(o)||o===null||o===void 0}function gw(o){var l=i(o)&&!a(o),d=!1,h=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],y,k,C=h.length;for(y=0;y<C;y+=1)k=h[y],d=d||s(o,k);return l&&d}function ww(o){var l=r(o),d=!1;return l&&(d=o.filter(function(h){return!c(h)&&xc(o)}).length===0),l&&d}function yw(o){var l=i(o)&&!a(o),d=!1,h=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],y,k;for(y=0;y<h.length;y+=1)k=h[y],d=d||s(o,k);return l&&d}function bw(o,l){var d=o.diff(l,"days",!0);return d<-6?"sameElse":d<-1?"lastWeek":d<0?"lastDay":d<1?"sameDay":d<2?"nextDay":d<7?"nextWeek":"sameElse"}function kw(o,l){arguments.length===1&&(arguments[0]?pw(arguments[0])?(o=arguments[0],l=void 0):yw(arguments[0])&&(l=arguments[0],o=void 0):(o=void 0,l=void 0));var d=o||fe(),h=Ra(d,this).startOf("day"),y=e.calendarFormat(this,h)||"sameElse",k=l&&(de(l[y])?l[y].call(this,d):l[y]);return this.format(k||this.localeData().calendar(y,this,fe(d)))}function Aw(){return new W(this)}function vw(o,l){var d=T(o)?o:fe(o);return this.isValid()&&d.isValid()?(l=He(l)||"millisecond",l==="millisecond"?this.valueOf()>d.valueOf():d.valueOf()<this.clone().startOf(l).valueOf()):!1}function Ew(o,l){var d=T(o)?o:fe(o);return this.isValid()&&d.isValid()?(l=He(l)||"millisecond",l==="millisecond"?this.valueOf()<d.valueOf():this.clone().endOf(l).valueOf()<d.valueOf()):!1}function Cw(o,l,d,h){var y=T(o)?o:fe(o),k=T(l)?l:fe(l);return this.isValid()&&y.isValid()&&k.isValid()?(h=h||"()",(h[0]==="("?this.isAfter(y,d):!this.isBefore(y,d))&&(h[1]===")"?this.isBefore(k,d):!this.isAfter(k,d))):!1}function xw(o,l){var d=T(o)?o:fe(o),h;return this.isValid()&&d.isValid()?(l=He(l)||"millisecond",l==="millisecond"?this.valueOf()===d.valueOf():(h=d.valueOf(),this.clone().startOf(l).valueOf()<=h&&h<=this.clone().endOf(l).valueOf())):!1}function Tw(o,l){return this.isSame(o,l)||this.isAfter(o,l)}function Sw(o,l){return this.isSame(o,l)||this.isBefore(o,l)}function _w(o,l,d){var h,y,k;if(!this.isValid())return NaN;if(h=Ra(o,this),!h.isValid())return NaN;switch(y=(h.utcOffset()-this.utcOffset())*6e4,l=He(l),l){case"year":k=zi(this,h)/12;break;case"month":k=zi(this,h);break;case"quarter":k=zi(this,h)/3;break;case"second":k=(this-h)/1e3;break;case"minute":k=(this-h)/6e4;break;case"hour":k=(this-h)/36e5;break;case"day":k=(this-h-y)/864e5;break;case"week":k=(this-h-y)/6048e5;break;default:k=this-h}return d?k:mt(k)}function zi(o,l){if(o.date()<l.date())return-zi(l,o);var d=(l.year()-o.year())*12+(l.month()-o.month()),h=o.clone().add(d,"months"),y,k;return l-h<0?(y=o.clone().add(d-1,"months"),k=(l-h)/(h-y)):(y=o.clone().add(d+1,"months"),k=(l-h)/(y-h)),-(d+k)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Fw(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Pw(o){if(!this.isValid())return null;var l=o!==!0,d=l?this.clone().utc():this;return d.year()<0||d.year()>9999?hn(d,l?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):de(Date.prototype.toISOString)?l?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",hn(d,"Z")):hn(d,l?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Iw(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var o="moment",l="",d,h,y,k;return this.isLocal()||(o=this.utcOffset()===0?"moment.utc":"moment.parseZone",l="Z"),d="["+o+'("]',h=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",y="-MM-DD[T]HH:mm:ss.SSS",k=l+'[")]',this.format(d+h+y+k)}function Ow(o){o||(o=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var l=hn(this,o);return this.localeData().postformat(l)}function Rw(o,l){return this.isValid()&&(T(o)&&o.isValid()||fe(o).isValid())?Ft({to:this,from:o}).locale(this.locale()).humanize(!l):this.localeData().invalidDate()}function Dw(o){return this.from(fe(),o)}function Mw(o,l){return this.isValid()&&(T(o)&&o.isValid()||fe(o).isValid())?Ft({from:this,to:o}).locale(this.locale()).humanize(!l):this.localeData().invalidDate()}function Lw(o){return this.to(fe(),o)}function Tc(o){var l;return o===void 0?this._locale._abbr:(l=Kt(o),l!=null&&(this._locale=l),this)}var Sc=Z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(o){return o===void 0?this.localeData():this.locale(o)});function _c(){return this._locale}var Hi=1e3,ir=60*Hi,Gi=60*ir,Fc=(365*400+97)*24*Gi;function or(o,l){return(o%l+l)%l}function Pc(o,l,d){return o<100&&o>=0?new Date(o+400,l,d)-Fc:new Date(o,l,d).valueOf()}function Ic(o,l,d){return o<100&&o>=0?Date.UTC(o+400,l,d)-Fc:Date.UTC(o,l,d)}function Nw(o){var l,d;if(o=He(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?Ic:Pc,o){case"year":l=d(this.year(),0,1);break;case"quarter":l=d(this.year(),this.month()-this.month()%3,1);break;case"month":l=d(this.year(),this.month(),1);break;case"week":l=d(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":l=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":l=d(this.year(),this.month(),this.date());break;case"hour":l=this._d.valueOf(),l-=or(l+(this._isUTC?0:this.utcOffset()*ir),Gi);break;case"minute":l=this._d.valueOf(),l-=or(l,ir);break;case"second":l=this._d.valueOf(),l-=or(l,Hi);break}return this._d.setTime(l),e.updateOffset(this,!0),this}function $w(o){var l,d;if(o=He(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?Ic:Pc,o){case"year":l=d(this.year()+1,0,1)-1;break;case"quarter":l=d(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":l=d(this.year(),this.month()+1,1)-1;break;case"week":l=d(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":l=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":l=d(this.year(),this.month(),this.date()+1)-1;break;case"hour":l=this._d.valueOf(),l+=Gi-or(l+(this._isUTC?0:this.utcOffset()*ir),Gi)-1;break;case"minute":l=this._d.valueOf(),l+=ir-or(l,ir)-1;break;case"second":l=this._d.valueOf(),l+=Hi-or(l,Hi)-1;break}return this._d.setTime(l),e.updateOffset(this,!0),this}function Bw(){return this._d.valueOf()-(this._offset||0)*6e4}function Vw(){return Math.floor(this.valueOf()/1e3)}function Yw(){return new Date(this.valueOf())}function Uw(){var o=this;return[o.year(),o.month(),o.date(),o.hour(),o.minute(),o.second(),o.millisecond()]}function Ww(){var o=this;return{years:o.year(),months:o.month(),date:o.date(),hours:o.hours(),minutes:o.minutes(),seconds:o.seconds(),milliseconds:o.milliseconds()}}function zw(){return this.isValid()?this.toISOString():null}function Hw(){return x(this)}function Gw(){return p({},v(this))}function qw(){return v(this).overflow}function jw(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}b("N",0,0,"eraAbbr"),b("NN",0,0,"eraAbbr"),b("NNN",0,0,"eraAbbr"),b("NNNN",0,0,"eraName"),b("NNNNN",0,0,"eraNarrow"),b("y",["y",1],"yo","eraYear"),b("y",["yy",2],0,"eraYear"),b("y",["yyy",3],0,"eraYear"),b("y",["yyyy",4],0,"eraYear"),N("N",Ma),N("NN",Ma),N("NNN",Ma),N("NNNN",oy),N("NNNNN",sy),ce(["N","NN","NNN","NNNN","NNNNN"],function(o,l,d,h){var y=d._locale.erasParse(o,h,d._strict);y?v(d).era=y:v(d).invalidEra=o}),N("y",ht),N("yy",ht),N("yyy",ht),N("yyyy",ht),N("yo",ay),ce(["y","yy","yyy","yyyy"],Ve),ce(["yo"],function(o,l,d,h){var y;d._locale._eraYearOrdinalRegex&&(y=o.match(d._locale._eraYearOrdinalRegex)),d._locale.eraYearOrdinalParse?l[Ve]=d._locale.eraYearOrdinalParse(o,y):l[Ve]=parseInt(o,10)});function Kw(o,l){var d,h,y,k=this._eras||Kt("en")._eras;for(d=0,h=k.length;d<h;++d){switch(typeof k[d].since){case"string":y=e(k[d].since).startOf("day"),k[d].since=y.valueOf();break}switch(typeof k[d].until){case"undefined":k[d].until=1/0;break;case"string":y=e(k[d].until).startOf("day").valueOf(),k[d].until=y.valueOf();break}}return k}function Xw(o,l,d){var h,y,k=this.eras(),C,D,H;for(o=o.toUpperCase(),h=0,y=k.length;h<y;++h)if(C=k[h].name.toUpperCase(),D=k[h].abbr.toUpperCase(),H=k[h].narrow.toUpperCase(),d)switch(l){case"N":case"NN":case"NNN":if(D===o)return k[h];break;case"NNNN":if(C===o)return k[h];break;case"NNNNN":if(H===o)return k[h];break}else if([C,D,H].indexOf(o)>=0)return k[h]}function Zw(o,l){var d=o.since<=o.until?1:-1;return l===void 0?e(o.since).year():e(o.since).year()+(l-o.offset)*d}function Jw(){var o,l,d,h=this.localeData().eras();for(o=0,l=h.length;o<l;++o)if(d=this.clone().startOf("day").valueOf(),h[o].since<=d&&d<=h[o].until||h[o].until<=d&&d<=h[o].since)return h[o].name;return""}function Qw(){var o,l,d,h=this.localeData().eras();for(o=0,l=h.length;o<l;++o)if(d=this.clone().startOf("day").valueOf(),h[o].since<=d&&d<=h[o].until||h[o].until<=d&&d<=h[o].since)return h[o].narrow;return""}function ey(){var o,l,d,h=this.localeData().eras();for(o=0,l=h.length;o<l;++o)if(d=this.clone().startOf("day").valueOf(),h[o].since<=d&&d<=h[o].until||h[o].until<=d&&d<=h[o].since)return h[o].abbr;return""}function ty(){var o,l,d,h,y=this.localeData().eras();for(o=0,l=y.length;o<l;++o)if(d=y[o].since<=y[o].until?1:-1,h=this.clone().startOf("day").valueOf(),y[o].since<=h&&h<=y[o].until||y[o].until<=h&&h<=y[o].since)return(this.year()-e(y[o].since).year())*d+y[o].offset;return this.year()}function ny(o){return s(this,"_erasNameRegex")||La.call(this),o?this._erasNameRegex:this._erasRegex}function ry(o){return s(this,"_erasAbbrRegex")||La.call(this),o?this._erasAbbrRegex:this._erasRegex}function iy(o){return s(this,"_erasNarrowRegex")||La.call(this),o?this._erasNarrowRegex:this._erasRegex}function Ma(o,l){return l.erasAbbrRegex(o)}function oy(o,l){return l.erasNameRegex(o)}function sy(o,l){return l.erasNarrowRegex(o)}function ay(o,l){return l._eraYearOrdinalRegex||ht}function La(){var o=[],l=[],d=[],h=[],y,k,C,D,H,te=this.eras();for(y=0,k=te.length;y<k;++y)C=Ht(te[y].name),D=Ht(te[y].abbr),H=Ht(te[y].narrow),l.push(C),o.push(D),d.push(H),h.push(C),h.push(D),h.push(H);this._erasRegex=new RegExp("^("+h.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+l.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+d.join("|")+")","i")}b(0,["gg",2],0,function(){return this.weekYear()%100}),b(0,["GG",2],0,function(){return this.isoWeekYear()%100});function qi(o,l){b(0,[o,o.length],0,l)}qi("gggg","weekYear"),qi("ggggg","weekYear"),qi("GGGG","isoWeekYear"),qi("GGGGG","isoWeekYear"),N("G",Rt),N("g",Rt),N("GG",R,Ge),N("gg",R,Ge),N("GGGG",xt,S),N("gggg",xt,S),N("GGGGG",nt,O),N("ggggg",nt,O),Ur(["gggg","ggggg","GGGG","GGGGG"],function(o,l,d,h){l[h.substr(0,2)]=ee(o)}),Ur(["gg","GG"],function(o,l,d,h){l[h]=e.parseTwoDigitYear(o)});function ly(o){return Oc.call(this,o,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function uy(o){return Oc.call(this,o,this.isoWeek(),this.isoWeekday(),1,4)}function cy(){return jt(this.year(),1,4)}function dy(){return jt(this.isoWeekYear(),1,4)}function fy(){var o=this.localeData()._week;return jt(this.year(),o.dow,o.doy)}function hy(){var o=this.localeData()._week;return jt(this.weekYear(),o.dow,o.doy)}function Oc(o,l,d,h,y){var k;return o==null?Gr(this,h,y).year:(k=jt(o,h,y),l>k&&(l=k),my.call(this,o,l,d,h,y))}function my(o,l,d,h,y){var k=uc(o,l,d,h,y),C=Hr(k.year,0,k.dayOfYear);return this.year(C.getUTCFullYear()),this.month(C.getUTCMonth()),this.date(C.getUTCDate()),this}b("Q",0,"Qo","quarter"),N("Q",Mi),ce("Q",function(o,l){l[Gt]=(ee(o)-1)*3});function py(o){return o==null?Math.ceil((this.month()+1)/3):this.month((o-1)*3+this.month()%3)}b("D",["DD",2],"Do","date"),N("D",R,tr),N("DD",R,Ge),N("Do",function(o,l){return o?l._dayOfMonthOrdinalParse||l._ordinalParse:l._dayOfMonthOrdinalParseLenient}),ce(["D","DD"],Dt),ce("Do",function(o,l){l[Dt]=ee(o.match(R)[0])});var Rc=nr("Date",!0);b("DDD",["DDDD",3],"DDDo","dayOfYear"),N("DDD",Be),N("DDDD",Li),ce(["DDD","DDDD"],function(o,l,d){d._dayOfYear=ee(o)});function gy(o){var l=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return o==null?l:this.add(o-l,"d")}b("m",["mm",2],0,"minute"),N("m",R,ka),N("mm",R,Ge),ce(["m","mm"],_t);var wy=nr("Minutes",!1);b("s",["ss",2],0,"second"),N("s",R,ka),N("ss",R,Ge),ce(["s","ss"],qt);var yy=nr("Seconds",!1);b("S",0,0,function(){return~~(this.millisecond()/100)}),b(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),b(0,["SSS",3],0,"millisecond"),b(0,["SSSS",4],0,function(){return this.millisecond()*10}),b(0,["SSSSS",5],0,function(){return this.millisecond()*100}),b(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),b(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),b(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),b(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),N("S",Be,Mi),N("SS",Be,Ge),N("SSS",Be,Li);var gn,Dc;for(gn="SSSS";gn.length<=9;gn+="S")N(gn,ht);function by(o,l){l[Rn]=ee(("0."+o)*1e3)}for(gn="S";gn.length<=9;gn+="S")ce(gn,by);Dc=nr("Milliseconds",!1),b("z",0,0,"zoneAbbr"),b("zz",0,0,"zoneName");function ky(){return this._isUTC?"UTC":""}function Ay(){return this._isUTC?"Coordinated Universal Time":""}var I=W.prototype;I.add=hw,I.calendar=kw,I.clone=Aw,I.diff=_w,I.endOf=$w,I.format=Ow,I.from=Rw,I.fromNow=Dw,I.to=Mw,I.toNow=Lw,I.get=Ig,I.invalidAt=qw,I.isAfter=vw,I.isBefore=Ew,I.isBetween=Cw,I.isSame=xw,I.isSameOrAfter=Tw,I.isSameOrBefore=Sw,I.isValid=Hw,I.lang=Sc,I.locale=Tc,I.localeData=_c,I.max=H0,I.min=z0,I.parsingFlags=Gw,I.set=Og,I.startOf=Nw,I.subtract=mw,I.toArray=Uw,I.toObject=Ww,I.toDate=Yw,I.toISOString=Pw,I.inspect=Iw,typeof Symbol<"u"&&Symbol.for!=null&&(I[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),I.toJSON=zw,I.toString=Fw,I.unix=Vw,I.valueOf=Bw,I.creationData=jw,I.eraName=Jw,I.eraNarrow=Qw,I.eraAbbr=ey,I.eraYear=ty,I.year=nc,I.isLeapYear=Pg,I.weekYear=ly,I.isoWeekYear=uy,I.quarter=I.quarters=py,I.month=ac,I.daysInMonth=Yg,I.week=I.weeks=Kg,I.isoWeek=I.isoWeeks=Xg,I.weeksInYear=fy,I.weeksInWeekYear=hy,I.isoWeeksInYear=cy,I.isoWeeksInISOWeekYear=dy,I.date=Rc,I.day=I.days=u0,I.weekday=c0,I.isoWeekday=d0,I.dayOfYear=gy,I.hour=I.hours=y0,I.minute=I.minutes=wy,I.second=I.seconds=yy,I.millisecond=I.milliseconds=Dc,I.utcOffset=ew,I.utc=nw,I.local=rw,I.parseZone=iw,I.hasAlignedHourOffset=ow,I.isDST=sw,I.isLocal=lw,I.isUtcOffset=uw,I.isUtc=Ac,I.isUTC=Ac,I.zoneAbbr=ky,I.zoneName=Ay,I.dates=Z("dates accessor is deprecated. Use date instead.",Rc),I.months=Z("months accessor is deprecated. Use month instead",ac),I.years=Z("years accessor is deprecated. Use year instead",nc),I.zone=Z("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",tw),I.isDSTShifted=Z("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",aw);function vy(o){return fe(o*1e3)}function Ey(){return fe.apply(null,arguments).parseZone()}function Mc(o){return o}var se=G.prototype;se.calendar=ye,se.longDateFormat=On,se.invalidDate=zt,se.ordinal=wa,se.preparse=Mc,se.postformat=Mc,se.relativeTime=Oi,se.pastFuture=Ri,se.set=ie,se.eras=Kw,se.erasParse=Xw,se.erasConvertYear=Zw,se.erasAbbrRegex=ry,se.erasNameRegex=ny,se.erasNarrowRegex=iy,se.months=Ng,se.monthsShort=$g,se.monthsParse=Vg,se.monthsRegex=Wg,se.monthsShortRegex=Ug,se.week=Hg,se.firstDayOfYear=jg,se.firstDayOfWeek=qg,se.weekdays=i0,se.weekdaysMin=s0,se.weekdaysShort=o0,se.weekdaysParse=l0,se.weekdaysRegex=f0,se.weekdaysShortRegex=h0,se.weekdaysMinRegex=m0,se.isPM=g0,se.meridiem=b0;function ji(o,l,d,h){var y=Kt(),k=w().set(h,l);return y[d](k,o)}function Lc(o,l,d){if(c(o)&&(l=o,o=void 0),o=o||"",l!=null)return ji(o,l,d,"month");var h,y=[];for(h=0;h<12;h++)y[h]=ji(o,h,d,"month");return y}function Na(o,l,d,h){typeof o=="boolean"?(c(l)&&(d=l,l=void 0),l=l||""):(l=o,d=l,o=!1,c(l)&&(d=l,l=void 0),l=l||"");var y=Kt(),k=o?y._week.dow:0,C,D=[];if(d!=null)return ji(l,(d+k)%7,h,"day");for(C=0;C<7;C++)D[C]=ji(l,(C+k)%7,h,"day");return D}function Cy(o,l){return Lc(o,l,"months")}function xy(o,l){return Lc(o,l,"monthsShort")}function Ty(o,l,d){return Na(o,l,d,"weekdays")}function Sy(o,l,d){return Na(o,l,d,"weekdaysShort")}function _y(o,l,d){return Na(o,l,d,"weekdaysMin")}pn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(o){var l=o%10,d=ee(o%100/10)===1?"th":l===1?"st":l===2?"nd":l===3?"rd":"th";return o+d}}),e.lang=Z("moment.lang is deprecated. Use moment.locale instead.",pn),e.langData=Z("moment.langData is deprecated. Use moment.localeData instead.",Kt);var Xt=Math.abs;function Fy(){var o=this._data;return this._milliseconds=Xt(this._milliseconds),this._days=Xt(this._days),this._months=Xt(this._months),o.milliseconds=Xt(o.milliseconds),o.seconds=Xt(o.seconds),o.minutes=Xt(o.minutes),o.hours=Xt(o.hours),o.months=Xt(o.months),o.years=Xt(o.years),this}function Nc(o,l,d,h){var y=Ft(l,d);return o._milliseconds+=h*y._milliseconds,o._days+=h*y._days,o._months+=h*y._months,o._bubble()}function Py(o,l){return Nc(this,o,l,1)}function Iy(o,l){return Nc(this,o,l,-1)}function $c(o){return o<0?Math.floor(o):Math.ceil(o)}function Oy(){var o=this._milliseconds,l=this._days,d=this._months,h=this._data,y,k,C,D,H;return o>=0&&l>=0&&d>=0||o<=0&&l<=0&&d<=0||(o+=$c($a(d)+l)*864e5,l=0,d=0),h.milliseconds=o%1e3,y=mt(o/1e3),h.seconds=y%60,k=mt(y/60),h.minutes=k%60,C=mt(k/60),h.hours=C%24,l+=mt(C/24),H=mt(Bc(l)),d+=H,l-=$c($a(H)),D=mt(d/12),d%=12,h.days=l,h.months=d,h.years=D,this}function Bc(o){return o*4800/146097}function $a(o){return o*146097/4800}function Ry(o){if(!this.isValid())return NaN;var l,d,h=this._milliseconds;if(o=He(o),o==="month"||o==="quarter"||o==="year")switch(l=this._days+h/864e5,d=this._months+Bc(l),o){case"month":return d;case"quarter":return d/3;case"year":return d/12}else switch(l=this._days+Math.round($a(this._months)),o){case"week":return l/7+h/6048e5;case"day":return l+h/864e5;case"hour":return l*24+h/36e5;case"minute":return l*1440+h/6e4;case"second":return l*86400+h/1e3;case"millisecond":return Math.floor(l*864e5)+h;default:throw new Error("Unknown unit "+o)}}function Zt(o){return function(){return this.as(o)}}var Vc=Zt("ms"),Dy=Zt("s"),My=Zt("m"),Ly=Zt("h"),Ny=Zt("d"),$y=Zt("w"),By=Zt("M"),Vy=Zt("Q"),Yy=Zt("y"),Uy=Vc;function Wy(){return Ft(this)}function zy(o){return o=He(o),this.isValid()?this[o+"s"]():NaN}function Mn(o){return function(){return this.isValid()?this._data[o]:NaN}}var Hy=Mn("milliseconds"),Gy=Mn("seconds"),qy=Mn("minutes"),jy=Mn("hours"),Ky=Mn("days"),Xy=Mn("months"),Zy=Mn("years");function Jy(){return mt(this.days()/7)}var Jt=Math.round,sr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Qy(o,l,d,h,y){return y.relativeTime(l||1,!!d,o,h)}function eb(o,l,d,h){var y=Ft(o).abs(),k=Jt(y.as("s")),C=Jt(y.as("m")),D=Jt(y.as("h")),H=Jt(y.as("d")),te=Jt(y.as("M")),je=Jt(y.as("w")),Qt=Jt(y.as("y")),wn=k<=d.ss&&["s",k]||k<d.s&&["ss",k]||C<=1&&["m"]||C<d.m&&["mm",C]||D<=1&&["h"]||D<d.h&&["hh",D]||H<=1&&["d"]||H<d.d&&["dd",H];return d.w!=null&&(wn=wn||je<=1&&["w"]||je<d.w&&["ww",je]),wn=wn||te<=1&&["M"]||te<d.M&&["MM",te]||Qt<=1&&["y"]||["yy",Qt],wn[2]=l,wn[3]=+o>0,wn[4]=h,Qy.apply(null,wn)}function tb(o){return o===void 0?Jt:typeof o=="function"?(Jt=o,!0):!1}function nb(o,l){return sr[o]===void 0?!1:l===void 0?sr[o]:(sr[o]=l,o==="s"&&(sr.ss=l-1),!0)}function rb(o,l){if(!this.isValid())return this.localeData().invalidDate();var d=!1,h=sr,y,k;return typeof o=="object"&&(l=o,o=!1),typeof o=="boolean"&&(d=o),typeof l=="object"&&(h=Object.assign({},sr,l),l.s!=null&&l.ss==null&&(h.ss=l.s-1)),y=this.localeData(),k=eb(this,!d,h,y),d&&(k=y.pastFuture(+this,k)),y.postformat(k)}var Ba=Math.abs;function ar(o){return(o>0)-(o<0)||+o}function Ki(){if(!this.isValid())return this.localeData().invalidDate();var o=Ba(this._milliseconds)/1e3,l=Ba(this._days),d=Ba(this._months),h,y,k,C,D=this.asSeconds(),H,te,je,Qt;return D?(h=mt(o/60),y=mt(h/60),o%=60,h%=60,k=mt(d/12),d%=12,C=o?o.toFixed(3).replace(/\.?0+$/,""):"",H=D<0?"-":"",te=ar(this._months)!==ar(D)?"-":"",je=ar(this._days)!==ar(D)?"-":"",Qt=ar(this._milliseconds)!==ar(D)?"-":"",H+"P"+(k?te+k+"Y":"")+(d?te+d+"M":"")+(l?je+l+"D":"")+(y||h||o?"T":"")+(y?Qt+y+"H":"")+(h?Qt+h+"M":"")+(o?Qt+C+"S":"")):"P0D"}var re=Ui.prototype;re.isValid=X0,re.abs=Fy,re.add=Py,re.subtract=Iy,re.as=Ry,re.asMilliseconds=Vc,re.asSeconds=Dy,re.asMinutes=My,re.asHours=Ly,re.asDays=Ny,re.asWeeks=$y,re.asMonths=By,re.asQuarters=Vy,re.asYears=Yy,re.valueOf=Uy,re._bubble=Oy,re.clone=Wy,re.get=zy,re.milliseconds=Hy,re.seconds=Gy,re.minutes=qy,re.hours=jy,re.days=Ky,re.weeks=Jy,re.months=Xy,re.years=Zy,re.humanize=rb,re.toISOString=Ki,re.toString=Ki,re.toJSON=Ki,re.locale=Tc,re.localeData=_c,re.toIsoString=Z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ki),re.lang=Sc,b("X",0,0,"unix"),b("x",0,0,"valueOf"),N("x",Rt),N("X",St),ce("X",function(o,l,d){d._d=new Date(parseFloat(o)*1e3)}),ce("x",function(o,l,d){d._d=new Date(ee(o))});return e.version="2.30.1",n(fe),e.fn=I,e.min=G0,e.max=q0,e.now=j0,e.utc=w,e.unix=vy,e.months=Cy,e.isDate=m,e.locale=pn,e.invalid=E,e.duration=Ft,e.isMoment=T,e.weekdays=Ty,e.parseZone=Ey,e.localeData=Kt,e.isDuration=Wi,e.monthsShort=xy,e.weekdaysMin=_y,e.defineLocale=Ta,e.updateLocale=E0,e.locales=C0,e.weekdaysShort=Sy,e.normalizeUnits=He,e.relativeTimeRounding=tb,e.relativeTimeThreshold=nb,e.calendarFormat=bw,e.prototype=I,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}))});var qc=U((W2,Gc)=>{var ur=1e3,cr=ur*60,dr=cr*60,Nn=dr*24,cb=Nn*7,db=Nn*365.25;Gc.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return fb(t);if(n==="number"&&isFinite(t))return e.long?mb(t):hb(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function fb(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*db;case"weeks":case"week":case"w":return n*cb;case"days":case"day":case"d":return n*Nn;case"hours":case"hour":case"hrs":case"hr":case"h":return n*dr;case"minutes":case"minute":case"mins":case"min":case"m":return n*cr;case"seconds":case"second":case"secs":case"sec":case"s":return n*ur;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function hb(t){var e=Math.abs(t);return e>=Nn?Math.round(t/Nn)+"d":e>=dr?Math.round(t/dr)+"h":e>=cr?Math.round(t/cr)+"m":e>=ur?Math.round(t/ur)+"s":t+"ms"}function mb(t){var e=Math.abs(t);return e>=Nn?Zi(t,e,Nn,"day"):e>=dr?Zi(t,e,dr,"hour"):e>=cr?Zi(t,e,cr,"minute"):e>=ur?Zi(t,e,ur,"second"):t+" ms"}function Zi(t,e,n,r){var i=e>=n*1.5;return Math.round(t/n)+" "+r+(i?"s":"")}});var Ua=U((z2,jc)=>{function pb(t){n.debug=n,n.default=n,n.coerce=c,n.disable=a,n.enable=i,n.enabled=u,n.humanize=qc(),n.destroy=m,Object.keys(t).forEach(f=>{n[f]=t[f]}),n.names=[],n.skips=[],n.formatters={};function e(f){let p=0;for(let w=0;w<f.length;w++)p=(p<<5)-p+f.charCodeAt(w),p|=0;return n.colors[Math.abs(p)%n.colors.length]}n.selectColor=e;function n(f){let p,w=null,g,v;function F(...x){if(!F.enabled)return;let E=F,_=Number(new Date),P=_-(p||_);E.diff=P,E.prev=p,E.curr=_,p=_,x[0]=n.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let Y=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(T,ne)=>{if(T==="%%")return"%";Y++;let Z=n.formatters[ne];if(typeof Z=="function"){let J=x[Y];T=Z.call(E,J),x.splice(Y,1),Y--}return T}),n.formatArgs.call(E,x),(E.log||n.log).apply(E,x)}return F.namespace=f,F.useColors=n.useColors(),F.color=n.selectColor(f),F.extend=r,F.destroy=n.destroy,Object.defineProperty(F,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(g!==n.namespaces&&(g=n.namespaces,v=n.enabled(f)),v),set:x=>{w=x}}),typeof n.init=="function"&&n.init(F),F}function r(f,p){let w=n(this.namespace+(typeof p>"u"?":":p)+f);return w.log=this.log,w}function i(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];let p=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let w of p)w[0]==="-"?n.skips.push(w.slice(1)):n.names.push(w)}function s(f,p){let w=0,g=0,v=-1,F=0;for(;w<f.length;)if(g<p.length&&(p[g]===f[w]||p[g]==="*"))p[g]==="*"?(v=g,F=w,g++):(w++,g++);else if(v!==-1)g=v+1,F++,w=F;else return!1;for(;g<p.length&&p[g]==="*";)g++;return g===p.length}function a(){let f=[...n.names,...n.skips.map(p=>"-"+p)].join(",");return n.enable(""),f}function u(f){for(let p of n.skips)if(s(f,p))return!1;for(let p of n.names)if(s(f,p))return!0;return!1}function c(f){return f instanceof Error?f.stack||f.message:f}function m(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}jc.exports=pb});var Kc=U((rt,Ji)=>{rt.formatArgs=wb;rt.save=yb;rt.load=bb;rt.useColors=gb;rt.storage=kb();rt.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();rt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function gb(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function wb(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Ji.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),t.splice(r,0,e)}rt.log=console.debug||console.log||(()=>{});function yb(t){try{t?rt.storage.setItem("debug",t):rt.storage.removeItem("debug")}catch{}}function bb(){let t;try{t=rt.storage.getItem("debug")||rt.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function kb(){try{return localStorage}catch{}}Ji.exports=Ua()(rt);var{formatters:Ab}=Ji.exports;Ab.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Zc=U((H2,Xc)=>{"use strict";Xc.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),i=e.indexOf("--");return r!==-1&&(i===-1||r<i)}});var ed=U((G2,Qc)=>{"use strict";var vb=require("os"),Jc=require("tty"),pt=Zc(),{env:Pe}=process,yn;pt("no-color")||pt("no-colors")||pt("color=false")||pt("color=never")?yn=0:(pt("color")||pt("colors")||pt("color=true")||pt("color=always"))&&(yn=1);"FORCE_COLOR"in Pe&&(Pe.FORCE_COLOR==="true"?yn=1:Pe.FORCE_COLOR==="false"?yn=0:yn=Pe.FORCE_COLOR.length===0?1:Math.min(parseInt(Pe.FORCE_COLOR,10),3));function Wa(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function za(t,e){if(yn===0)return 0;if(pt("color=16m")||pt("color=full")||pt("color=truecolor"))return 3;if(pt("color=256"))return 2;if(t&&!e&&yn===void 0)return 0;let n=yn||0;if(Pe.TERM==="dumb")return n;if(process.platform==="win32"){let r=vb.release().split(".");return Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in Pe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(r=>r in Pe)||Pe.CI_NAME==="codeship"?1:n;if("TEAMCITY_VERSION"in Pe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Pe.TEAMCITY_VERSION)?1:0;if(Pe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Pe){let r=parseInt((Pe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Pe.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Pe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Pe.TERM)||"COLORTERM"in Pe?1:n}function Eb(t){let e=za(t,t&&t.isTTY);return Wa(e)}Qc.exports={supportsColor:Eb,stdout:Wa(za(!0,Jc.isatty(1))),stderr:Wa(za(!0,Jc.isatty(2)))}});var nd=U((Ie,eo)=>{var Cb=require("tty"),Qi=require("util");Ie.init=Ib;Ie.log=_b;Ie.formatArgs=Tb;Ie.save=Fb;Ie.load=Pb;Ie.useColors=xb;Ie.destroy=Qi.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ie.colors=[6,2,3,4,5,1];try{let t=ed();t&&(t.stderr||t).level>=2&&(Ie.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ie.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function xb(){return"colors"in Ie.inspectOpts?!!Ie.inspectOpts.colors:Cb.isatty(process.stderr.fd)}function Tb(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,i="\x1B[3"+(r<8?r:"8;5;"+r),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+eo.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=Sb()+e+" "+t[0]}function Sb(){return Ie.inspectOpts.hideDate?"":new Date().toISOString()+" "}function _b(...t){return process.stderr.write(Qi.formatWithOptions(Ie.inspectOpts,...t)+`
`)}function Fb(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function Pb(){return process.env.DEBUG}function Ib(t){t.inspectOpts={};let e=Object.keys(Ie.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=Ie.inspectOpts[e[n]]}eo.exports=Ua()(Ie);var{formatters:td}=eo.exports;td.o=function(t){return this.inspectOpts.colors=this.useColors,Qi.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};td.O=function(t){return this.inspectOpts.colors=this.useColors,Qi.inspect(t,this.inspectOpts)}});var rd=U((q2,Ha)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Ha.exports=Kc():Ha.exports=nd()});var Id=U((PT,Pd)=>{"use strict";function Nt(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function Fd(t,e){for(var n="",r=0,i=-1,s=0,a,u=0;u<=t.length;++u){if(u<t.length)a=t.charCodeAt(u);else{if(a===47)break;a=47}if(a===47){if(!(i===u-1||s===1))if(i!==u-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){c===-1?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=u,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=u,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(i+1,u):n=t.slice(i+1,u),r=u-i-1;i=u,s=0}else a===46&&s!==-1?++s:s=-1}return n}function ak(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}var gr={resolve:function(){for(var e="",n=!1,r,i=arguments.length-1;i>=-1&&!n;i--){var s;i>=0?s=arguments[i]:(r===void 0&&(r=process.cwd()),s=r),Nt(s),s.length!==0&&(e=s+"/"+e,n=s.charCodeAt(0)===47)}return e=Fd(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Nt(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=Fd(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return Nt(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];Nt(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":gr.normalize(e)},relative:function(e,n){if(Nt(e),Nt(n),e===n||(e=gr.resolve(e),n=gr.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,s=i-r,a=1;a<n.length&&n.charCodeAt(a)===47;++a);for(var u=n.length,c=u-a,m=s<c?s:c,f=-1,p=0;p<=m;++p){if(p===m){if(c>m){if(n.charCodeAt(a+p)===47)return n.slice(a+p+1);if(p===0)return n.slice(a+p)}else s>m&&(e.charCodeAt(r+p)===47?f=p:p===0&&(f=0));break}var w=e.charCodeAt(r+p),g=n.charCodeAt(a+p);if(w!==g)break;w===47&&(f=p)}var v="";for(p=r+f+1;p<=i;++p)(p===i||e.charCodeAt(p)===47)&&(v.length===0?v+="..":v+="/..");return v.length>0?v+n.slice(a+f):(a+=f,n.charCodeAt(a)===47&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(Nt(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,i=-1,s=!0,a=e.length-1;a>=1;--a)if(n=e.charCodeAt(a),n===47){if(!s){i=a;break}}else s=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Nt(e);var r=0,i=-1,s=!0,a;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var u=n.length-1,c=-1;for(a=e.length-1;a>=0;--a){var m=e.charCodeAt(a);if(m===47){if(!s){r=a+1;break}}else c===-1&&(s=!1,c=a+1),u>=0&&(m===n.charCodeAt(u)?--u===-1&&(i=a):(u=-1,i=c))}return r===i?i=c:i===-1&&(i=e.length),e.slice(r,i)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!s){r=a+1;break}}else i===-1&&(s=!1,i=a+1);return i===-1?"":e.slice(r,i)}},extname:function(e){Nt(e);for(var n=-1,r=0,i=-1,s=!0,a=0,u=e.length-1;u>=0;--u){var c=e.charCodeAt(u);if(c===47){if(!s){r=u+1;break}continue}i===-1&&(s=!1,i=u+1),c===46?n===-1?n=u:a!==1&&(a=1):n!==-1&&(a=-1)}return n===-1||i===-1||a===0||a===1&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return ak("/",e)},parse:function(e){Nt(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),i=r===47,s;i?(n.root="/",s=1):s=0;for(var a=-1,u=0,c=-1,m=!0,f=e.length-1,p=0;f>=s;--f){if(r=e.charCodeAt(f),r===47){if(!m){u=f+1;break}continue}c===-1&&(m=!1,c=f+1),r===46?a===-1?a=f:p!==1&&(p=1):a!==-1&&(p=-1)}return a===-1||c===-1||p===0||p===1&&a===c-1&&a===u+1?c!==-1&&(u===0&&i?n.base=n.name=e.slice(1,c):n.base=n.name=e.slice(u,c)):(u===0&&i?(n.name=e.slice(1,a),n.base=e.slice(1,c)):(n.name=e.slice(u,a),n.base=e.slice(u,c)),n.ext=e.slice(a,c)),u>0?n.dir=e.slice(0,u-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};gr.posix=gr;Pd.exports=gr});var ih=U((qI,rh)=>{"use strict";var Mo=Object.prototype.hasOwnProperty,nh=Object.prototype.toString,Xf=Object.defineProperty,Zf=Object.getOwnPropertyDescriptor,Jf=function(e){return typeof Array.isArray=="function"?Array.isArray(e):nh.call(e)==="[object Array]"},Qf=function(e){if(!e||nh.call(e)!=="[object Object]")return!1;var n=Mo.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Mo.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Mo.call(e,i)},eh=function(e,n){Xf&&n.name==="__proto__"?Xf(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},th=function(e,n){if(n==="__proto__")if(Mo.call(e,n)){if(Zf)return Zf(e,n).value}else return;return e[n]};rh.exports=function t(){var e,n,r,i,s,a,u=arguments[0],c=1,m=arguments.length,f=!1;for(typeof u=="boolean"&&(f=u,u=arguments[1]||{},c=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});c<m;++c)if(e=arguments[c],e!=null)for(n in e)r=th(u,n),i=th(e,n),u!==i&&(f&&i&&(Qf(i)||(s=Jf(i)))?(s?(s=!1,a=r&&Jf(r)?r:[]):a=r&&Qf(r)?r:{},eh(u,{name:n,newValue:t(f,a,i)})):typeof i<"u"&&eh(u,{name:n,newValue:i}));return u}});var $h=U((Zo,Nh)=>{(function(t,e){typeof Zo=="object"&&typeof Nh<"u"?e(Zo):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(Zo,(function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=x=>{if(typeof x!="string")throw new TypeError("Invalid argument expected string");let E=x.match(e);if(!E)throw new Error(`Invalid argument not valid semver ('${x}' received)`);return E.shift(),E},r=x=>x==="*"||x==="x"||x==="X",i=x=>{let E=parseInt(x,10);return isNaN(E)?x:E},s=(x,E)=>typeof x!=typeof E?[String(x),String(E)]:[x,E],a=(x,E)=>{if(r(x)||r(E))return 0;let[_,P]=s(i(x),i(E));return _>P?1:_<P?-1:0},u=(x,E)=>{for(let _=0;_<Math.max(x.length,E.length);_++){let P=a(x[_]||"0",E[_]||"0");if(P!==0)return P}return 0},c=(x,E)=>{let _=n(x),P=n(E),Y=_.pop(),W=P.pop(),T=u(_,P);return T!==0?T:Y&&W?u(Y.split("."),W.split(".")):Y||W?Y?-1:1:0},m=(x,E,_)=>{w(_);let P=c(x,E);return f[_].includes(P)},f={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},p=Object.keys(f),w=x=>{if(typeof x!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof x}`);if(p.indexOf(x)===-1)throw new Error(`Invalid operator, expected one of ${p.join("|")}`)},g=(x,E)=>{if(E=E.replace(/([><=]+)\s+/g,"$1"),E.includes("||"))return E.split("||").some(oe=>g(x,oe));if(E.includes(" - ")){let[oe,ye]=E.split(" - ",2);return g(x,`>=${oe} <=${ye}`)}else if(E.includes(" "))return E.trim().replace(/\s{2,}/g," ").split(" ").every(oe=>g(x,oe));let _=E.match(/^([<>=~^]+)/),P=_?_[1]:"=";if(P!=="^"&&P!=="~")return m(x,E,P);let[Y,W,T,,ne]=n(x),[Z,J,ae,,de]=n(E),ie=[Y,W,T],V=[Z,J??"x",ae??"x"];if(de&&(!ne||u(ie,V)!==0||u(ne.split("."),de.split("."))===-1))return!1;let G=V.findIndex(oe=>oe!=="0")+1,z=P==="~"?2:G>1?G:1;return!(u(ie.slice(0,z),V.slice(0,z))!==0||u(ie.slice(z),V.slice(z))===-1)},v=x=>typeof x=="string"&&/^[v\d]/.test(x)&&e.test(x),F=x=>typeof x=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(x);t.compare=m,t.compareVersions=c,t.satisfies=g,t.validate=v,t.validateStrict=F}))});var om=U((wu,yu)=>{(function(t,e,n){typeof wu=="object"?(yu.exports=n(),yu.exports.default=n()):typeof define=="function"&&define.amd?define(n):e[t]=n()})("slugify",wu,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xA2":"cent","\xA3":"pound","\xA4":"currency","\xA5":"yen","\xA9":"(c)","\xAA":"a","\xAE":"(r)","\xBA":"o","\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xC6":"AE","\xC7":"C","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xD0":"D","\xD1":"N","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xDD":"Y","\xDE":"TH","\xDF":"ss","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xE6":"ae","\xE7":"c","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xF0":"d","\xF1":"n","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xFD":"y","\xFE":"th","\xFF":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010C":"C","\u010D":"c","\u010E":"D","\u010F":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011A":"E","\u011B":"e","\u011E":"G","\u011F":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012A":"i","\u012B":"i","\u012E":"I","\u012F":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013B":"L","\u013C":"l","\u013D":"L","\u013E":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014C":"O","\u014D":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015A":"S","\u015B":"s","\u015E":"S","\u015F":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016A":"u","\u016B":"u","\u016E":"U","\u016F":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017A":"z","\u017B":"Z","\u017C":"z","\u017D":"Z","\u017E":"z","\u018F":"E","\u0192":"f","\u01A0":"O","\u01A1":"o","\u01AF":"U","\u01B0":"u","\u01C8":"LJ","\u01C9":"lj","\u01CB":"NJ","\u01CC":"nj","\u0218":"S","\u0219":"s","\u021A":"T","\u021B":"t","\u0259":"e","\u02DA":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038A":"I","\u038C":"O","\u038E":"Y","\u038F":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039A":"K","\u039B":"L","\u039C":"M","\u039D":"N","\u039E":"3","\u039F":"O","\u03A0":"P","\u03A1":"R","\u03A3":"S","\u03A4":"T","\u03A5":"Y","\u03A6":"F","\u03A7":"X","\u03A8":"PS","\u03A9":"W","\u03AA":"I","\u03AB":"Y","\u03AC":"a","\u03AD":"e","\u03AE":"h","\u03AF":"i","\u03B0":"y","\u03B1":"a","\u03B2":"b","\u03B3":"g","\u03B4":"d","\u03B5":"e","\u03B6":"z","\u03B7":"h","\u03B8":"8","\u03B9":"i","\u03BA":"k","\u03BB":"l","\u03BC":"m","\u03BD":"n","\u03BE":"3","\u03BF":"o","\u03C0":"p","\u03C1":"r","\u03C2":"s","\u03C3":"s","\u03C4":"t","\u03C5":"y","\u03C6":"f","\u03C7":"x","\u03C8":"ps","\u03C9":"w","\u03CA":"i","\u03CB":"y","\u03CC":"o","\u03CD":"y","\u03CE":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040A":"NJ","\u040B":"C","\u040F":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041A":"K","\u041B":"L","\u041C":"M","\u041D":"N","\u041E":"O","\u041F":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042A":"U","\u042B":"Y","\u042C":"","\u042D":"E","\u042E":"Yu","\u042F":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043A":"k","\u043B":"l","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044A":"u","\u044B":"y","\u044C":"","\u044D":"e","\u044E":"yu","\u044F":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045A":"nj","\u045B":"c","\u045D":"u","\u045F":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049A":"KH","\u049B":"kh","\u04A2":"NG","\u04A3":"ng","\u04AE":"UE","\u04AF":"ue","\u04B0":"U","\u04B1":"u","\u04BA":"H","\u04BB":"h","\u04D8":"AE","\u04D9":"ae","\u04E8":"OE","\u04E9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E'","\u0538":"Y'","\u0539":"T'","\u053A":"JH","\u053B":"I","\u053C":"L","\u053D":"X","\u053E":"C'","\u053F":"K","\u0540":"H","\u0541":"D'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054A":"P","\u054B":"J","\u054C":"R'","\u054D":"S","\u054E":"V","\u054F":"T","\u0550":"R","\u0551":"C","\u0553":"P'","\u0554":"Q'","\u0555":"O''","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062A":"t","\u062B":"th","\u062C":"j","\u062D":"h","\u062E":"kh","\u062F":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063A":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064A":"y","\u064B":"an","\u064C":"on","\u064D":"en","\u064E":"a","\u064F":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067E":"p","\u0686":"ch","\u0698":"zh","\u06A9":"k","\u06AF":"g","\u06CC":"y","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u0E3F":"baht","\u10D0":"a","\u10D1":"b","\u10D2":"g","\u10D3":"d","\u10D4":"e","\u10D5":"v","\u10D6":"z","\u10D7":"t","\u10D8":"i","\u10D9":"k","\u10DA":"l","\u10DB":"m","\u10DC":"n","\u10DD":"o","\u10DE":"p","\u10DF":"zh","\u10E0":"r","\u10E1":"s","\u10E2":"t","\u10E3":"u","\u10E4":"f","\u10E5":"k","\u10E6":"gh","\u10E7":"q","\u10E8":"sh","\u10E9":"ch","\u10EA":"ts","\u10EB":"dz","\u10EC":"ts","\u10ED":"ch","\u10EE":"kh","\u10EF":"j","\u10F0":"h","\u1E62":"S","\u1E63":"s","\u1E80":"W","\u1E81":"w","\u1E82":"W","\u1E83":"w","\u1E84":"W","\u1E85":"w","\u1E9E":"SS","\u1EA0":"A","\u1EA1":"a","\u1EA2":"A","\u1EA3":"a","\u1EA4":"A","\u1EA5":"a","\u1EA6":"A","\u1EA7":"a","\u1EA8":"A","\u1EA9":"a","\u1EAA":"A","\u1EAB":"a","\u1EAC":"A","\u1EAD":"a","\u1EAE":"A","\u1EAF":"a","\u1EB0":"A","\u1EB1":"a","\u1EB2":"A","\u1EB3":"a","\u1EB4":"A","\u1EB5":"a","\u1EB6":"A","\u1EB7":"a","\u1EB8":"E","\u1EB9":"e","\u1EBA":"E","\u1EBB":"e","\u1EBC":"E","\u1EBD":"e","\u1EBE":"E","\u1EBF":"e","\u1EC0":"E","\u1EC1":"e","\u1EC2":"E","\u1EC3":"e","\u1EC4":"E","\u1EC5":"e","\u1EC6":"E","\u1EC7":"e","\u1EC8":"I","\u1EC9":"i","\u1ECA":"I","\u1ECB":"i","\u1ECC":"O","\u1ECD":"o","\u1ECE":"O","\u1ECF":"o","\u1ED0":"O","\u1ED1":"o","\u1ED2":"O","\u1ED3":"o","\u1ED4":"O","\u1ED5":"o","\u1ED6":"O","\u1ED7":"o","\u1ED8":"O","\u1ED9":"o","\u1EDA":"O","\u1EDB":"o","\u1EDC":"O","\u1EDD":"o","\u1EDE":"O","\u1EDF":"o","\u1EE0":"O","\u1EE1":"o","\u1EE2":"O","\u1EE3":"o","\u1EE4":"U","\u1EE5":"u","\u1EE6":"U","\u1EE7":"u","\u1EE8":"U","\u1EE9":"u","\u1EEA":"U","\u1EEB":"u","\u1EEC":"U","\u1EED":"u","\u1EEE":"U","\u1EEF":"u","\u1EF0":"U","\u1EF1":"u","\u1EF2":"Y","\u1EF3":"y","\u1EF4":"Y","\u1EF5":"y","\u1EF6":"Y","\u1EF7":"y","\u1EF8":"Y","\u1EF9":"y","\u2013":"-","\u2018":"'","\u2019":"'","\u201C":"\\"","\u201D":"\\"","\u201E":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20A0":"ecu","\u20A2":"cruzeiro","\u20A3":"french franc","\u20A4":"lira","\u20A5":"mill","\u20A6":"naira","\u20A7":"peseta","\u20A8":"rupee","\u20A9":"won","\u20AA":"new shequel","\u20AB":"dong","\u20AC":"euro","\u20AD":"kip","\u20AE":"tugrik","\u20AF":"drachma","\u20B0":"penny","\u20B1":"peso","\u20B2":"guarani","\u20B3":"austral","\u20B4":"hryvnia","\u20B5":"cedi","\u20B8":"kazakhstani tenge","\u20B9":"indian rupee","\u20BA":"turkish lira","\u20BD":"russian ruble","\u20BF":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221E":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\uFDFC":"rial","\uFEF5":"laa","\uFEF7":"laa","\uFEF9":"lai","\uFEFB":"la"}`),e=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042A":"A","\u042C":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044A":"a","\u044C":"y"},"de":{"\xC4":"AE","\xE4":"ae","\xD6":"OE","\xF6":"oe","\xDC":"UE","\xFC":"ue","\xDF":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221E":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xA2":"centavos","\xA3":"libras","\xA4":"moneda","\u20A3":"francos","\u2211":"suma","\u221E":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xA2":"centime","\xA3":"livre","\xA4":"devise","\u20A3":"franc","\u2211":"somme","\u221E":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xA2":"centavo","\u2211":"soma","\xA3":"libra","\u221E":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xD8":"OE","\xF8":"oe","\xC5":"AA","\xE5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xF8rre end"},"nb":{"&":"og","\xC5":"AA","\xC6":"AE","\xD8":"OE","\xE5":"aa","\xE6":"ae","\xF8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xC5":"AA","\xC4":"AE","\xD6":"OE","\xE5":"aa","\xE4":"ae","\xF6":"oe"}}');function n(r,i){if(typeof r!="string")throw new Error("slugify: string argument expected");i=typeof i=="string"?{replacement:i}:i||{};var s=e[i.locale]||{},a=i.replacement===void 0?"-":i.replacement,u=i.trim===void 0?!0:i.trim,c=r.normalize().split("").reduce(function(m,f){var p=s[f];return p===void 0&&(p=t[f]),p===void 0&&(p=f),p===a&&(p=" "),m+p.replace(i.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return i.strict&&(c=c.replace(/[^A-Za-z0-9\s]/g,"")),u&&(c=c.trim()),c=c.replace(/\s+/g,a),i.lower&&(c=c.toLowerCase()),c}return n.extend=function(r){Object.assign(t,r)},n})});var Ci=U((uL,Am)=>{"use strict";var OE="2.0.0",RE=Number.MAX_SAFE_INTEGER||9007199254740991,DE=16,ME=250,LE=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Am.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:DE,MAX_SAFE_BUILD_LENGTH:ME,MAX_SAFE_INTEGER:RE,RELEASE_TYPES:LE,SEMVER_SPEC_VERSION:OE,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var xi=U((cL,vm)=>{"use strict";var NE=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};vm.exports=NE});var Mr=U((Ut,Em)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:Su,MAX_SAFE_BUILD_LENGTH:$E,MAX_LENGTH:BE}=Ci(),VE=xi();Ut=Em.exports={};var YE=Ut.re=[],UE=Ut.safeRe=[],M=Ut.src=[],WE=Ut.safeSrc=[],L=Ut.t={},zE=0,_u="[a-zA-Z0-9-]",HE=[["\\s",1],["\\d",BE],[_u,$E]],GE=t=>{for(let[e,n]of HE)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},K=(t,e,n)=>{let r=GE(e),i=zE++;VE(t,i,e),L[t]=i,M[i]=e,WE[i]=r,YE[i]=new RegExp(e,n?"g":void 0),UE[i]=new RegExp(r,n?"g":void 0)};K("NUMERICIDENTIFIER","0|[1-9]\\d*");K("NUMERICIDENTIFIERLOOSE","\\d+");K("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${_u}*`);K("MAINVERSION",`(${M[L.NUMERICIDENTIFIER]})\\.(${M[L.NUMERICIDENTIFIER]})\\.(${M[L.NUMERICIDENTIFIER]})`);K("MAINVERSIONLOOSE",`(${M[L.NUMERICIDENTIFIERLOOSE]})\\.(${M[L.NUMERICIDENTIFIERLOOSE]})\\.(${M[L.NUMERICIDENTIFIERLOOSE]})`);K("PRERELEASEIDENTIFIER",`(?:${M[L.NONNUMERICIDENTIFIER]}|${M[L.NUMERICIDENTIFIER]})`);K("PRERELEASEIDENTIFIERLOOSE",`(?:${M[L.NONNUMERICIDENTIFIER]}|${M[L.NUMERICIDENTIFIERLOOSE]})`);K("PRERELEASE",`(?:-(${M[L.PRERELEASEIDENTIFIER]}(?:\\.${M[L.PRERELEASEIDENTIFIER]})*))`);K("PRERELEASELOOSE",`(?:-?(${M[L.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${M[L.PRERELEASEIDENTIFIERLOOSE]})*))`);K("BUILDIDENTIFIER",`${_u}+`);K("BUILD",`(?:\\+(${M[L.BUILDIDENTIFIER]}(?:\\.${M[L.BUILDIDENTIFIER]})*))`);K("FULLPLAIN",`v?${M[L.MAINVERSION]}${M[L.PRERELEASE]}?${M[L.BUILD]}?`);K("FULL",`^${M[L.FULLPLAIN]}$`);K("LOOSEPLAIN",`[v=\\s]*${M[L.MAINVERSIONLOOSE]}${M[L.PRERELEASELOOSE]}?${M[L.BUILD]}?`);K("LOOSE",`^${M[L.LOOSEPLAIN]}$`);K("GTLT","((?:<|>)?=?)");K("XRANGEIDENTIFIERLOOSE",`${M[L.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);K("XRANGEIDENTIFIER",`${M[L.NUMERICIDENTIFIER]}|x|X|\\*`);K("XRANGEPLAIN",`[v=\\s]*(${M[L.XRANGEIDENTIFIER]})(?:\\.(${M[L.XRANGEIDENTIFIER]})(?:\\.(${M[L.XRANGEIDENTIFIER]})(?:${M[L.PRERELEASE]})?${M[L.BUILD]}?)?)?`);K("XRANGEPLAINLOOSE",`[v=\\s]*(${M[L.XRANGEIDENTIFIERLOOSE]})(?:\\.(${M[L.XRANGEIDENTIFIERLOOSE]})(?:\\.(${M[L.XRANGEIDENTIFIERLOOSE]})(?:${M[L.PRERELEASELOOSE]})?${M[L.BUILD]}?)?)?`);K("XRANGE",`^${M[L.GTLT]}\\s*${M[L.XRANGEPLAIN]}$`);K("XRANGELOOSE",`^${M[L.GTLT]}\\s*${M[L.XRANGEPLAINLOOSE]}$`);K("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Su}})(?:\\.(\\d{1,${Su}}))?(?:\\.(\\d{1,${Su}}))?`);K("COERCE",`${M[L.COERCEPLAIN]}(?:$|[^\\d])`);K("COERCEFULL",M[L.COERCEPLAIN]+`(?:${M[L.PRERELEASE]})?(?:${M[L.BUILD]})?(?:$|[^\\d])`);K("COERCERTL",M[L.COERCE],!0);K("COERCERTLFULL",M[L.COERCEFULL],!0);K("LONETILDE","(?:~>?)");K("TILDETRIM",`(\\s*)${M[L.LONETILDE]}\\s+`,!0);Ut.tildeTrimReplace="$1~";K("TILDE",`^${M[L.LONETILDE]}${M[L.XRANGEPLAIN]}$`);K("TILDELOOSE",`^${M[L.LONETILDE]}${M[L.XRANGEPLAINLOOSE]}$`);K("LONECARET","(?:\\^)");K("CARETTRIM",`(\\s*)${M[L.LONECARET]}\\s+`,!0);Ut.caretTrimReplace="$1^";K("CARET",`^${M[L.LONECARET]}${M[L.XRANGEPLAIN]}$`);K("CARETLOOSE",`^${M[L.LONECARET]}${M[L.XRANGEPLAINLOOSE]}$`);K("COMPARATORLOOSE",`^${M[L.GTLT]}\\s*(${M[L.LOOSEPLAIN]})$|^$`);K("COMPARATOR",`^${M[L.GTLT]}\\s*(${M[L.FULLPLAIN]})$|^$`);K("COMPARATORTRIM",`(\\s*)${M[L.GTLT]}\\s*(${M[L.LOOSEPLAIN]}|${M[L.XRANGEPLAIN]})`,!0);Ut.comparatorTrimReplace="$1$2$3";K("HYPHENRANGE",`^\\s*(${M[L.XRANGEPLAIN]})\\s+-\\s+(${M[L.XRANGEPLAIN]})\\s*$`);K("HYPHENRANGELOOSE",`^\\s*(${M[L.XRANGEPLAINLOOSE]})\\s+-\\s+(${M[L.XRANGEPLAINLOOSE]})\\s*$`);K("STAR","(<|>)?=?\\s*\\*");K("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");K("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Es=U((dL,Cm)=>{"use strict";var qE=Object.freeze({loose:!0}),jE=Object.freeze({}),KE=t=>t?typeof t!="object"?qE:t:jE;Cm.exports=KE});var Fu=U((fL,Sm)=>{"use strict";var xm=/^[0-9]+$/,Tm=(t,e)=>{let n=xm.test(t),r=xm.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},XE=(t,e)=>Tm(e,t);Sm.exports={compareIdentifiers:Tm,rcompareIdentifiers:XE}});var Ue=U((hL,Fm)=>{"use strict";var Cs=xi(),{MAX_LENGTH:_m,MAX_SAFE_INTEGER:xs}=Ci(),{safeRe:Ts,t:Ss}=Mr(),ZE=Es(),{compareIdentifiers:Lr}=Fu(),Pu=class t{constructor(e,n){if(n=ZE(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>_m)throw new TypeError(`version is longer than ${_m} characters`);Cs("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?Ts[Ss.LOOSE]:Ts[Ss.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>xs||this.major<0)throw new TypeError("Invalid major version");if(this.minor>xs||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>xs||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<xs)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Cs("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Lr(this.major,e.major)||Lr(this.minor,e.minor)||Lr(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=e.prerelease[n];if(Cs("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Lr(r,i)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],i=e.build[n];if(Cs("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Lr(r,i)}while(++n)}inc(e,n,r){if(e.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){let i=`-${n}`.match(this.options.loose?Ts[Ss.PRERELEASELOOSE]:Ts[Ss.PRERELEASE]);if(!i||i[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),Lr(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Fm.exports=Pu});var Jn=U((mL,Im)=>{"use strict";var Pm=Ue(),JE=(t,e,n=!1)=>{if(t instanceof Pm)return t;try{return new Pm(t,e)}catch(r){if(!n)return null;throw r}};Im.exports=JE});var Rm=U((pL,Om)=>{"use strict";var QE=Jn(),eC=(t,e)=>{let n=QE(t,e);return n?n.version:null};Om.exports=eC});var Mm=U((gL,Dm)=>{"use strict";var tC=Jn(),nC=(t,e)=>{let n=tC(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};Dm.exports=nC});var $m=U((wL,Nm)=>{"use strict";var Lm=Ue(),rC=(t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new Lm(t instanceof Lm?t.version:t,n).inc(e,r,i).version}catch{return null}};Nm.exports=rC});var Ym=U((yL,Vm)=>{"use strict";var Bm=Jn(),iC=(t,e)=>{let n=Bm(t,null,!0),r=Bm(e,null,!0),i=n.compare(r);if(i===0)return null;let s=i>0,a=s?n:r,u=s?r:n,c=!!a.prerelease.length;if(!!u.prerelease.length&&!c){if(!u.patch&&!u.minor)return"major";if(u.compareMain(a)===0)return u.minor&&!u.patch?"minor":"patch"}let f=c?"pre":"";return n.major!==r.major?f+"major":n.minor!==r.minor?f+"minor":n.patch!==r.patch?f+"patch":"prerelease"};Vm.exports=iC});var Wm=U((bL,Um)=>{"use strict";var oC=Ue(),sC=(t,e)=>new oC(t,e).major;Um.exports=sC});var Hm=U((kL,zm)=>{"use strict";var aC=Ue(),lC=(t,e)=>new aC(t,e).minor;zm.exports=lC});var qm=U((AL,Gm)=>{"use strict";var uC=Ue(),cC=(t,e)=>new uC(t,e).patch;Gm.exports=cC});var Km=U((vL,jm)=>{"use strict";var dC=Jn(),fC=(t,e)=>{let n=dC(t,e);return n&&n.prerelease.length?n.prerelease:null};jm.exports=fC});var vt=U((EL,Zm)=>{"use strict";var Xm=Ue(),hC=(t,e,n)=>new Xm(t,n).compare(new Xm(e,n));Zm.exports=hC});var Qm=U((CL,Jm)=>{"use strict";var mC=vt(),pC=(t,e,n)=>mC(e,t,n);Jm.exports=pC});var tp=U((xL,ep)=>{"use strict";var gC=vt(),wC=(t,e)=>gC(t,e,!0);ep.exports=wC});var _s=U((TL,rp)=>{"use strict";var np=Ue(),yC=(t,e,n)=>{let r=new np(t,n),i=new np(e,n);return r.compare(i)||r.compareBuild(i)};rp.exports=yC});var op=U((SL,ip)=>{"use strict";var bC=_s(),kC=(t,e)=>t.sort((n,r)=>bC(n,r,e));ip.exports=kC});var ap=U((_L,sp)=>{"use strict";var AC=_s(),vC=(t,e)=>t.sort((n,r)=>AC(r,n,e));sp.exports=vC});var Ti=U((FL,lp)=>{"use strict";var EC=vt(),CC=(t,e,n)=>EC(t,e,n)>0;lp.exports=CC});var Fs=U((PL,up)=>{"use strict";var xC=vt(),TC=(t,e,n)=>xC(t,e,n)<0;up.exports=TC});var Iu=U((IL,cp)=>{"use strict";var SC=vt(),_C=(t,e,n)=>SC(t,e,n)===0;cp.exports=_C});var Ou=U((OL,dp)=>{"use strict";var FC=vt(),PC=(t,e,n)=>FC(t,e,n)!==0;dp.exports=PC});var Ps=U((RL,fp)=>{"use strict";var IC=vt(),OC=(t,e,n)=>IC(t,e,n)>=0;fp.exports=OC});var Is=U((DL,hp)=>{"use strict";var RC=vt(),DC=(t,e,n)=>RC(t,e,n)<=0;hp.exports=DC});var Ru=U((ML,mp)=>{"use strict";var MC=Iu(),LC=Ou(),NC=Ti(),$C=Ps(),BC=Fs(),VC=Is(),YC=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return MC(t,n,r);case"!=":return LC(t,n,r);case">":return NC(t,n,r);case">=":return $C(t,n,r);case"<":return BC(t,n,r);case"<=":return VC(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};mp.exports=YC});var gp=U((LL,pp)=>{"use strict";var UC=Ue(),WC=Jn(),{safeRe:Os,t:Rs}=Mr(),zC=(t,e)=>{if(t instanceof UC)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?Os[Rs.COERCEFULL]:Os[Rs.COERCE]);else{let c=e.includePrerelease?Os[Rs.COERCERTLFULL]:Os[Rs.COERCERTL],m;for(;(m=c.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||m.index+m[0].length!==n.index+n[0].length)&&(n=m),c.lastIndex=m.index+m[1].length+m[2].length;c.lastIndex=-1}if(n===null)return null;let r=n[2],i=n[3]||"0",s=n[4]||"0",a=e.includePrerelease&&n[5]?`-${n[5]}`:"",u=e.includePrerelease&&n[6]?`+${n[6]}`:"";return WC(`${r}.${i}.${s}${a}${u}`,e)};pp.exports=zC});var yp=U((NL,wp)=>{"use strict";var Du=class{constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}};wp.exports=Du});var Et=U(($L,vp)=>{"use strict";var HC=/\s+/g,Mu=class t{constructor(e,n){if(n=qC(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof Lu)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(HC," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!kp(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&ex(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let r=0;r<n.length;r++)r>0&&(this.formatted+=" "),this.formatted+=n[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&JC)|(this.options.loose&&QC))+":"+e,i=bp.get(r);if(i)return i;let s=this.options.loose,a=s?at[Qe.HYPHENRANGELOOSE]:at[Qe.HYPHENRANGE];e=e.replace(a,cx(this.options.includePrerelease)),he("hyphen replace",e),e=e.replace(at[Qe.COMPARATORTRIM],KC),he("comparator trim",e),e=e.replace(at[Qe.TILDETRIM],XC),he("tilde trim",e),e=e.replace(at[Qe.CARETTRIM],ZC),he("caret trim",e);let u=e.split(" ").map(p=>tx(p,this.options)).join(" ").split(/\s+/).map(p=>ux(p,this.options));s&&(u=u.filter(p=>(he("loose invalid filter",p,this.options),!!p.match(at[Qe.COMPARATORLOOSE])))),he("range list",u);let c=new Map,m=u.map(p=>new Lu(p,this.options));for(let p of m){if(kp(p))return[p];c.set(p.value,p)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return bp.set(r,f),f}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>Ap(r,n)&&e.set.some(i=>Ap(i,n)&&r.every(s=>i.every(a=>s.intersects(a,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new jC(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(dx(this.set[n],e,this.options))return!0;return!1}};vp.exports=Mu;var GC=yp(),bp=new GC,qC=Es(),Lu=Si(),he=xi(),jC=Ue(),{safeRe:at,t:Qe,comparatorTrimReplace:KC,tildeTrimReplace:XC,caretTrimReplace:ZC}=Mr(),{FLAG_INCLUDE_PRERELEASE:JC,FLAG_LOOSE:QC}=Ci(),kp=t=>t.value==="<0.0.0-0",ex=t=>t.value==="",Ap=(t,e)=>{let n=!0,r=t.slice(),i=r.pop();for(;n&&r.length;)n=r.every(s=>i.intersects(s,e)),i=r.pop();return n},tx=(t,e)=>(he("comp",t,e),t=ix(t,e),he("caret",t),t=nx(t,e),he("tildes",t),t=sx(t,e),he("xrange",t),t=lx(t,e),he("stars",t),t),et=t=>!t||t.toLowerCase()==="x"||t==="*",nx=(t,e)=>t.trim().split(/\s+/).map(n=>rx(n,e)).join(" "),rx=(t,e)=>{let n=e.loose?at[Qe.TILDELOOSE]:at[Qe.TILDE];return t.replace(n,(r,i,s,a,u)=>{he("tilde",t,r,i,s,a,u);let c;return et(i)?c="":et(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:et(a)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:u?(he("replaceTilde pr",u),c=`>=${i}.${s}.${a}-${u} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,he("tilde return",c),c})},ix=(t,e)=>t.trim().split(/\s+/).map(n=>ox(n,e)).join(" "),ox=(t,e)=>{he("caret",t,e);let n=e.loose?at[Qe.CARETLOOSE]:at[Qe.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(i,s,a,u,c)=>{he("caret",t,i,s,a,u,c);let m;return et(s)?m="":et(a)?m=`>=${s}.0.0${r} <${+s+1}.0.0-0`:et(u)?s==="0"?m=`>=${s}.${a}.0${r} <${s}.${+a+1}.0-0`:m=`>=${s}.${a}.0${r} <${+s+1}.0.0-0`:c?(he("replaceCaret pr",c),s==="0"?a==="0"?m=`>=${s}.${a}.${u}-${c} <${s}.${a}.${+u+1}-0`:m=`>=${s}.${a}.${u}-${c} <${s}.${+a+1}.0-0`:m=`>=${s}.${a}.${u}-${c} <${+s+1}.0.0-0`):(he("no pr"),s==="0"?a==="0"?m=`>=${s}.${a}.${u}${r} <${s}.${a}.${+u+1}-0`:m=`>=${s}.${a}.${u}${r} <${s}.${+a+1}.0-0`:m=`>=${s}.${a}.${u} <${+s+1}.0.0-0`),he("caret return",m),m})},sx=(t,e)=>(he("replaceXRanges",t,e),t.split(/\s+/).map(n=>ax(n,e)).join(" ")),ax=(t,e)=>{t=t.trim();let n=e.loose?at[Qe.XRANGELOOSE]:at[Qe.XRANGE];return t.replace(n,(r,i,s,a,u,c)=>{he("xRange",t,r,i,s,a,u,c);let m=et(s),f=m||et(a),p=f||et(u),w=p;return i==="="&&w&&(i=""),c=e.includePrerelease?"-0":"",m?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&w?(f&&(a=0),u=0,i===">"?(i=">=",f?(s=+s+1,a=0,u=0):(a=+a+1,u=0)):i==="<="&&(i="<",f?s=+s+1:a=+a+1),i==="<"&&(c="-0"),r=`${i+s}.${a}.${u}${c}`):f?r=`>=${s}.0.0${c} <${+s+1}.0.0-0`:p&&(r=`>=${s}.${a}.0${c} <${s}.${+a+1}.0-0`),he("xRange return",r),r})},lx=(t,e)=>(he("replaceStars",t,e),t.trim().replace(at[Qe.STAR],"")),ux=(t,e)=>(he("replaceGTE0",t,e),t.trim().replace(at[e.includePrerelease?Qe.GTE0PRE:Qe.GTE0],"")),cx=t=>(e,n,r,i,s,a,u,c,m,f,p,w)=>(et(r)?n="":et(i)?n=`>=${r}.0.0${t?"-0":""}`:et(s)?n=`>=${r}.${i}.0${t?"-0":""}`:a?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,et(m)?c="":et(f)?c=`<${+m+1}.0.0-0`:et(p)?c=`<${m}.${+f+1}.0-0`:w?c=`<=${m}.${f}.${p}-${w}`:t?c=`<${m}.${f}.${+p+1}-0`:c=`<=${c}`,`${n} ${c}`.trim()),dx=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(he(t[r].semver),t[r].semver!==Lu.ANY&&t[r].semver.prerelease.length>0){let i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Si=U((BL,_p)=>{"use strict";var _i=Symbol("SemVer ANY"),Bu=class t{static get ANY(){return _i}constructor(e,n){if(n=Ep(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),$u("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===_i?this.value="":this.value=this.operator+this.semver.version,$u("comp",this)}parse(e){let n=this.options.loose?Cp[xp.COMPARATORLOOSE]:Cp[xp.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new Tp(r[2],this.options.loose):this.semver=_i}toString(){return this.value}test(e){if($u("Comparator.test",e,this.options.loose),this.semver===_i||e===_i)return!0;if(typeof e=="string")try{e=new Tp(e,this.options)}catch{return!1}return Nu(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Sp(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new Sp(this.value,n).test(e.semver):(n=Ep(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Nu(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Nu(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};_p.exports=Bu;var Ep=Es(),{safeRe:Cp,t:xp}=Mr(),Nu=Ru(),$u=xi(),Tp=Ue(),Sp=Et()});var Fi=U((VL,Fp)=>{"use strict";var fx=Et(),hx=(t,e,n)=>{try{e=new fx(e,n)}catch{return!1}return e.test(t)};Fp.exports=hx});var Ip=U((YL,Pp)=>{"use strict";var mx=Et(),px=(t,e)=>new mx(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));Pp.exports=px});var Rp=U((UL,Op)=>{"use strict";var gx=Ue(),wx=Et(),yx=(t,e,n)=>{let r=null,i=null,s=null;try{s=new wx(e,n)}catch{return null}return t.forEach(a=>{s.test(a)&&(!r||i.compare(a)===-1)&&(r=a,i=new gx(r,n))}),r};Op.exports=yx});var Mp=U((WL,Dp)=>{"use strict";var bx=Ue(),kx=Et(),Ax=(t,e,n)=>{let r=null,i=null,s=null;try{s=new kx(e,n)}catch{return null}return t.forEach(a=>{s.test(a)&&(!r||i.compare(a)===1)&&(r=a,i=new bx(r,n))}),r};Dp.exports=Ax});var $p=U((zL,Np)=>{"use strict";var Vu=Ue(),vx=Et(),Lp=Ti(),Ex=(t,e)=>{t=new vx(t,e);let n=new Vu("0.0.0");if(t.test(n)||(n=new Vu("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let i=t.set[r],s=null;i.forEach(a=>{let u=new Vu(a.semver.version);switch(a.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!s||Lp(u,s))&&(s=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!n||Lp(n,s))&&(n=s)}return n&&t.test(n)?n:null};Np.exports=Ex});var Vp=U((HL,Bp)=>{"use strict";var Cx=Et(),xx=(t,e)=>{try{return new Cx(t,e).range||"*"}catch{return null}};Bp.exports=xx});var Ds=U((GL,zp)=>{"use strict";var Tx=Ue(),Wp=Si(),{ANY:Sx}=Wp,_x=Et(),Fx=Fi(),Yp=Ti(),Up=Fs(),Px=Is(),Ix=Ps(),Ox=(t,e,n,r)=>{t=new Tx(t,r),e=new _x(e,r);let i,s,a,u,c;switch(n){case">":i=Yp,s=Px,a=Up,u=">",c=">=";break;case"<":i=Up,s=Ix,a=Yp,u="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Fx(t,e,r))return!1;for(let m=0;m<e.set.length;++m){let f=e.set[m],p=null,w=null;if(f.forEach(g=>{g.semver===Sx&&(g=new Wp(">=0.0.0")),p=p||g,w=w||g,i(g.semver,p.semver,r)?p=g:a(g.semver,w.semver,r)&&(w=g)}),p.operator===u||p.operator===c||(!w.operator||w.operator===u)&&s(t,w.semver))return!1;if(w.operator===c&&a(t,w.semver))return!1}return!0};zp.exports=Ox});var Gp=U((qL,Hp)=>{"use strict";var Rx=Ds(),Dx=(t,e,n)=>Rx(t,e,">",n);Hp.exports=Dx});var jp=U((jL,qp)=>{"use strict";var Mx=Ds(),Lx=(t,e,n)=>Mx(t,e,"<",n);qp.exports=Lx});var Zp=U((KL,Xp)=>{"use strict";var Kp=Et(),Nx=(t,e,n)=>(t=new Kp(t,n),e=new Kp(e,n),t.intersects(e,n));Xp.exports=Nx});var Qp=U((XL,Jp)=>{"use strict";var $x=Fi(),Bx=vt();Jp.exports=(t,e,n)=>{let r=[],i=null,s=null,a=t.sort((f,p)=>Bx(f,p,n));for(let f of a)$x(f,e,n)?(s=f,i||(i=f)):(s&&r.push([i,s]),s=null,i=null);i&&r.push([i,null]);let u=[];for(let[f,p]of r)f===p?u.push(f):!p&&f===a[0]?u.push("*"):p?f===a[0]?u.push(`<=${p}`):u.push(`${f} - ${p}`):u.push(`>=${f}`);let c=u.join(" || "),m=typeof e.raw=="string"?e.raw:String(e);return c.length<m.length?c:e}});var og=U((ZL,ig)=>{"use strict";var eg=Et(),Uu=Si(),{ANY:Yu}=Uu,Pi=Fi(),Wu=vt(),Vx=(t,e,n={})=>{if(t===e)return!0;t=new eg(t,n),e=new eg(e,n);let r=!1;e:for(let i of t.set){for(let s of e.set){let a=Ux(i,s,n);if(r=r||a!==null,a)continue e}if(r)return!1}return!0},Yx=[new Uu(">=0.0.0-0")],tg=[new Uu(">=0.0.0")],Ux=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Yu){if(e.length===1&&e[0].semver===Yu)return!0;n.includePrerelease?t=Yx:t=tg}if(e.length===1&&e[0].semver===Yu){if(n.includePrerelease)return!0;e=tg}let r=new Set,i,s;for(let g of t)g.operator===">"||g.operator===">="?i=ng(i,g,n):g.operator==="<"||g.operator==="<="?s=rg(s,g,n):r.add(g.semver);if(r.size>1)return null;let a;if(i&&s){if(a=Wu(i.semver,s.semver,n),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let g of r){if(i&&!Pi(g,String(i),n)||s&&!Pi(g,String(s),n))return null;for(let v of e)if(!Pi(g,String(v),n))return!1;return!0}let u,c,m,f,p=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1,w=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;p&&p.prerelease.length===1&&s.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(let g of e){if(f=f||g.operator===">"||g.operator===">=",m=m||g.operator==="<"||g.operator==="<=",i){if(w&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===w.major&&g.semver.minor===w.minor&&g.semver.patch===w.patch&&(w=!1),g.operator===">"||g.operator===">="){if(u=ng(i,g,n),u===g&&u!==i)return!1}else if(i.operator===">="&&!Pi(i.semver,String(g),n))return!1}if(s){if(p&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===p.major&&g.semver.minor===p.minor&&g.semver.patch===p.patch&&(p=!1),g.operator==="<"||g.operator==="<="){if(c=rg(s,g,n),c===g&&c!==s)return!1}else if(s.operator==="<="&&!Pi(s.semver,String(g),n))return!1}if(!g.operator&&(s||i)&&a!==0)return!1}return!(i&&m&&!s&&a!==0||s&&f&&!i&&a!==0||w||p)},ng=(t,e,n)=>{if(!t)return e;let r=Wu(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},rg=(t,e,n)=>{if(!t)return e;let r=Wu(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};ig.exports=Vx});var ug=U((JL,lg)=>{"use strict";var zu=Mr(),sg=Ci(),Wx=Ue(),ag=Fu(),zx=Jn(),Hx=Rm(),Gx=Mm(),qx=$m(),jx=Ym(),Kx=Wm(),Xx=Hm(),Zx=qm(),Jx=Km(),Qx=vt(),e2=Qm(),t2=tp(),n2=_s(),r2=op(),i2=ap(),o2=Ti(),s2=Fs(),a2=Iu(),l2=Ou(),u2=Ps(),c2=Is(),d2=Ru(),f2=gp(),h2=Si(),m2=Et(),p2=Fi(),g2=Ip(),w2=Rp(),y2=Mp(),b2=$p(),k2=Vp(),A2=Ds(),v2=Gp(),E2=jp(),C2=Zp(),x2=Qp(),T2=og();lg.exports={parse:zx,valid:Hx,clean:Gx,inc:qx,diff:jx,major:Kx,minor:Xx,patch:Zx,prerelease:Jx,compare:Qx,rcompare:e2,compareLoose:t2,compareBuild:n2,sort:r2,rsort:i2,gt:o2,lt:s2,eq:a2,neq:l2,gte:u2,lte:c2,cmp:d2,coerce:f2,Comparator:h2,Range:m2,satisfies:p2,toComparators:g2,maxSatisfying:w2,minSatisfying:y2,minVersion:b2,validRange:k2,outside:A2,gtr:v2,ltr:E2,intersects:C2,simplifyRange:x2,subset:T2,SemVer:Wx,re:zu.re,src:zu.src,tokens:zu.t,SEMVER_SPEC_VERSION:sg.SEMVER_SPEC_VERSION,RELEASE_TYPES:sg.RELEASE_TYPES,compareIdentifiers:ag.compareIdentifiers,rcompareIdentifiers:ag.rcompareIdentifiers}});var L2={};Yc(L2,{default:()=>M2});module.exports=ub(L2);var ec=require("electron"),tc=Me(en(),1),Cg=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Pt(){}async function Mt(){}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ya=Number.POSITIVE_INFINITY;function Ln(t){if(typeof AbortSignal.any=="function")return AbortSignal.any(t);if(t.length===0)return Fe();if(t.length===1&&t[0])return t[0];let e=new AbortController;for(let i of t)if(i.aborted)return i;let n=[];for(let i of t)n.push(zc(i,r));return e.signal;function r(i){for(let s of n)s();e.abort(i.reason)}}function Fe(){return new AbortController().signal}function Wc(t){if(t===Ya)return Fe();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(t);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(t)} milliseconds`))},t),e.signal}function zc(t,e){if(t.aborted)return e(t),Pt;return t.addEventListener("abort",n,{once:!0}),()=>{t.removeEventListener("abort",n)};function n(r){e(r.target)}}function Hc(t,e){return new Promise((n,r)=>{zc(t,()=>{e?r(t.reason):n(t.reason)})})}var Ja=Me(rd(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Xr(t,e){let n=t.length,r=0;for(let i=0;i<n;i++){if(!Object.hasOwn(t,i))continue;let s=t[i];e(s,i,t)&&(t[r++]=s)}t.length=r}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Lt=class{eventRefsMap=new Map;off(e,n){let r=this.eventRefsMap.get(e);r&&(Xr(r,i=>i.callback!==n),r.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(Xr(n,r=>r!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,r){let i=this.eventRefsMap.get(e);i||(i=[],this.eventRefsMap.set(e,i));let s={asyncEvents:this,callback:n,name:e,thisArg:r};return i.push(s),s}once(e,n,r){let i=this.on(e,n,r),s=this.on(e,()=>{this.offref(i),this.offref(s)});return i}trigger(e,...n){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())this.tryTrigger(i,n)}async triggerAsync(e,...n){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())await this.tryTriggerAsync(i,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(r){window.setTimeout(()=>{throw r},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(r){window.setTimeout(()=>{throw r},0)}}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var qa="asyncError",Ga=`Error stack:
`,to=new Lt;to.on(qa,Ob);var no="An unhandled error occurred executing async operation",It=class t extends Error{constructor(e,n,r){super(e,{cause:r}),this.name="CustomStackTraceError",Error.captureStackTrace(this,t);let i=r,s=new Set;for(;i instanceof t;){if(s.has(i))throw new Error("Circular cause detected");s.add(i),i=i.cause}let a=(this.stack??"").split(`
`),u=n.split(`
`);/^\w*Error(?:: |$)/.test(u[0]??"")&&u.splice(0,1),a.splice(1,a.length-1,...u),this.stack=a.join(`
`)}};function ro(t){to.trigger(qa,t)}function id(t){return ja(t).map(e=>"  ".repeat(e.level)+(e.message.startsWith(Ga)?e.message.slice(Ga.length):e.message)).join(`
`)}function Ke(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}function $n(t,e){e??=globalThis.console;let n=ja(t);for(let r of n)r.shouldClearAnsiSequence?e.error(`\x1B[0m${r.message}\x1B[0m`):e.error(r.message)}function od(t){let e=to.on(qa,t);return()=>{to.offref(e)}}function tn(t){throw t}function Ob(t){$n(t)}function ja(t,e=0,n=[]){if(t===void 0)return n;if(!(t instanceof Error)){let i;return t===null?i="(null)":typeof t=="string"?i=t:i=JSON.stringify(t)??"undefined",n.push({level:e,message:i}),n}let r=`${t.name}: ${t.message}`;if(n.push({level:e,message:r,shouldClearAnsiSequence:!0}),t.stack){let i=t.stack.startsWith(r)?t.stack.slice(r.length+1):t.stack;n.push({level:e,message:`${Ga}${i}`})}return t.cause!==void 0&&(n.push({level:e,message:"Caused by:"}),ja(t.cause,e+1,n)),n}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ka="33.0.0",io="obsidian-dev-utils",sd=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;AChDF;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Xa=class{constructor(e){this.value=e}};function Rb(){try{return globalThis.require("obsidian/app")}catch{return globalThis.app??tn(new Error("Obsidian app not found"))}}function nn(t,e,n){let i=t??Db()??globalThis;return i.obsidianDevUtilsState??={},i.obsidianDevUtilsState[e]??=new Xa(n)}function Db(){return typeof window>"u"?null:Rb()}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Za="__no-plugin-id-initialized__",ad=Za;function oo(){return ad}function ld(t){t&&(ad=t)}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ud=",",so="-";function cd(){return{disable:Mb,enable:Lb,get:ao,set:Zr}}function fr(t,e=0){let n=`${t}:${String(e)}`,r=nn(null,"debuggers",new Map).value,i=r.get(n);return i||(i=Jr()(t),i.log=(s,...a)=>{Nb(t,e,s,...a)},r.set(n,i)),i}function gt(t){let e=oo(),n=e===Za?"":`${e}:`;return fr(`${n}${io}:${t}`)}function rn(t,e,n,...r){if(!fd()){t(n,...r);return}t(n,...r,`

---
Context stack trace:
`,hd(e))}function dd(t){let e=Jr().enabled(t),n=e?"enabled":"disabled",r=e?"disable":"enable",i=ao();Zr(t),fr(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),Zr(i)}function Mb(t){let e=new Set(ao());for(let n of Qr(t)){if(n.startsWith(so))continue;let r=so+n;e.has(n)&&e.delete(n),e.add(r)}Zr(Array.from(e))}function Lb(t){let e=new Set(ao());for(let n of Qr(t)){if(!n.startsWith(so)){let r=so+n;e.has(r)&&e.delete(r)}e.add(n)}Zr(Array.from(e))}function ao(){return Qr(Jr().load()??"")}function Jr(){return typeof window>"u"?Ja.default:nn(null,"debug",Ja.default).value}function fd(){return typeof window<"u"}function Nb(t,e,n,...r){if(!Jr().enabled(t))return;if(!fd()){console.debug(n,...r);return}let i=4,s=new Error().stack?.split(`
`)??[];s.splice(0,i+e),console.debug(n,...r,`

---
Logger stack trace:
`,hd(s.join(`
`)))}function hd(t){return new It("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",t,void 0)}function Zr(t){Jr().enable(Qr(t).join(ud))}function Qr(t){return typeof t=="string"?t.split(ud).filter(Boolean):t.flatMap(Qr)}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Qa(t,e){e??=Ke(1);try{await t()}catch(n){ro(new It(no,e,n))}}function it(t,e){return e??=Ke(1),(...n)=>{let r=Ke(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${r}`,pe(()=>t(...n),e)}}function pe(t,e){e??=Ke(1),Qa(t,e)}function md(t,e=0,n,r){r??=Fe(),r.throwIfAborted(),n??=Ke(1),pe(async()=>{await tl(e,r,!0),await t(r)},n)}var $b=new WeakSet,lo=class{constructor(e){this.result=e}};async function pd(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}async function uo(t,e,n){let r=gt("Async:retryWithTimeout");n??=Ke(1);let s={...{abortSignal:Fe(),retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};s.abortSignal.throwIfAborted(),await el(s.timeoutInMilliseconds,async a=>{let u=Ln([s.abortSignal,a]);u.throwIfAborted();let c=0;for(;!u.aborted;){c++;let m;try{m=await t(u)}catch(f){if(u.aborted||!s.shouldRetryOnError||$b.has(f))throw new It("retryWithTimeout failed",n,f);$n(f),m=!1}if(m){rn(r,n,`Retry completed successfully after ${String(c)} attempts`,{fn:t});return}rn(r,n,`Retry attempt ${String(c)} completed unsuccessfully. Trying again in ${String(s.retryDelayInMilliseconds)} milliseconds`,{fn:t}),await tl(s.retryDelayInMilliseconds,a)}},{retryFn:t},n)}async function el(t,e,n,r){r??=Ke(1);let i=performance.now(),s=new AbortController;if(await Promise.race([a(),u()]),s.signal.reason instanceof lo)return s.signal.reason.result;throw new It("Run with timeout failed",r,s.signal.reason);async function a(){try{let c=await e(s.signal),m=performance.now()-i,f=gt("Async:runWithTimeout");rn(f,r??"",`Execution time: ${String(m)} milliseconds`,{context:n,fn:e}),s.abort(new lo(c))}catch(c){s.abort(c)}}async function u(){for(;!s.signal.aborted;){if(await tl(t,s.signal),s.signal.aborted)return;let c=performance.now()-i;console.warn(`Timed out after ${String(c)} milliseconds`,{context:n,fn:e});let m=gt("Async:runWithTimeout:timeout");if(!m.enabled){s.abort(new Error(`Timed out after ${String(c)} milliseconds`));return}m(`The execution is not terminated because debugger ${m.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information.`)}}}async function tl(t,e,n){await Hc(Ln([e??Fe(),Wc(t)])),n&&e?.throwIfAborted()}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Bb(t){return await new Promise(e=>{let n=new FileReader;n.addEventListener("loadend",r),n.readAsDataURL(t);function r(){e(n.result)}})}async function gd(t,e){let n=await Bb(t);return new Promise(r=>{let i=new Image;i.addEventListener("load",s),i.src=n;function s(){let a=document.createElement("canvas"),u=a.getContext("2d");if(!u)throw new Error("Could not get 2D context.");let c=i.width,m=i.height;a.width=c,a.height=m,u.fillStyle="#fff",u.fillRect(0,0,c,m),u.save();let f=.5;u.translate(c*f,m*f),u.drawImage(i,0,0,c,m,-c*f,-m*f,c,m),u.restore();let p=a.toDataURL("image/jpeg",e),w=Vb(p);r(w)}})}function Vb(t){let n=t.split(";base64,")[1];if(!n)throw new Error("Invalid data URL");let r=window.atob(n),i=r.length,s=new Uint8Array(i);for(let a=0;a<i;a++)s[a]=r.charCodeAt(a);return s.buffer}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function co(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wd(t){try{return new RegExp(t),!0}catch{return!1}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Bn(t,e,...n){return e??=Fe(),e.throwIfAborted(),Yb(t)?await t(e,...n):t}function Yb(t){return typeof t=="function"}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ub={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"},Wb={};for(let[t,e]of Object.entries(Ub))Wb[e]=t;function yd(t,e,n,r){return r??=n,t.slice(0,n)+e+t.slice(r)}function ei(t){return ge(t,/\u00A0|\u202F/g," ").normalize("NFC")}function ge(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(r,...i)=>{let a=typeof i.at(-1)=="object",u=a?i.length-2:i.length-1,c={groups:a?i.at(-1):void 0,missingGroupIndices:[],offset:i.at(u-1),source:i.at(u),substring:r},m=i.slice(0,u-1).map((f,p)=>{if(typeof f=="string")return f;if(typeof f>"u")return c.missingGroupIndices.push(p),"";throw new Error(`Unexpected argument type: ${typeof f}`)});return n(c,...m)??c.substring}))}async function bd(t,e,n,r){if(r??=Fe(),r.throwIfAborted(),typeof n=="string")return ge(t,e,n);let i=[];ge(t,e,(a,...u)=>(i.push(()=>Bn(n,r,a,...u)),""));let s=[];for(let a of i)r.throwIfAborted(),s.push(await a());return r.throwIfAborted(),ge(t,e,a=>s.shift()??a.substring)}function fo(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}function ho(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var kd=".",zb=[{constructor:ArrayBuffer,equalityComparer:Gb},{constructor:Date,equalityComparer:qb},{constructor:RegExp,equalityComparer:Kb},{constructor:Map,equalityComparer:jb},{constructor:Set,equalityComparer:Xb}];function wt(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,r=e.constructor;if(n!==r)return!1;if(n!==Object){let c=Zb(t,e);if(c!==void 0)return c}let i=hr(t),s=hr(e);if(i.length!==s.length)return!1;let a=t,u=e;for(let c of i)if(!s.includes(c)||!wt(a[c],u[c]))return!1;return!0}function Ad(t){return typeof t!="object"||t===null?t:"default"in t?t.default:t}function hr(t){let e=[],n=t;for(;n;){let r=Object.getOwnPropertyDescriptors(n);for(let[i,s]of Object.entries(r)){if(i==="__proto__"||typeof s.value=="function")continue;let a=typeof s.get=="function",u=typeof s.set=="function";if(a||u){a&&u&&e.push(i);continue}s.enumerable&&s.writable&&e.push(i)}n=Object.getPrototypeOf(n)}return e.sort()}function bn(t,e){let n=t,r=e.split(kd);for(let i of r){if(n===void 0)return;n=n[i]}return n}function vd(t){return t==null?t:Object.getPrototypeOf(t)}function Ed(t,e){for(let[n,r]of Object.entries(t))r===void 0&&!e?.includes(n)&&delete t[n];return t}function rl(t,e,n){let r=new Error(`Property path ${e} not found`),i=t,s=e.split(kd);for(let u of s.slice(0,-1)){if(i===void 0)throw r;i=i[u]}let a=s.at(-1);if(i===void 0||a===void 0)throw r;i[a]=n}function mr(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:nl("CircularReference"),maxDepthLimitReached:nl("MaxDepthLimitReached"),toJSONFailed:nl("ToJSONFailed")}},r={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};r.maxDepth===-1&&(r.maxDepth=1/0);let i=[],a=mo(t,"",0,!0,r,i,new WeakSet),u=JSON.stringify(a,null,r.space)??"";return u=ge(u,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(c,m,f)=>Hb({functionTexts:i,index:f?parseInt(f,10):0,key:m,substitutions:r.tokenSubstitutions})),u}function Hb(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??tn(new Error(`Function with index ${String(t.index)} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${String(t.index)})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}function Gb(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);return wt(n,r)}function qb(t,e){return t.getTime()===e.getTime()}function jb(t,e){if(t.size!==e.size)return!1;for(let[n,r]of t.entries())if(!e.has(n)||!wt(r,e.get(n)))return!1;return!0}function Kb(t,e){return t.source===e.source&&t.flags===e.flags}function Xb(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let r=!1;for(let i of e)if(wt(n,i)){r=!0;break}if(!r)return!1}return!0}function Zb(t,e){for(let{constructor:n,equalityComparer:r}of zb)if(t instanceof n&&e instanceof n)return r(t,e)}function Jb(t,e,n,r,i,s){return e>r.maxDepth?pr("MaxDepthLimitReachedArray",t.length):t.map((a,u)=>mo(a,String(u),e+1,n,r,i,s))}function Qb(t,e,n){if(n.shouldHandleCircularReferences)return pr("CircularReference");let r=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${r}'
--- property '${e}' closes the circle`)}function ek(t,e,n){if(n.functionHandlingMode==="exclude")return;let r=e.length,i=n.functionHandlingMode==="full"?String(t):`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(i),pr("Function",r)}function tk(t,e,n,r,i,s,a){if(a.has(t))return Qb(t,e,i);if(a.add(t),r){let u=rk(t,e,n,i,s,a);if(u!==void 0)return u}return Array.isArray(t)?Jb(t,n,r,i,s,a):n>i.maxDepth?pr("MaxDepthLimitReached"):t instanceof Error&&i.shouldHandleErrors?id(t):nk(t,n,r,i,s,a)}function nk(t,e,n,r,i,s){let a=Object.entries(t);return r.shouldSortKeys&&a.sort(([u],[c])=>u.localeCompare(c)),Object.fromEntries(a.map(([u,c])=>[u,mo(c,u,e+1,n,r,i,s)]))}function nl(t){return`{ "[[${t}]]": null }`}function pr(t,e){return`[[${t}${e?String(e):""}]]`}function mo(t,e,n,r,i,s,a){return t===void 0?n===0||i.shouldHandleUndefined?pr("Undefined"):void 0:typeof t=="function"?ek(t,s,i):typeof t!="object"||t===null?t:tk(t,e,n,r,i,s,a)}function rk(t,e,n,r,i,s){let a=t.toJSON;if(typeof a=="function")try{let u=a.call(t,e);return mo(u,e,n,!1,r,i,s)}catch(u){if(r.shouldCatchToJSONErrors)return pr("ToJSONFailed");throw u}}var ik=require("obsidian"),Td=require("obsidian"),Sd=require("obsidian"),TT=require("obsidian"),ST=require("obsidian"),Cd=class{data=new Map;add(t,e){let n=this.get(t);n||(n=[],this.data.set(t,n)),n.includes(e)||n.push(e)}remove(t,e){let n=this.get(t);n&&(n.remove(e),n.length===0&&this.clear(t))}get(t){return this.data.get(t)||null}keys(){return Array.from(this.data.keys())}clear(t){this.data.delete(t)}clearAll(){this.data.clear()}contains(t,e){return!!this.get(t)?.contains(e)}count(){let t=0;for(let e of this.keys())t+=this.get(e)?.length??0;return t}};var Ot={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},xd={AllProperties:"all-properties",Audio:"audio",Backlink:Ot.Backlink,Bookmarks:Ot.Bookmarks,Canvas:Ot.Canvas,Empty:"empty",FileExplorer:Ot.FileExplorer,FileProperties:"file-properties",Graph:Ot.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:Ot.OutgoingLink,Outline:Ot.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function ok(){return Td.TFile}function sk(){return Sd.TFolder}function yt(t){return t.replace(/\/?[^\/]*$/,"")||"/"}function po(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(sk())(t.vault,e),n.parent=po(t,yt(e)),n.deleted=!0,n)}function _d(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(ok())(t.vault,e),n.parent=po(t,yt(e)),n.deleted=!0,n)}function on(t){return!!t.position}function ut(t){return!!t.key}var il=Me(Id(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var lk=/[a-zA-Z]:\/[^:]*$/,$t=il.default.posix,RT=$t.delimiter,DT=il.default.posix.sep,Ae=$t.basename,Ee=$t.dirname,Te=$t.extname,MT=$t.format;var Ce=$t.join,LT=$t.normalize,NT=$t.parse,wr=$t.relative;function Bt(t,e){return e?`${t}.${e}`:t}function Od(...t){let e=$t.resolve(...t);return e=uk(e),lk.exec(e)?.[0]??e}function uk(t){return ge(t,"\\","/")}var sn=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ck="base",dk="canvas",Dd="md";function ol(t,e,n){if(bt(e))return e.extension===n;if(typeof e=="string"){let r=ot(t,e);return r?r.extension===n:Te(e).slice(1)===n}return!1}function Vn(t,e,n){if(e===null)return null;if(Md(e))return e;let r=Rd(t,e,n);if(r)return r;let i=Nd(e);return i===e?null:Rd(t,i,n)}function Oe(t,e,n,r){let i=ot(t,e,r);if(!i)if(n)i=_d(t,e);else throw new Error(`File not found: ${e}`);return i}function ot(t,e,n){let r=Vn(t,e,n);return bt(r)?r:null}function ti(t,e,n,r){let i=Vt(t,e,r);if(!i)if(n)i=po(t,e);else throw new Error(`Folder not found: ${e}`);return i}function Vt(t,e,n){let r=Vn(t,e,n);return sl(r)?r:null}function be(t,e){if(Md(e))return e.path;let n=Vn(t,e);return n?n.path:Nd(e)}function Md(t){return t instanceof sn.TAbstractFile}function fk(t,e){return ol(t,e,ck)}function an(t,e){return ol(t,e,dk)}function bt(t){return t instanceof sn.TFile}function sl(t){return t instanceof sn.TFolder}function ln(t,e){return ol(t,e,Dd)}function ni(t,e){return ln(t,e)||an(t,e)||fk(t,e)}function Ld(t,e){return ln(t,e)?fo(e.path,`.${Dd}`):e.path}function Rd(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}function Nd(t){return(0,sn.normalizePath)(Od("/",t))}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function hk(t,e,n){let r=be(t,e),i=be(t,n),s=Oe(t,i,!0),a=Te(r),u=Ae(r,a),c=t.vault.getAvailablePathForAttachments;return c.isExtended?c(u,a.slice(1),s,!0):await al(t,u,a.slice(1),s,!0)}async function yr(t,e){return yt(await hk(t,"DUMMY_FILE.pdf",e))}async function al(t,e,n,r,i){let s=t.vault.getConfig("attachmentFolderPath"),a=s==="."||s==="./",u=null;s.startsWith("./")&&(u=ho(s,"./")),a?s=r?r.parent?.path??"":"":u&&(s=(r?r.parent?.getParentPrefix()??"":"")+u),s=ei($d(s)),e=ei($d(e));let c=Vt(t,s,!0);!c&&u&&(i?c=ti(t,s,!0):c=await t.vault.createFolder(s));let m=c?.getParentPrefix()??"";return t.vault.getAvailablePath(m+e,n)}async function ll(t,e){let n=await yr(t,e),r=await yr(t,Ce(Ee(e),"DUMMY_FILE.md"));return n!==r}function $d(t){return t=ge(t,/(?:[\\/])+/g,"/"),t=ge(t,/^\/+|\/+$/g,""),t||"/"}var qo=require("obsidian");var mk={};function Yn(t,e){let n=e||mk,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Vd(t,r,i)}function Vd(t,e,n){if(pk(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Bd(t.children,e,n)}return Array.isArray(t)?Bd(t,e,n):""}function Bd(t,e,n){let r=[],i=-1;for(;++i<t.length;)r[i]=Vd(t[i],e,n);return r.join("")}function pk(t){return!!(t&&typeof t=="object")}var Yd=document.createElement("i");function br(t){let e="&"+t+";";Yd.innerHTML=e;let n=Yd.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Le(t,e,n,r){let i=t.length,s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function Xe(t,e){return t.length>0?(Le(t,t.length,0,e),t):e}var Ud={}.hasOwnProperty;function Wd(t){let e={},n=-1;for(;++n<t.length;)gk(e,t[n]);return e}function gk(t,e){let n;for(n in e){let i=(Ud.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n],a;if(s)for(a in s){Ud.call(i,a)||(i[a]=[]);let u=s[a];wk(i[a],Array.isArray(u)?u:u?[u]:[])}}}function wk(t,e){let n=-1,r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Le(t,0,0,r)}function go(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}function un(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var ct=kn(/[A-Za-z]/),Ze=kn(/[\dA-Za-z]/),zd=kn(/[#-'*+\--9=?A-Z^-~]/);function ri(t){return t!==null&&(t<32||t===127)}var ii=kn(/\d/),Hd=kn(/[\dA-Fa-f]/),Gd=kn(/[!-/:-@[-`{-~]/);function B(t){return t!==null&&t<-2}function xe(t){return t!==null&&(t<0||t===32)}function q(t){return t===-2||t===-1||t===32}var qd=kn(/\p{P}|\p{S}/u),jd=kn(/\s/);function kn(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function j(t,e,n,r){let i=r?r-1:Number.POSITIVE_INFINITY,s=0;return a;function a(c){return q(c)?(t.enter(n),u(c)):e(c)}function u(c){return q(c)&&s++<i?(t.consume(c),u):(t.exit(n),e(c))}}var Kd={tokenize:yk};function yk(t){let e=t.attempt(this.parser.constructs.contentInitial,r,i),n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),j(t,e,"linePrefix")}function i(u){return t.enter("paragraph"),s(u)}function s(u){let c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(u)}function a(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return B(u)?(t.consume(u),t.exit("chunkText"),s):(t.consume(u),a)}}var Zd={tokenize:bk},Xd={tokenize:kk};function bk(t){let e=this,n=[],r=0,i,s,a;return u;function u(P){if(r<n.length){let Y=n[r];return e.containerState=Y[1],t.attempt(Y[0].continuation,c,m)(P)}return m(P)}function c(P){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&_();let Y=e.events.length,W=Y,T;for(;W--;)if(e.events[W][0]==="exit"&&e.events[W][1].type==="chunkFlow"){T=e.events[W][1].end;break}E(r);let ne=Y;for(;ne<e.events.length;)e.events[ne][1].end={...T},ne++;return Le(e.events,W+1,0,e.events.slice(Y)),e.events.length=ne,m(P)}return u(P)}function m(P){if(r===n.length){if(!i)return w(P);if(i.currentConstruct&&i.currentConstruct.concrete)return v(P);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Xd,f,p)(P)}function f(P){return i&&_(),E(r),w(P)}function p(P){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,v(P)}function w(P){return e.containerState={},t.attempt(Xd,g,v)(P)}function g(P){return r++,n.push([e.currentConstruct,e.containerState]),w(P)}function v(P){if(P===null){i&&_(),E(0),t.consume(P);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),F(P)}function F(P){if(P===null){x(t.exit("chunkFlow"),!0),E(0),t.consume(P);return}return B(P)?(t.consume(P),x(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(P),F)}function x(P,Y){let W=e.sliceStream(P);if(Y&&W.push(null),P.previous=s,s&&(s.next=P),s=P,i.defineSkip(P.start),i.write(W),e.parser.lazy[P.start.line]){let T=i.events.length;for(;T--;)if(i.events[T][1].start.offset<a&&(!i.events[T][1].end||i.events[T][1].end.offset>a))return;let ne=e.events.length,Z=ne,J,ae;for(;Z--;)if(e.events[Z][0]==="exit"&&e.events[Z][1].type==="chunkFlow"){if(J){ae=e.events[Z][1].end;break}J=!0}for(E(r),T=ne;T<e.events.length;)e.events[T][1].end={...ae},T++;Le(e.events,Z+1,0,e.events.slice(ne)),e.events.length=T}}function E(P){let Y=n.length;for(;Y-- >P;){let W=n[Y];e.containerState=W[1],W[0].exit.call(e,t)}n.length=P}function _(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function kk(t,e,n){return j(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function kr(t){if(t===null||xe(t)||jd(t))return 1;if(qd(t))return 2}function Ar(t,e,n){let r=[],i=-1;for(;++i<t.length;){let s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}var oi={name:"attention",resolveAll:Ak,tokenize:vk};function Ak(t,e){let n=-1,r,i,s,a,u,c,m,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let p={...t[r][1].end},w={...t[n][1].start};Jd(p,-c),Jd(w,c),a={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...t[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:w},s={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...u.end}},t[r][1].end={...a.start},t[n][1].start={...u.end},m=[],t[r][1].end.offset-t[r][1].start.offset&&(m=Xe(m,[["enter",t[r][1],e],["exit",t[r][1],e]])),m=Xe(m,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),m=Xe(m,Ar(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),m=Xe(m,[["exit",s,e],["enter",u,e],["exit",u,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,m=Xe(m,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,Le(t,r-1,n-r+3,m),n=r+m.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function vk(t,e){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=kr(r),s;return a;function a(c){return s=c,t.enter("attentionSequence"),u(c)}function u(c){if(c===s)return t.consume(c),u;let m=t.exit("attentionSequence"),f=kr(c),p=!f||f===2&&i||n.includes(c),w=!i||i===2&&f||n.includes(r);return m._open=!!(s===42?p:p&&(i||!w)),m._close=!!(s===42?w:w&&(f||!p)),e(c)}}function Jd(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}var ul={name:"autolink",tokenize:Ek};function Ek(t,e,n){let r=0;return i;function i(g){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(g){return ct(g)?(t.consume(g),a):g===64?n(g):m(g)}function a(g){return g===43||g===45||g===46||Ze(g)?(r=1,u(g)):m(g)}function u(g){return g===58?(t.consume(g),r=0,c):(g===43||g===45||g===46||Ze(g))&&r++<32?(t.consume(g),u):(r=0,m(g))}function c(g){return g===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):g===null||g===32||g===60||ri(g)?n(g):(t.consume(g),c)}function m(g){return g===64?(t.consume(g),f):zd(g)?(t.consume(g),m):n(g)}function f(g){return Ze(g)?p(g):n(g)}function p(g){return g===46?(t.consume(g),r=0,f):g===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):w(g)}function w(g){if((g===45||Ze(g))&&r++<63){let v=g===45?w:p;return t.consume(g),v}return n(g)}}var An={partial:!0,tokenize:Ck};function Ck(t,e,n){return r;function r(s){return q(s)?j(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||B(s)?e(s):n(s)}}var wo={continuation:{tokenize:Tk},exit:Sk,name:"blockQuote",tokenize:xk};function xk(t,e,n){let r=this;return i;function i(a){if(a===62){let u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return q(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function Tk(t,e,n){let r=this;return i;function i(a){return q(a)?j(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(wo,e,n)(a)}}function Sk(t){t.exit("blockQuote")}var yo={name:"characterEscape",tokenize:_k};function _k(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return Gd(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}var bo={name:"characterReference",tokenize:Fk};function Fk(t,e,n){let r=this,i=0,s,a;return u;function u(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),c}function c(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),m):(t.enter("characterReferenceValue"),s=31,a=Ze,f(p))}function m(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=Hd,f):(t.enter("characterReferenceValue"),s=7,a=ii,f(p))}function f(p){if(p===59&&i){let w=t.exit("characterReferenceValue");return a===Ze&&!br(r.sliceSerialize(w))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(p)&&i++<s?(t.consume(p),f):n(p)}}var Qd={partial:!0,tokenize:Ik},ko={concrete:!0,name:"codeFenced",tokenize:Pk};function Pk(t,e,n){let r=this,i={partial:!0,tokenize:W},s=0,a=0,u;return c;function c(T){return m(T)}function m(T){let ne=r.events[r.events.length-1];return s=ne&&ne[1].type==="linePrefix"?ne[2].sliceSerialize(ne[1],!0).length:0,u=T,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(T)}function f(T){return T===u?(a++,t.consume(T),f):a<3?n(T):(t.exit("codeFencedFenceSequence"),q(T)?j(t,p,"whitespace")(T):p(T))}function p(T){return T===null||B(T)?(t.exit("codeFencedFence"),r.interrupt?e(T):t.check(Qd,F,Y)(T)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),w(T))}function w(T){return T===null||B(T)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(T)):q(T)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),j(t,g,"whitespace")(T)):T===96&&T===u?n(T):(t.consume(T),w)}function g(T){return T===null||B(T)?p(T):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(T))}function v(T){return T===null||B(T)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(T)):T===96&&T===u?n(T):(t.consume(T),v)}function F(T){return t.attempt(i,Y,x)(T)}function x(T){return t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),E}function E(T){return s>0&&q(T)?j(t,_,"linePrefix",s+1)(T):_(T)}function _(T){return T===null||B(T)?t.check(Qd,F,Y)(T):(t.enter("codeFlowValue"),P(T))}function P(T){return T===null||B(T)?(t.exit("codeFlowValue"),_(T)):(t.consume(T),P)}function Y(T){return t.exit("codeFenced"),e(T)}function W(T,ne,Z){let J=0;return ae;function ae(z){return T.enter("lineEnding"),T.consume(z),T.exit("lineEnding"),de}function de(z){return T.enter("codeFencedFence"),q(z)?j(T,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):ie(z)}function ie(z){return z===u?(T.enter("codeFencedFenceSequence"),V(z)):Z(z)}function V(z){return z===u?(J++,T.consume(z),V):J>=a?(T.exit("codeFencedFenceSequence"),q(z)?j(T,G,"whitespace")(z):G(z)):Z(z)}function G(z){return z===null||B(z)?(T.exit("codeFencedFence"),ne(z)):Z(z)}}}function Ik(t,e,n){let r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}var si={name:"codeIndented",tokenize:Rk},Ok={partial:!0,tokenize:Dk};function Rk(t,e,n){let r=this;return i;function i(m){return t.enter("codeIndented"),j(t,s,"linePrefix",5)(m)}function s(m){let f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?a(m):n(m)}function a(m){return m===null?c(m):B(m)?t.attempt(Ok,a,c)(m):(t.enter("codeFlowValue"),u(m))}function u(m){return m===null||B(m)?(t.exit("codeFlowValue"),a(m)):(t.consume(m),u)}function c(m){return t.exit("codeIndented"),e(m)}}function Dk(t,e,n){let r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):B(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):j(t,s,"linePrefix",5)(a)}function s(a){let u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(a):B(a)?i(a):n(a)}}var cl={name:"codeText",previous:Lk,resolve:Mk,tokenize:Nk};function Mk(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Lk(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Nk(t,e,n){let r=this,i=0,s,a;return u;function u(w){return t.enter("codeText"),t.enter("codeTextSequence"),c(w)}function c(w){return w===96?(t.consume(w),i++,c):(t.exit("codeTextSequence"),m(w))}function m(w){return w===null?n(w):w===32?(t.enter("space"),t.consume(w),t.exit("space"),m):w===96?(a=t.enter("codeTextSequence"),s=0,p(w)):B(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),m):(t.enter("codeTextData"),f(w))}function f(w){return w===null||w===32||w===96||B(w)?(t.exit("codeTextData"),m(w)):(t.consume(w),f)}function p(w){return w===96?(t.consume(w),s++,p):s===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(w)):(a.type="codeTextData",f(w))}}var Ao=class{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){let i=n||0;this.setCursor(Math.trunc(e));let s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ai(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ai(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ai(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);ai(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ai(this.left,n.reverse())}}};function ai(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function vo(t){let e={},n=-1,r,i,s,a,u,c,m,f=new Ao(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,$k(f,n)),n=e[n],m=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(a=f.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);i&&(r[1].end={...f.get(i)[1].start},u=f.slice(i,n),u.unshift(r),f.splice(i,n-i+1,u))}}return Le(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!m}function $k(t,e){let n=t.get(e)[1],r=t.get(e)[2],i=e-1,s=[],a=n._tokenizer||r.parser[n.contentType](n.start),u=a.events,c=[],m={},f,p,w=-1,g=n,v=0,F=0,x=[F];for(;g;){for(;t.get(++i)[1]!==g;);s.push(i),g._tokenizer||(f=r.sliceStream(g),g.next||f.push(null),p&&a.defineSkip(g.start),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(f),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=g,g=g.next}for(g=n;++w<u.length;)u[w][0]==="exit"&&u[w-1][0]==="enter"&&u[w][1].type===u[w-1][1].type&&u[w][1].start.line!==u[w][1].end.line&&(F=w+1,x.push(F),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(a.events=[],g?(g._tokenizer=void 0,g.previous=void 0):x.pop(),w=x.length;w--;){let E=u.slice(x[w],x[w+1]),_=s.pop();c.push([_,_+E.length-1]),t.splice(_,2,E)}for(c.reverse(),w=-1;++w<c.length;)m[v+c[w][0]]=v+c[w][1],v+=c[w][1]-c[w][0]-1;return m}var dl={resolve:Vk,tokenize:Yk},Bk={partial:!0,tokenize:Uk};function Vk(t){return vo(t),t}function Yk(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?s(u):B(u)?t.check(Bk,a,s)(u):(t.consume(u),i)}function s(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function a(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Uk(t,e,n){let r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),j(t,s,"linePrefix")}function s(a){if(a===null||B(a))return n(a);let u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function Eo(t,e,n,r,i,s,a,u,c){let m=c||Number.POSITIVE_INFINITY,f=0;return p;function p(E){return E===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(E),t.exit(s),w):E===null||E===32||E===41||ri(E)?n(E):(t.enter(r),t.enter(a),t.enter(u),t.enter("chunkString",{contentType:"string"}),F(E))}function w(E){return E===62?(t.enter(s),t.consume(E),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),g(E))}function g(E){return E===62?(t.exit("chunkString"),t.exit(u),w(E)):E===null||E===60||B(E)?n(E):(t.consume(E),E===92?v:g)}function v(E){return E===60||E===62||E===92?(t.consume(E),g):g(E)}function F(E){return!f&&(E===null||E===41||xe(E))?(t.exit("chunkString"),t.exit(u),t.exit(a),t.exit(r),e(E)):f<m&&E===40?(t.consume(E),f++,F):E===41?(t.consume(E),f--,F):E===null||E===32||E===40||ri(E)?n(E):(t.consume(E),E===92?x:F)}function x(E){return E===40||E===41||E===92?(t.consume(E),F):F(E)}}function Co(t,e,n,r,i,s){let a=this,u=0,c;return m;function m(g){return t.enter(r),t.enter(i),t.consume(g),t.exit(i),t.enter(s),f}function f(g){return u>999||g===null||g===91||g===93&&!c||g===94&&!u&&"_hiddenFootnoteSupport"in a.parser.constructs?n(g):g===93?(t.exit(s),t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):B(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===null||g===91||g===93||B(g)||u++>999?(t.exit("chunkString"),f(g)):(t.consume(g),c||(c=!q(g)),g===92?w:p)}function w(g){return g===91||g===92||g===93?(t.consume(g),u++,p):p(g)}}function xo(t,e,n,r,i,s){let a;return u;function u(w){return w===34||w===39||w===40?(t.enter(r),t.enter(i),t.consume(w),t.exit(i),a=w===40?41:w,c):n(w)}function c(w){return w===a?(t.enter(i),t.consume(w),t.exit(i),t.exit(r),e):(t.enter(s),m(w))}function m(w){return w===a?(t.exit(s),c(a)):w===null?n(w):B(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),j(t,m,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(w))}function f(w){return w===a||w===null||B(w)?(t.exit("chunkString"),m(w)):(t.consume(w),w===92?p:f)}function p(w){return w===a||w===92?(t.consume(w),f):f(w)}}function Un(t,e){let n;return r;function r(i){return B(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):q(i)?j(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}var fl={name:"definition",tokenize:zk},Wk={partial:!0,tokenize:Hk};function zk(t,e,n){let r=this,i;return s;function s(g){return t.enter("definition"),a(g)}function a(g){return Co.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function u(g){return i=un(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),c):n(g)}function c(g){return xe(g)?Un(t,m)(g):m(g)}function m(g){return Eo(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function f(g){return t.attempt(Wk,p,p)(g)}function p(g){return q(g)?j(t,w,"whitespace")(g):w(g)}function w(g){return g===null||B(g)?(t.exit("definition"),r.parser.defined.push(i),e(g)):n(g)}}function Hk(t,e,n){return r;function r(u){return xe(u)?Un(t,i)(u):n(u)}function i(u){return xo(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return q(u)?j(t,a,"whitespace")(u):a(u)}function a(u){return u===null||B(u)?e(u):n(u)}}var hl={name:"hardBreakEscape",tokenize:Gk};function Gk(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return B(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}var ml={name:"headingAtx",resolve:qk,tokenize:jk};function qk(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Le(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function jk(t,e,n){let r=0;return i;function i(f){return t.enter("atxHeading"),s(f)}function s(f){return t.enter("atxHeadingSequence"),a(f)}function a(f){return f===35&&r++<6?(t.consume(f),a):f===null||xe(f)?(t.exit("atxHeadingSequence"),u(f)):n(f)}function u(f){return f===35?(t.enter("atxHeadingSequence"),c(f)):f===null||B(f)?(t.exit("atxHeading"),e(f)):q(f)?j(t,u,"whitespace")(f):(t.enter("atxHeadingText"),m(f))}function c(f){return f===35?(t.consume(f),c):(t.exit("atxHeadingSequence"),u(f))}function m(f){return f===null||f===35||xe(f)?(t.exit("atxHeadingText"),u(f)):(t.consume(f),m)}}var ef=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],pl=["pre","script","style","textarea"];var gl={concrete:!0,name:"htmlFlow",resolveTo:Zk,tokenize:Jk},Kk={partial:!0,tokenize:eA},Xk={partial:!0,tokenize:Qk};function Zk(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Jk(t,e,n){let r=this,i,s,a,u,c;return m;function m(b){return f(b)}function f(b){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(b),p}function p(b){return b===33?(t.consume(b),w):b===47?(t.consume(b),s=!0,F):b===63?(t.consume(b),i=3,r.interrupt?e:A):ct(b)?(t.consume(b),a=String.fromCharCode(b),x):n(b)}function w(b){return b===45?(t.consume(b),i=2,g):b===91?(t.consume(b),i=5,u=0,v):ct(b)?(t.consume(b),i=4,r.interrupt?e:A):n(b)}function g(b){return b===45?(t.consume(b),r.interrupt?e:A):n(b)}function v(b){let ze="CDATA[";return b===ze.charCodeAt(u++)?(t.consume(b),u===ze.length?r.interrupt?e:ie:v):n(b)}function F(b){return ct(b)?(t.consume(b),a=String.fromCharCode(b),x):n(b)}function x(b){if(b===null||b===47||b===62||xe(b)){let ze=b===47,Wt=a.toLowerCase();return!ze&&!s&&pl.includes(Wt)?(i=1,r.interrupt?e(b):ie(b)):ef.includes(a.toLowerCase())?(i=6,ze?(t.consume(b),E):r.interrupt?e(b):ie(b)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(b):s?_(b):P(b))}return b===45||Ze(b)?(t.consume(b),a+=String.fromCharCode(b),x):n(b)}function E(b){return b===62?(t.consume(b),r.interrupt?e:ie):n(b)}function _(b){return q(b)?(t.consume(b),_):ae(b)}function P(b){return b===47?(t.consume(b),ae):b===58||b===95||ct(b)?(t.consume(b),Y):q(b)?(t.consume(b),P):ae(b)}function Y(b){return b===45||b===46||b===58||b===95||Ze(b)?(t.consume(b),Y):W(b)}function W(b){return b===61?(t.consume(b),T):q(b)?(t.consume(b),W):P(b)}function T(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(t.consume(b),c=b,ne):q(b)?(t.consume(b),T):Z(b)}function ne(b){return b===c?(t.consume(b),c=null,J):b===null||B(b)?n(b):(t.consume(b),ne)}function Z(b){return b===null||b===34||b===39||b===47||b===60||b===61||b===62||b===96||xe(b)?W(b):(t.consume(b),Z)}function J(b){return b===47||b===62||q(b)?P(b):n(b)}function ae(b){return b===62?(t.consume(b),de):n(b)}function de(b){return b===null||B(b)?ie(b):q(b)?(t.consume(b),de):n(b)}function ie(b){return b===45&&i===2?(t.consume(b),oe):b===60&&i===1?(t.consume(b),ye):b===62&&i===4?(t.consume(b),Ne):b===63&&i===3?(t.consume(b),A):b===93&&i===5?(t.consume(b),tt):B(b)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Kk,$e,V)(b)):b===null||B(b)?(t.exit("htmlFlowData"),V(b)):(t.consume(b),ie)}function V(b){return t.check(Xk,G,$e)(b)}function G(b){return t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),z}function z(b){return b===null||B(b)?V(b):(t.enter("htmlFlowData"),ie(b))}function oe(b){return b===45?(t.consume(b),A):ie(b)}function ye(b){return b===47?(t.consume(b),a="",ke):ie(b)}function ke(b){if(b===62){let ze=a.toLowerCase();return pl.includes(ze)?(t.consume(b),Ne):ie(b)}return ct(b)&&a.length<8?(t.consume(b),a+=String.fromCharCode(b),ke):ie(b)}function tt(b){return b===93?(t.consume(b),A):ie(b)}function A(b){return b===62?(t.consume(b),Ne):b===45&&i===2?(t.consume(b),A):ie(b)}function Ne(b){return b===null||B(b)?(t.exit("htmlFlowData"),$e(b)):(t.consume(b),Ne)}function $e(b){return t.exit("htmlFlow"),e(b)}}function Qk(t,e,n){let r=this;return i;function i(a){return B(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function eA(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(An,e,n)}}var wl={name:"htmlText",tokenize:tA};function tA(t,e,n){let r=this,i,s,a;return u;function u(A){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(A),c}function c(A){return A===33?(t.consume(A),m):A===47?(t.consume(A),W):A===63?(t.consume(A),P):ct(A)?(t.consume(A),Z):n(A)}function m(A){return A===45?(t.consume(A),f):A===91?(t.consume(A),s=0,v):ct(A)?(t.consume(A),_):n(A)}function f(A){return A===45?(t.consume(A),g):n(A)}function p(A){return A===null?n(A):A===45?(t.consume(A),w):B(A)?(a=p,ye(A)):(t.consume(A),p)}function w(A){return A===45?(t.consume(A),g):p(A)}function g(A){return A===62?oe(A):A===45?w(A):p(A)}function v(A){let Ne="CDATA[";return A===Ne.charCodeAt(s++)?(t.consume(A),s===Ne.length?F:v):n(A)}function F(A){return A===null?n(A):A===93?(t.consume(A),x):B(A)?(a=F,ye(A)):(t.consume(A),F)}function x(A){return A===93?(t.consume(A),E):F(A)}function E(A){return A===62?oe(A):A===93?(t.consume(A),E):F(A)}function _(A){return A===null||A===62?oe(A):B(A)?(a=_,ye(A)):(t.consume(A),_)}function P(A){return A===null?n(A):A===63?(t.consume(A),Y):B(A)?(a=P,ye(A)):(t.consume(A),P)}function Y(A){return A===62?oe(A):P(A)}function W(A){return ct(A)?(t.consume(A),T):n(A)}function T(A){return A===45||Ze(A)?(t.consume(A),T):ne(A)}function ne(A){return B(A)?(a=ne,ye(A)):q(A)?(t.consume(A),ne):oe(A)}function Z(A){return A===45||Ze(A)?(t.consume(A),Z):A===47||A===62||xe(A)?J(A):n(A)}function J(A){return A===47?(t.consume(A),oe):A===58||A===95||ct(A)?(t.consume(A),ae):B(A)?(a=J,ye(A)):q(A)?(t.consume(A),J):oe(A)}function ae(A){return A===45||A===46||A===58||A===95||Ze(A)?(t.consume(A),ae):de(A)}function de(A){return A===61?(t.consume(A),ie):B(A)?(a=de,ye(A)):q(A)?(t.consume(A),de):J(A)}function ie(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),i=A,V):B(A)?(a=ie,ye(A)):q(A)?(t.consume(A),ie):(t.consume(A),G)}function V(A){return A===i?(t.consume(A),i=void 0,z):A===null?n(A):B(A)?(a=V,ye(A)):(t.consume(A),V)}function G(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||xe(A)?J(A):(t.consume(A),G)}function z(A){return A===47||A===62||xe(A)?J(A):n(A)}function oe(A){return A===62?(t.consume(A),t.exit("htmlTextData"),t.exit("htmlText"),e):n(A)}function ye(A){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),ke}function ke(A){return q(A)?j(t,tt,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):tt(A)}function tt(A){return t.enter("htmlTextData"),a(A)}}var Wn={name:"labelEnd",resolveAll:oA,resolveTo:sA,tokenize:aA},nA={tokenize:lA},rA={tokenize:uA},iA={tokenize:cA};function oA(t){let e=-1,n=[];for(;++e<t.length;){let r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Le(t,0,t.length,n),t}function sA(t,e){let n=t.length,r=0,i,s,a,u;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);let c={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},m={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},f={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[a-2][1].start}};return u=[["enter",c,e],["enter",m,e]],u=Xe(u,t.slice(s+1,s+r+3)),u=Xe(u,[["enter",f,e]]),u=Xe(u,Ar(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),u=Xe(u,[["exit",f,e],t[a-2],t[a-1],["exit",m,e]]),u=Xe(u,t.slice(a+1)),u=Xe(u,[["exit",c,e]]),Le(t,s,t.length,u),t}function aA(t,e,n){let r=this,i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return u;function u(w){return s?s._inactive?p(w):(a=r.parser.defined.includes(un(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(w),t.exit("labelMarker"),t.exit("labelEnd"),c):n(w)}function c(w){return w===40?t.attempt(nA,f,a?f:p)(w):w===91?t.attempt(rA,f,a?m:p)(w):a?f(w):p(w)}function m(w){return t.attempt(iA,f,p)(w)}function f(w){return e(w)}function p(w){return s._balanced=!0,n(w)}}function lA(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return xe(p)?Un(t,s)(p):s(p)}function s(p){return p===41?f(p):Eo(t,a,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return xe(p)?Un(t,c)(p):f(p)}function u(p){return n(p)}function c(p){return p===34||p===39||p===40?xo(t,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function m(p){return xe(p)?Un(t,f)(p):f(p)}function f(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function uA(t,e,n){let r=this;return i;function i(u){return Co.call(r,t,s,a,"reference","referenceMarker","referenceString")(u)}function s(u){return r.parser.defined.includes(un(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function a(u){return n(u)}}function cA(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}var yl={name:"labelStartImage",resolveAll:Wn.resolveAll,tokenize:dA};function dA(t,e,n){let r=this;return i;function i(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),s}function s(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),a):n(u)}function a(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}var bl={name:"labelStartLink",resolveAll:Wn.resolveAll,tokenize:fA};function fA(t,e,n){let r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}var li={name:"lineEnding",tokenize:hA};function hA(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),j(t,e,"linePrefix")}}var zn={name:"thematicBreak",tokenize:mA};function mA(t,e,n){let r=0,i;return s;function s(m){return t.enter("thematicBreak"),a(m)}function a(m){return i=m,u(m)}function u(m){return m===i?(t.enter("thematicBreakSequence"),c(m)):r>=3&&(m===null||B(m))?(t.exit("thematicBreak"),e(m)):n(m)}function c(m){return m===i?(t.consume(m),r++,c):(t.exit("thematicBreakSequence"),q(m)?j(t,u,"whitespace")(m):u(m))}}var Ye={continuation:{tokenize:yA},exit:kA,name:"list",tokenize:wA},pA={partial:!0,tokenize:AA},gA={partial:!0,tokenize:bA};function wA(t,e,n){let r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return u;function u(g){let v=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:ii(g)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),g===42||g===45?t.check(zn,n,m)(g):m(g);if(!r.interrupt||g===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(g)}return n(g)}function c(g){return ii(g)&&++a<10?(t.consume(g),c):(!r.interrupt||a<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(t.exit("listItemValue"),m(g)):n(g)}function m(g){return t.enter("listItemMarker"),t.consume(g),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,t.check(An,r.interrupt?n:f,t.attempt(pA,w,p))}function f(g){return r.containerState.initialBlankLine=!0,s++,w(g)}function p(g){return q(g)?(t.enter("listItemPrefixWhitespace"),t.consume(g),t.exit("listItemPrefixWhitespace"),w):n(g)}function w(g){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(g)}}function yA(t,e,n){let r=this;return r.containerState._closeFlow=void 0,t.check(An,i,s);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,j(t,e,"listItemIndent",r.containerState.size+1)(u)}function s(u){return r.containerState.furtherBlankLines||!q(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(gA,e,a)(u))}function a(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,j(t,t.attempt(Ye,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function bA(t,e,n){let r=this;return j(t,i,"listItemIndent",r.containerState.size+1);function i(s){let a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function kA(t){t.exit(this.containerState.type)}function AA(t,e,n){let r=this;return j(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){let a=r.events[r.events.length-1];return!q(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}var To={name:"setextUnderline",resolveTo:vA,tokenize:EA};function vA(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);let a={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function EA(t,e,n){let r=this,i;return s;function s(m){let f=r.events.length,p;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){p=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=m,a(m)):n(m)}function a(m){return t.enter("setextHeadingLineSequence"),u(m)}function u(m){return m===i?(t.consume(m),u):(t.exit("setextHeadingLineSequence"),q(m)?j(t,c,"lineSuffix")(m):c(m))}function c(m){return m===null||B(m)?(t.exit("setextHeadingLine"),e(m)):n(m)}}var tf={tokenize:CA};function CA(t){let e=this,n=t.attempt(An,r,t.attempt(this.parser.constructs.flowInitial,i,j(t,t.attempt(this.parser.constructs.flow,i,t.attempt(dl,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}var nf={resolveAll:af()},rf=sf("string"),of=sf("text");function sf(t){return{resolveAll:af(t==="text"?xA:void 0),tokenize:e};function e(n){let r=this,i=this.parser.constructs[t],s=n.attempt(i,a,u);return a;function a(f){return m(f)?s(f):u(f)}function u(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),c}function c(f){return m(f)?(n.exit("data"),s(f)):(n.consume(f),c)}function m(f){if(f===null)return!0;let p=i[f],w=-1;if(p)for(;++w<p.length;){let g=p[w];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function af(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function xA(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let r=t[n-1][1],i=e.sliceStream(r),s=i.length,a=-1,u=0,c;for(;s--;){let m=i[s];if(typeof m=="string"){for(a=m.length;m.charCodeAt(a-1)===32;)u++,a--;if(a)break;a=-1}else if(m===-2)c=!0,u++;else if(m!==-1){s++;break}}if(u){let m={type:n===t.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...m.start},r.start.offset===r.end.offset?Object.assign(r,m):(t.splice(n,0,["enter",m,e],["exit",m,e]),n+=2)}n++}return t}var kl={};Yc(kl,{attentionMarkers:()=>RA,contentInitial:()=>SA,disable:()=>DA,document:()=>TA,flow:()=>FA,flowInitial:()=>_A,insideSpan:()=>OA,string:()=>PA,text:()=>IA});var TA={42:Ye,43:Ye,45:Ye,48:Ye,49:Ye,50:Ye,51:Ye,52:Ye,53:Ye,54:Ye,55:Ye,56:Ye,57:Ye,62:wo},SA={91:fl},_A={[-2]:si,[-1]:si,32:si},FA={35:ml,42:zn,45:[To,zn],60:gl,61:To,95:zn,96:ko,126:ko},PA={38:bo,92:yo},IA={[-5]:li,[-4]:li,[-3]:li,33:yl,38:bo,42:oi,60:[ul,wl],91:bl,92:[hl,yo],93:Wn,95:oi,96:cl},OA={null:[oi,nf]},RA={null:[42,95]},DA={null:[]};function lf(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},i={},s=[],a=[],u=[],c=!0,m={attempt:J(ne),check:J(Z),consume:Y,enter:W,exit:T,interrupt:J(Z,{interrupt:!0})},f={code:null,containerState:{},defineSkip:E,events:[],now:x,parser:t,previous:null,sliceSerialize:v,sliceStream:F,write:g},p=e.tokenize.call(f,m),w;return e.resolveAll&&s.push(e),f;function g(V){return a=Xe(a,V),_(),a[a.length-1]!==null?[]:(ae(e,0),f.events=Ar(s,f.events,f),f.events)}function v(V,G){return LA(F(V),G)}function F(V){return MA(a,V)}function x(){let{_bufferIndex:V,_index:G,line:z,column:oe,offset:ye}=r;return{_bufferIndex:V,_index:G,line:z,column:oe,offset:ye}}function E(V){i[V.line]=V.column,ie()}function _(){let V;for(;r._index<a.length;){let G=a[r._index];if(typeof G=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<G.length;)P(G.charCodeAt(r._bufferIndex));else P(G)}}function P(V){c=void 0,w=V,p=p(V)}function Y(V){B(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,ie()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=V,c=!0}function W(V,G){let z=G||{};return z.type=V,z.start=x(),f.events.push(["enter",z,f]),u.push(z),z}function T(V){let G=u.pop();return G.end=x(),f.events.push(["exit",G,f]),G}function ne(V,G){ae(V,G.from)}function Z(V,G){G.restore()}function J(V,G){return z;function z(oe,ye,ke){let tt,A,Ne,$e;return Array.isArray(oe)?ze(oe):"tokenize"in oe?ze([oe]):b(oe);function b(Se){return On;function On(Ct){let zt=Ct!==null&&Se[Ct],mn=Ct!==null&&Se.null,Vr=[...Array.isArray(zt)?zt:zt?[zt]:[],...Array.isArray(mn)?mn:mn?[mn]:[]];return ze(Vr)(Ct)}}function ze(Se){return tt=Se,A=0,Se.length===0?ke:Wt(Se[A])}function Wt(Se){return On;function On(Ct){return $e=de(),Ne=Se,Se.partial||(f.currentConstruct=Se),Se.name&&f.parser.constructs.disable.null.includes(Se.name)?In(Ct):Se.tokenize.call(G?Object.assign(Object.create(f),G):f,m,hn,In)(Ct)}}function hn(Se){return c=!0,V(Ne,$e),ye}function In(Se){return c=!0,$e.restore(),++A<tt.length?Wt(tt[A]):ke}}}function ae(V,G){V.resolveAll&&!s.includes(V)&&s.push(V),V.resolve&&Le(f.events,G,f.events.length-G,V.resolve(f.events.slice(G),f)),V.resolveTo&&(f.events=V.resolveTo(f.events,f))}function de(){let V=x(),G=f.previous,z=f.currentConstruct,oe=f.events.length,ye=Array.from(u);return{from:oe,restore:ke};function ke(){r=V,f.previous=G,f.currentConstruct=z,f.events.length=oe,u=ye,ie()}}function ie(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function MA(t,e){let n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex,a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){let u=a[0];typeof u=="string"?a[0]=u.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function LA(t,e){let n=-1,r=[],i;for(;++n<t.length;){let s=t[n],a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function Al(t){let r={constructs:Wd([kl,...(t||{}).extensions||[]]),content:i(Kd),defined:[],document:i(Zd),flow:i(tf),lazy:{},string:i(rf),text:i(of)};return r;function i(s){return a;function a(u){return lf(r,s,u)}}}function vl(t){for(;!vo(t););return t}var uf=/[\0\t\n\r]/g;function El(){let t=1,e="",n=!0,r;return i;function i(s,a,u){let c=[],m,f,p,w,g;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),p=0,e="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(uf.lastIndex=p,m=uf.exec(s),w=m&&m.index!==void 0?m.index:s.length,g=s.charCodeAt(w),!m){e=s.slice(p);break}if(g===10&&p===w&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<w&&(c.push(s.slice(p,w)),t+=w-p),g){case 0:{c.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,c.push(-2);t++<f;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}p=w+1}return u&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}var NA=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function So(t){return t.replace(NA,$A)}function $A(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let i=n.charCodeAt(1),s=i===120||i===88;return go(n.slice(s?2:1),s?16:10)}return br(n)||t}function vn(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?cf(t.position):"start"in t||"end"in t?cf(t):"line"in t||"column"in t?Cl(t):""}function Cl(t){return df(t&&t.line)+":"+df(t&&t.column)}function cf(t){return Cl(t&&t.start)+"-"+Cl(t&&t.end)}function df(t){return t&&typeof t=="number"?t:1}var hf={}.hasOwnProperty;function xl(t,e,n){return typeof e!="string"&&(n=e,e=void 0),BA(n)(vl(Al(n).document().write(El()(t,e,!0))))}function BA(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(He),autolinkProtocol:J,autolinkEmail:J,atxHeading:s(Ii),blockQuote:s(Ct),characterEscape:J,characterReference:J,codeFenced:s(zt),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(zt,a),codeText:s(mn,a),codeTextData:J,data:J,codeFlowValue:J,definition:s(Vr),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(wa),hardBreakEscape:s(Oi),hardBreakTrailing:s(Oi),htmlFlow:s(Ri,a),htmlFlowData:J,htmlText:s(Ri,a),htmlTextData:J,image:s(Di),label:a,link:s(He),listItem:s(ya),listItemValue:w,listOrdered:s(er,p),listUnordered:s(er),paragraph:s(ba),reference:b,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Ii),strong:s(Mi),thematicBreak:s(Li)},exit:{atxHeading:c(),atxHeadingSequence:W,autolink:c(),autolinkEmail:On,autolinkProtocol:Se,blockQuote:c(),characterEscapeValue:ae,characterReferenceMarkerHexadecimal:Wt,characterReferenceMarkerNumeric:Wt,characterReferenceValue:hn,characterReference:In,codeFenced:c(x),codeFencedFence:F,codeFencedFenceInfo:g,codeFencedFenceMeta:v,codeFlowValue:ae,codeIndented:c(E),codeText:c(z),codeTextData:ae,data:ae,definition:c(),definitionDestinationString:Y,definitionLabelString:_,definitionTitleString:P,emphasis:c(),hardBreakEscape:c(ie),hardBreakTrailing:c(ie),htmlFlow:c(V),htmlFlowData:ae,htmlText:c(G),htmlTextData:ae,image:c(ye),label:tt,labelText:ke,lineEnding:de,link:c(oe),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ze,resourceDestinationString:A,resourceTitleString:Ne,resource:$e,setextHeading:c(Z),setextHeadingLineSequence:ne,setextHeadingText:T,strong:c(),thematicBreak:c()}};mf(e,(t||{}).mdastExtensions||[]);let n={};return r;function r(S){let O={type:"root",children:[]},R={stack:[O],tokenStack:[],config:e,enter:u,exit:m,buffer:a,resume:f,data:n},Q=[],le=-1;for(;++le<S.length;)if(S[le][1].type==="listOrdered"||S[le][1].type==="listUnordered")if(S[le][0]==="enter")Q.push(le);else{let Be=Q.pop();le=i(S,Be,le)}for(le=-1;++le<S.length;){let Be=e[S[le][0]];hf.call(Be,S[le][1].type)&&Be[S[le][1].type].call(Object.assign({sliceSerialize:S[le][2].sliceSerialize},R),S[le][1])}if(R.tokenStack.length>0){let Be=R.tokenStack[R.tokenStack.length-1];(Be[1]||ff).call(R,void 0,Be[0])}for(O.position={start:En(S.length>0?S[0][1].start:{line:1,column:1,offset:0}),end:En(S.length>0?S[S.length-2][1].end:{line:1,column:1,offset:0})},le=-1;++le<e.transforms.length;)O=e.transforms[le](O)||O;return O}function i(S,O,R){let Q=O-1,le=-1,Be=!1,xt,nt,ht,Rt;for(;++Q<=R;){let qe=S[Q];switch(qe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{qe[0]==="enter"?le++:le--,Rt=void 0;break}case"lineEndingBlank":{qe[0]==="enter"&&(xt&&!Rt&&!le&&!ht&&(ht=Q),Rt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Rt=void 0}if(!le&&qe[0]==="enter"&&qe[1].type==="listItemPrefix"||le===-1&&qe[0]==="exit"&&(qe[1].type==="listUnordered"||qe[1].type==="listOrdered")){if(xt){let Tt=Q;for(nt=void 0;Tt--;){let St=S[Tt];if(St[1].type==="lineEnding"||St[1].type==="lineEndingBlank"){if(St[0]==="exit")continue;nt&&(S[nt][1].type="lineEndingBlank",Be=!0),St[1].type="lineEnding",nt=Tt}else if(!(St[1].type==="linePrefix"||St[1].type==="blockQuotePrefix"||St[1].type==="blockQuotePrefixWhitespace"||St[1].type==="blockQuoteMarker"||St[1].type==="listItemIndent"))break}ht&&(!nt||ht<nt)&&(xt._spread=!0),xt.end=Object.assign({},nt?S[nt][1].start:qe[1].end),S.splice(nt||Q,0,["exit",xt,qe[2]]),Q++,R++}if(qe[1].type==="listItemPrefix"){let Tt={type:"listItem",_spread:!1,start:Object.assign({},qe[1].start),end:void 0};xt=Tt,S.splice(Q,0,["enter",Tt,qe[2]]),Q++,R++,ht=void 0,Rt=!0}}}return S[O][1]._spread=Be,R}function s(S,O){return R;function R(Q){u.call(this,S(Q),Q),O&&O.call(this,Q)}}function a(){this.stack.push({type:"fragment",children:[]})}function u(S,O,R){this.stack[this.stack.length-1].children.push(S),this.stack.push(S),this.tokenStack.push([O,R||void 0]),S.position={start:En(O.start),end:void 0}}function c(S){return O;function O(R){S&&S.call(this,R),m.call(this,R)}}function m(S,O){let R=this.stack.pop(),Q=this.tokenStack.pop();if(Q)Q[0].type!==S.type&&(O?O.call(this,S,Q[0]):(Q[1]||ff).call(this,S,Q[0]));else throw new Error("Cannot close `"+S.type+"` ("+vn({start:S.start,end:S.end})+"): it\u2019s not open");R.position.end=En(S.end)}function f(){return Yn(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function w(S){if(this.data.expectingFirstListItemValue){let O=this.stack[this.stack.length-2];O.start=Number.parseInt(this.sliceSerialize(S),10),this.data.expectingFirstListItemValue=void 0}}function g(){let S=this.resume(),O=this.stack[this.stack.length-1];O.lang=S}function v(){let S=this.resume(),O=this.stack[this.stack.length-1];O.meta=S}function F(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){let S=this.resume(),O=this.stack[this.stack.length-1];O.value=S.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){let S=this.resume(),O=this.stack[this.stack.length-1];O.value=S.replace(/(\r?\n|\r)$/g,"")}function _(S){let O=this.resume(),R=this.stack[this.stack.length-1];R.label=O,R.identifier=un(this.sliceSerialize(S)).toLowerCase()}function P(){let S=this.resume(),O=this.stack[this.stack.length-1];O.title=S}function Y(){let S=this.resume(),O=this.stack[this.stack.length-1];O.url=S}function W(S){let O=this.stack[this.stack.length-1];if(!O.depth){let R=this.sliceSerialize(S).length;O.depth=R}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function ne(S){let O=this.stack[this.stack.length-1];O.depth=this.sliceSerialize(S).codePointAt(0)===61?1:2}function Z(){this.data.setextHeadingSlurpLineEnding=void 0}function J(S){let R=this.stack[this.stack.length-1].children,Q=R[R.length-1];(!Q||Q.type!=="text")&&(Q=Ge(),Q.position={start:En(S.start),end:void 0},R.push(Q)),this.stack.push(Q)}function ae(S){let O=this.stack.pop();O.value+=this.sliceSerialize(S),O.position.end=En(S.end)}function de(S){let O=this.stack[this.stack.length-1];if(this.data.atHardBreak){let R=O.children[O.children.length-1];R.position.end=En(S.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(O.type)&&(J.call(this,S),ae.call(this,S))}function ie(){this.data.atHardBreak=!0}function V(){let S=this.resume(),O=this.stack[this.stack.length-1];O.value=S}function G(){let S=this.resume(),O=this.stack[this.stack.length-1];O.value=S}function z(){let S=this.resume(),O=this.stack[this.stack.length-1];O.value=S}function oe(){let S=this.stack[this.stack.length-1];if(this.data.inReference){let O=this.data.referenceType||"shortcut";S.type+="Reference",S.referenceType=O,delete S.url,delete S.title}else delete S.identifier,delete S.label;this.data.referenceType=void 0}function ye(){let S=this.stack[this.stack.length-1];if(this.data.inReference){let O=this.data.referenceType||"shortcut";S.type+="Reference",S.referenceType=O,delete S.url,delete S.title}else delete S.identifier,delete S.label;this.data.referenceType=void 0}function ke(S){let O=this.sliceSerialize(S),R=this.stack[this.stack.length-2];R.label=So(O),R.identifier=un(O).toLowerCase()}function tt(){let S=this.stack[this.stack.length-1],O=this.resume(),R=this.stack[this.stack.length-1];if(this.data.inReference=!0,R.type==="link"){let Q=S.children;R.children=Q}else R.alt=O}function A(){let S=this.resume(),O=this.stack[this.stack.length-1];O.url=S}function Ne(){let S=this.resume(),O=this.stack[this.stack.length-1];O.title=S}function $e(){this.data.inReference=void 0}function b(){this.data.referenceType="collapsed"}function ze(S){let O=this.resume(),R=this.stack[this.stack.length-1];R.label=O,R.identifier=un(this.sliceSerialize(S)).toLowerCase(),this.data.referenceType="full"}function Wt(S){this.data.characterReferenceType=S.type}function hn(S){let O=this.sliceSerialize(S),R=this.data.characterReferenceType,Q;R?(Q=go(O,R==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Q=br(O);let le=this.stack[this.stack.length-1];le.value+=Q}function In(S){let O=this.stack.pop();O.position.end=En(S.end)}function Se(S){ae.call(this,S);let O=this.stack[this.stack.length-1];O.url=this.sliceSerialize(S)}function On(S){ae.call(this,S);let O=this.stack[this.stack.length-1];O.url="mailto:"+this.sliceSerialize(S)}function Ct(){return{type:"blockquote",children:[]}}function zt(){return{type:"code",lang:null,meta:null,value:""}}function mn(){return{type:"inlineCode",value:""}}function Vr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function wa(){return{type:"emphasis",children:[]}}function Ii(){return{type:"heading",depth:0,children:[]}}function Oi(){return{type:"break"}}function Ri(){return{type:"html",value:""}}function Di(){return{type:"image",title:null,url:"",alt:null}}function He(){return{type:"link",title:null,url:"",children:[]}}function er(S){return{type:"list",ordered:S.type==="listOrdered",start:null,spread:S._spread,children:[]}}function ya(S){return{type:"listItem",spread:S._spread,checked:null,children:[]}}function ba(){return{type:"paragraph",children:[]}}function Mi(){return{type:"strong",children:[]}}function Ge(){return{type:"text",value:""}}function Li(){return{type:"thematicBreak"}}}function En(t){return{line:t.line,column:t.column,offset:t.offset}}function mf(t,e){let n=-1;for(;++n<e.length;){let r=e[n];Array.isArray(r)?mf(t,r):VA(t,r)}}function VA(t,e){let n;for(n in e)if(hf.call(e,n))switch(n){case"canContainEols":{let r=e[n];r&&t[n].push(...r);break}case"transforms":{let r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{let r=e[n];r&&Object.assign(t[n],r);break}}}function ff(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+vn({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+vn({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+vn({start:e.start,end:e.end})+") is still open")}function vr(t){let e=this;e.parser=n;function n(r){return xl(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}var pf={}.hasOwnProperty;function gf(t,e){let n=e||{};function r(i,...s){let a=r.invalid,u=r.handlers;if(i&&pf.call(i,t)){let c=String(i[t]);a=pf.call(u,c)?u[c]:r.unknown}if(a)return a.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}var YA={}.hasOwnProperty;function Tl(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)Tl(t,e.extensions[n]);for(r in e)if(YA.call(e,r))switch(r){case"extensions":break;case"unsafe":{wf(t[r],e[r]);break}case"join":{wf(t[r],e[r]);break}case"handlers":{UA(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function wf(t,e){e&&t.push(...e)}function UA(t,e){e&&Object.assign(t,e)}function yf(t,e,n,r){let i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);let a=n.indentLines(n.containerFlow(t,s.current()),WA);return i(),a}function WA(t,e,n){return">"+(n?"":" ")+t}function _o(t,e){return bf(t,e.inConstruct,!0)&&!bf(t,e.notInConstruct,!1)}function bf(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function Sl(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&_o(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function kf(t,e){let n=String(t),r=n.indexOf(e),i=r,s=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+e.length,r=n.indexOf(e,i);return a}function ui(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Af(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function vf(t,e,n,r){let i=Af(n),s=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(ui(t,n)){let p=n.enter("codeIndented"),w=n.indentLines(s,zA);return p(),w}let u=n.createTracker(r),c=i.repeat(Math.max(kf(s,i)+1,3)),m=n.enter("codeFenced"),f=u.move(c);if(t.lang){let p=n.enter(`codeFencedLang${a}`);f+=u.move(n.safe(t.lang,{before:f,after:" ",encode:["`"],...u.current()})),p()}if(t.lang&&t.meta){let p=n.enter(`codeFencedMeta${a}`);f+=u.move(" "),f+=u.move(n.safe(t.meta,{before:f,after:`
`,encode:["`"],...u.current()})),p()}return f+=u.move(`
`),s&&(f+=u.move(s+`
`)),f+=u.move(c),m(),f}function zA(t,e,n){return(n?"":"    ")+t}function Er(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Ef(t,e,n,r){let i=Er(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition"),u=n.enter("label"),c=n.createTracker(r),m=c.move("[");return m+=c.move(n.safe(n.associationId(t),{before:m,after:"]",...c.current()})),m+=c.move("]: "),u(),!t.url||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),m+=c.move("<"),m+=c.move(n.safe(t.url,{before:m,after:">",...c.current()})),m+=c.move(">")):(u=n.enter("destinationRaw"),m+=c.move(n.safe(t.url,{before:m,after:t.title?" ":`
`,...c.current()}))),u(),t.title&&(u=n.enter(`title${s}`),m+=c.move(" "+i),m+=c.move(n.safe(t.title,{before:m,after:i,...c.current()})),m+=c.move(i),u()),a(),m}function Cf(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function dt(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Cr(t,e,n){let r=kr(t),i=kr(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}_l.peek=HA;function _l(t,e,n,r){let i=Cf(n),s=n.enter("emphasis"),a=n.createTracker(r),u=a.move(i),c=a.move(n.containerPhrasing(t,{after:i,before:u,...a.current()})),m=c.charCodeAt(0),f=Cr(r.before.charCodeAt(r.before.length-1),m,i);f.inside&&(c=dt(m)+c.slice(1));let p=c.charCodeAt(c.length-1),w=Cr(r.after.charCodeAt(0),p,i);w.inside&&(c=c.slice(0,-1)+dt(p));let g=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:w.outside,before:f.outside},u+c+g}function HA(t,e,n){return n.options.emphasis||"*"}var xr=(function(t){if(t==null)return KA;if(typeof t=="function")return Fo(t);if(typeof t=="object")return Array.isArray(t)?GA(t):qA(t);if(typeof t=="string")return jA(t);throw new Error("Expected function, string, or object as test")});function GA(t){let e=[],n=-1;for(;++n<t.length;)e[n]=xr(t[n]);return Fo(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function qA(t){let e=t;return Fo(n);function n(r){let i=r,s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function jA(t){return Fo(e);function e(n){return n&&n.type===t}}function Fo(t){return e;function e(n,r,i){return!!(XA(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function KA(){return!0}function XA(t){return t!==null&&typeof t=="object"&&"type"in t}function xf(t){return"\x1B[33m"+t+"\x1B[39m"}var Tf=[],Po=!0,Hn=!1,Io="skip";function Fl(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;let s=xr(i),a=r?-1:1;u(t,void 0,[])();function u(c,m,f){let p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){let g=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(w,"name",{value:"node ("+xf(c.type+(g?"<"+g+">":""))+")"})}return w;function w(){let g=Tf,v,F,x;if((!e||s(c,m,f[f.length-1]||void 0))&&(g=ZA(n(c,f)),g[0]===Hn))return g;if("children"in c&&c.children){let E=c;if(E.children&&g[0]!==Io)for(F=(r?E.children.length:-1)+a,x=f.concat(E);F>-1&&F<E.children.length;){let _=E.children[F];if(v=u(_,F,x)(),v[0]===Hn)return v;F=typeof v[1]=="number"?v[1]:F+a}}return g}}}function ZA(t){return Array.isArray(t)?t:typeof t=="number"?[Po,t]:t==null?Tf:[t]}function ci(t,e,n,r){let i,s,a;typeof e=="function"&&typeof n!="function"?(s=void 0,a=e,i=n):(s=e,a=n,i=r),Fl(t,s,u,i);function u(c,m){let f=m[m.length-1],p=f?f.children.indexOf(c):void 0;return a(c,p,f)}}function Oo(t,e){let n=!1;return ci(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Hn}),!!((!t.depth||t.depth<3)&&Yn(t)&&(e.options.setext||n))}function Sf(t,e,n,r){let i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(Oo(t,n)){let f=n.enter("headingSetext"),p=n.enter("phrasing"),w=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return p(),f(),w+`
`+(i===1?"=":"-").repeat(w.length-(Math.max(w.lastIndexOf("\r"),w.lastIndexOf(`
`))+1))}let a="#".repeat(i),u=n.enter("headingAtx"),c=n.enter("phrasing");s.move(a+" ");let m=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(m)&&(m=dt(m.charCodeAt(0))+m.slice(1)),m=m?a+" "+m:a,n.options.closeAtx&&(m+=" "+a),c(),u(),m}Pl.peek=JA;function Pl(t){return t.value||""}function JA(){return"<"}Il.peek=QA;function Il(t,e,n,r){let i=Er(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image"),u=n.enter("label"),c=n.createTracker(r),m=c.move("![");return m+=c.move(n.safe(t.alt,{before:m,after:"]",...c.current()})),m+=c.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),m+=c.move("<"),m+=c.move(n.safe(t.url,{before:m,after:">",...c.current()})),m+=c.move(">")):(u=n.enter("destinationRaw"),m+=c.move(n.safe(t.url,{before:m,after:t.title?" ":")",...c.current()}))),u(),t.title&&(u=n.enter(`title${s}`),m+=c.move(" "+i),m+=c.move(n.safe(t.title,{before:m,after:i,...c.current()})),m+=c.move(i),u()),m+=c.move(")"),a(),m}function QA(){return"!"}Ol.peek=ev;function Ol(t,e,n,r){let i=t.referenceType,s=n.enter("imageReference"),a=n.enter("label"),u=n.createTracker(r),c=u.move("!["),m=n.safe(t.alt,{before:c,after:"]",...u.current()});c+=u.move(m+"]["),a();let f=n.stack;n.stack=[],a=n.enter("reference");let p=n.safe(n.associationId(t),{before:c,after:"]",...u.current()});return a(),n.stack=f,s(),i==="full"||!m||m!==p?c+=u.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function ev(){return"!"}Rl.peek=tv;function Rl(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){let a=n.unsafe[s],u=n.compilePattern(a),c;if(a.atBreak)for(;c=u.exec(r);){let m=c.index;r.charCodeAt(m)===10&&r.charCodeAt(m-1)===13&&m--,r=r.slice(0,m)+" "+r.slice(c.index+1)}}return i+r+i}function tv(){return"`"}function Dl(t,e){let n=Yn(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Ml.peek=nv;function Ml(t,e,n,r){let i=Er(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r),u,c;if(Dl(t,n)){let f=n.stack;n.stack=[],u=n.enter("autolink");let p=a.move("<");return p+=a.move(n.containerPhrasing(t,{before:p,after:">",...a.current()})),p+=a.move(">"),u(),n.stack=f,p}u=n.enter("link"),c=n.enter("label");let m=a.move("[");return m+=a.move(n.containerPhrasing(t,{before:m,after:"](",...a.current()})),m+=a.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),m+=a.move("<"),m+=a.move(n.safe(t.url,{before:m,after:">",...a.current()})),m+=a.move(">")):(c=n.enter("destinationRaw"),m+=a.move(n.safe(t.url,{before:m,after:t.title?" ":")",...a.current()}))),c(),t.title&&(c=n.enter(`title${s}`),m+=a.move(" "+i),m+=a.move(n.safe(t.title,{before:m,after:i,...a.current()})),m+=a.move(i),c()),m+=a.move(")"),u(),m}function nv(t,e,n){return Dl(t,n)?"<":"["}Ll.peek=rv;function Ll(t,e,n,r){let i=t.referenceType,s=n.enter("linkReference"),a=n.enter("label"),u=n.createTracker(r),c=u.move("["),m=n.containerPhrasing(t,{before:c,after:"]",...u.current()});c+=u.move(m+"]["),a();let f=n.stack;n.stack=[],a=n.enter("reference");let p=n.safe(n.associationId(t),{before:c,after:"]",...u.current()});return a(),n.stack=f,s(),i==="full"||!m||m!==p?c+=u.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function rv(){return"["}function Tr(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function _f(t){let e=Tr(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Ff(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Ro(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Pf(t,e,n,r){let i=n.enter("list"),s=n.bulletCurrent,a=t.ordered?Ff(n):Tr(n),u=t.ordered?a==="."?")":".":_f(n),c=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){let f=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),Ro(n)===a&&f){let p=-1;for(;++p<t.children.length;){let w=t.children[p];if(w&&w.type==="listItem"&&w.children&&w.children[0]&&w.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=u),n.bulletCurrent=a;let m=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),m}function If(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Of(t,e,n,r){let i=If(n),s=n.bulletCurrent||Tr(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);let u=n.createTracker(r);u.move(s+" ".repeat(a-s.length)),u.shift(a);let c=n.enter("listItem"),m=n.indentLines(n.containerFlow(t,u.current()),f);return c(),m;function f(p,w,g){return w?(g?"":" ".repeat(a))+p:(g?s:s+" ".repeat(a-s.length))+p}}function Rf(t,e,n,r){let i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(t,r);return s(),i(),a}var Nl=xr(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Df(t,e,n,r){return(t.children.some(function(a){return Nl(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function Mf(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}$l.peek=iv;function $l(t,e,n,r){let i=Mf(n),s=n.enter("strong"),a=n.createTracker(r),u=a.move(i+i),c=a.move(n.containerPhrasing(t,{after:i,before:u,...a.current()})),m=c.charCodeAt(0),f=Cr(r.before.charCodeAt(r.before.length-1),m,i);f.inside&&(c=dt(m)+c.slice(1));let p=c.charCodeAt(c.length-1),w=Cr(r.after.charCodeAt(0),p,i);w.inside&&(c=c.slice(0,-1)+dt(p));let g=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:w.outside,before:f.outside},u+c+g}function iv(t,e,n){return n.options.strong||"*"}function Lf(t,e,n,r){return n.safe(t.value,r)}function Nf(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function $f(t,e,n){let r=(Ro(n)+(n.options.ruleSpaces?" ":"")).repeat(Nf(n));return n.options.ruleSpaces?r.slice(0,-1):r}var Bf={blockquote:yf,break:Sl,code:vf,definition:Ef,emphasis:_l,hardBreak:Sl,heading:Sf,html:Pl,image:Il,imageReference:Ol,inlineCode:Rl,link:Ml,linkReference:Ll,list:Pf,listItem:Of,paragraph:Rf,root:Df,strong:$l,text:Lf,thematicBreak:$f};var Vf=[ov];function ov(t,e,n,r){if(e.type==="code"&&ui(e,r)&&(t.type==="list"||t.type===e.type&&ui(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&Oo(e,r))?void 0:n.spread?1:0}var Gn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],Yf=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Gn},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Gn},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Gn},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Gn},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Gn},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Gn},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Gn},{atBreak:!0,character:"~"}];function Uf(t){return t.label||!t.identifier?t.label||"":So(t.identifier)}function Wf(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function zf(t,e,n){let r=e.indexStack,i=t.children||[],s=[],a=-1,u=n.before,c;r.push(-1);let m=e.createTracker(n);for(;++a<i.length;){let f=i[a],p;if(r[r.length-1]=a,a+1<i.length){let v=e.handle.handlers[i[a+1].type];v&&v.peek&&(v=v.peek),p=v?v(i[a+1],t,e,{before:"",after:"",...m.current()}).charAt(0):""}else p=n.after;s.length>0&&(u==="\r"||u===`
`)&&f.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),u=" ",m=e.createTracker(n),m.move(s.join("")));let w=e.handle(f,t,e,{...m.current(),after:p,before:u});c&&c===w.slice(0,1)&&(w=dt(c.charCodeAt(0))+w.slice(1));let g=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,c=void 0,g&&(s.length>0&&g.before&&u===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+dt(u.charCodeAt(0))),g.after&&(c=p)),m.move(w),s.push(w),u=w.slice(-1)}return r.pop(),s.join("")}function Hf(t,e,n){let r=e.indexStack,i=t.children||[],s=e.createTracker(n),a=[],u=-1;for(r.push(-1);++u<i.length;){let c=i[u];r[r.length-1]=u,a.push(s.move(e.handle(c,t,e,{before:`
`,after:`
`,...s.current()}))),c.type!=="list"&&(e.bulletLastUsed=void 0),u<i.length-1&&a.push(s.move(sv(c,i[u+1],t,e)))}return r.pop(),a.join("")}function sv(t,e,n,r){let i=r.join.length;for(;i--;){let s=r.join[i](t,e,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}var av=/\r?\n|\r/g;function Gf(t,e){let n=[],r=0,i=0,s;for(;s=av.exec(t);)a(t.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,i++;return a(t.slice(r)),n.join("");function a(u){n.push(e(u,i,!u))}}function jf(t,e,n){let r=(n.before||"")+(e||"")+(n.after||""),i=[],s=[],a={},u=-1;for(;++u<t.unsafe.length;){let f=t.unsafe[u];if(!_o(t.stack,f))continue;let p=t.compilePattern(f),w;for(;w=p.exec(r);){let g="before"in f||!!f.atBreak,v="after"in f,F=w.index+(g?w[1].length:0);i.includes(F)?(a[F].before&&!g&&(a[F].before=!1),a[F].after&&!v&&(a[F].after=!1)):(i.push(F),a[F]={before:g,after:v})}}i.sort(lv);let c=n.before?n.before.length:0,m=r.length-(n.after?n.after.length:0);for(u=-1;++u<i.length;){let f=i[u];f<c||f>=m||f+1<m&&i[u+1]===f+1&&a[f].after&&!a[f+1].before&&!a[f+1].after||i[u-1]===f-1&&a[f].before&&!a[f-1].before&&!a[f-1].after||(c!==f&&s.push(qf(r.slice(c,f),"\\")),c=f,/[!-/:-@[-`{-~]/.test(r.charAt(f))&&(!n.encode||!n.encode.includes(r.charAt(f)))?s.push("\\"):(s.push(dt(r.charCodeAt(f))),c++))}return s.push(qf(r.slice(c,m),n.after)),s.join("")}function lv(t,e){return t-e}function qf(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],s=t+e,a=-1,u=0,c;for(;c=n.exec(s);)r.push(c.index);for(;++a<r.length;)u!==r[a]&&i.push(t.slice(u,r[a])),i.push("\\"),u=r[a];return i.push(t.slice(u)),i.join("")}function Kf(t){let e=t||{},n=e.now||{},r=e.lineShift||0,i=n.line||1,s=n.column||1;return{move:c,current:a,shift:u};function a(){return{now:{line:i,column:s},lineShift:r}}function u(m){r+=m}function c(m){let f=m||"",p=f.split(/\r?\n|\r/g),w=p[p.length-1];return i+=p.length-1,s=p.length===1?s+w.length:1+w.length+r,f}}function Bl(t,e){let n=e||{},r={associationId:Uf,containerPhrasing:fv,containerFlow:hv,createTracker:Kf,compilePattern:Wf,enter:s,handlers:{...Bf},handle:void 0,indentLines:Gf,indexStack:[],join:[...Vf],options:{},safe:mv,stack:[],unsafe:[...Yf]};Tl(r,n),r.options.tightDefinitions&&r.join.push(dv),r.handle=gf("type",{invalid:uv,unknown:cv,handlers:r.handlers});let i=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function s(a){return r.stack.push(a),u;function u(){r.stack.pop()}}}function uv(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function cv(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function dv(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function fv(t,e){return zf(t,this,e)}function hv(t,e){return Hf(t,this,e)}function mv(t,e){return jf(this,t,e)}function Do(t){let e=this;e.compiler=n;function n(r){return Bl(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}}function Vl(t){if(t)throw t}var $o=Me(ih(),1);function di(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Yl(){let t=[],e={run:n,use:r};return e;function n(...i){let s=-1,a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);u(null,...i);function u(c,...m){let f=t[++s],p=-1;if(c){a(c);return}for(;++p<i.length;)(m[p]===null||m[p]===void 0)&&(m[p]=i[p]);i=m,f?oh(f,u)(...m):a(null,...m)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function oh(t,e){let n;return r;function r(...a){let u=t.length>a.length,c;u&&a.push(i);try{c=t.apply(this,a)}catch(m){let f=m;if(u&&n)throw f;return i(f)}u||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...u){n||(n=!0,e(a,...u))}function s(a){i(null,a)}}var Re=class extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){let c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){let c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}let u=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=u?u.line:void 0,this.name=vn(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}};Re.prototype.file="";Re.prototype.name="";Re.prototype.reason="";Re.prototype.message="";Re.prototype.stack="";Re.prototype.column=void 0;Re.prototype.line=void 0;Re.prototype.ancestors=void 0;Re.prototype.cause=void 0;Re.prototype.fatal=void 0;Re.prototype.place=void 0;Re.prototype.ruleId=void 0;Re.prototype.source=void 0;var kt=Me(require("node:path"),1);var Ul=Me(require("node:process"),1);var Wl=require("node:url");function Lo(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}var zl=["history","path","basename","stem","extname","dirname"],fi=class{constructor(e){let n;e?Lo(e)?n={path:e}:typeof e=="string"||pv(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Ul.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<zl.length;){let s=zl[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)zl.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?kt.default.basename(this.path):void 0}set basename(e){Gl(e,"basename"),Hl(e,"basename"),this.path=kt.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?kt.default.dirname(this.path):void 0}set dirname(e){sh(this.basename,"dirname"),this.path=kt.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?kt.default.extname(this.path):void 0}set extname(e){if(Hl(e,"extname"),sh(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=kt.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Lo(e)&&(e=(0,Wl.fileURLToPath)(e)),Gl(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?kt.default.basename(this.path,this.extname):void 0}set stem(e){Gl(e,"stem"),Hl(e,"stem"),this.path=kt.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){let i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){let i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){let i=new Re(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function Hl(t,e){if(t&&t.includes(kt.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+kt.default.sep+"`")}function Gl(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function sh(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function pv(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var ah=(function(t){let r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s});var gv={}.hasOwnProperty,Xl=class t extends ah{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Yl()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let r=this.attachers[n];e.use(...r)}return e.data((0,$o.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Kl("data",this.frozen),this.namespace[e]=n,this):gv.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Kl("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=No(e),r=this.parser||this.Parser;return ql("parse",r),r(String(n),n)}process(e,n){let r=this;return this.freeze(),ql("process",this.parser||this.Parser),jl("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){let u=No(e),c=r.parse(u);r.run(c,u,function(f,p,w){if(f||!p||!w)return m(f);let g=p,v=r.stringify(g,w);yv(v)?w.value=v:w.result=v,m(f,w)});function m(f,p){f||!p?a(f):s?s(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),ql("processSync",this.parser||this.Parser),jl("processSync",this.compiler||this.Compiler),this.process(e,i),uh("processSync","process",n),r;function i(s,a){n=!0,Vl(s),r=a}}run(e,n,r){lh(e),this.freeze();let i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,u){let c=No(n);i.run(e,c,m);function m(f,p,w){let g=p||e;f?u(f):a?a(g):r(void 0,g,w)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),uh("runSync","run",r),i;function s(a,u){Vl(a),i=u,r=!0}}stringify(e,n){this.freeze();let r=No(n),i=this.compiler||this.Compiler;return jl("stringify",i),lh(e),i(e,r)}use(e,...n){let r=this.attachers,i=this.namespace;if(Kl("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(m){if(typeof m=="function")c(m,[]);else if(typeof m=="object")if(Array.isArray(m)){let[f,...p]=m;c(f,p)}else a(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function a(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(m.plugins),m.settings&&(i.settings=(0,$o.default)(!0,i.settings,m.settings))}function u(m){let f=-1;if(m!=null)if(Array.isArray(m))for(;++f<m.length;){let p=m[f];s(p)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function c(m,f){let p=-1,w=-1;for(;++p<r.length;)if(r[p][0]===m){w=p;break}if(w===-1)r.push([m,...f]);else if(f.length>0){let[g,...v]=f,F=r[w][1];di(F)&&di(g)&&(g=(0,$o.default)(!0,F,g)),r[w]=[m,g,...v]}}}},Zl=new Xl().freeze();function ql(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function jl(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Kl(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function lh(t){if(!di(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function uh(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function No(t){return wv(t)?t:new fi(t)}function wv(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function yv(t){return typeof t=="string"||bv(t)}function bv(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var ch=Zl().use(vr).use(Do).freeze();var Ql={d:(t,e)=>{for(var n in e)Ql.o(e,n)&&!Ql.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},eu={};Ql.d(eu,{Z:()=>Ev,$:()=>mh});var Sr={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function dh(t){return t<Sr.nul||t===Sr.space}function Jl(t){return t<Sr.horizontalTab}var kv={553:t=>{t.exports=function(e){var n,r;return e._compiled||(n=e.before?"(?:"+e.before+")":"",r=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(r||""),"g")),e._compiled}},112:t=>{function e(n,r,i){var s;if(!r)return i;for(typeof r=="string"&&(r=[r]),s=-1;++s<r.length;)if(n.indexOf(r[s])!==-1)return!0;return!1}t.exports=function(n,r){return e(n,r.inConstruct,!0)&&!e(n,r.notInConstruct)}},113:(t,e,n)=>{t.exports=function(u,c,m){for(var f,p,w,g,v,F,x,E,_=(m.before||"")+(c||"")+(m.after||""),P=[],Y=[],W={},T=-1;++T<u.unsafe.length;)if(g=u.unsafe[T],i(u.stack,g))for(v=r(g);F=v.exec(_);)f="before"in g||g.atBreak,p="after"in g,w=F.index+(f?F[1].length:0),P.indexOf(w)===-1?(P.push(w),W[w]={before:f,after:p}):(W[w].before&&!f&&(W[w].before=!1),W[w].after&&!p&&(W[w].after=!1));for(P.sort(s),x=m.before?m.before.length:0,E=_.length-(m.after?m.after.length:0),T=-1;++T<P.length;)(w=P[T])<x||w>=E||w+1<E&&P[T+1]===w+1&&W[w].after&&!W[w+1].before&&!W[w+1].after||(x!==w&&Y.push(a(_.slice(x,w),"\\")),x=w,!/[!-/:-@[-`{-~]/.test(_.charAt(w))||m.encode&&m.encode.indexOf(_.charAt(w))!==-1?(Y.push("&#x"+_.charCodeAt(w).toString(16).toUpperCase()+";"),x++):Y.push("\\"));return Y.push(a(_.slice(x,E),m.after)),Y.join("")};var r=n(553),i=n(112);function s(u,c){return u-c}function a(u,c){for(var m,f=/\\(?=[!-/:-@[-`{-~])/g,p=[],w=[],g=-1,v=0,F=u+c;m=f.exec(F);)p.push(m.index);for(;++g<p.length;)v!==p[g]&&w.push(u.slice(v,p[g])),w.push("\\"),v=p[g];return w.push(u.slice(v)),w.join("")}}},fh={};function Yt(t){var e=fh[t];if(e!==void 0)return e.exports;var n=fh[t]={exports:{}};return kv[t](n,n.exports,Yt),n.exports}Yt.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Yt.d(e,{a:e}),e},Yt.d=(t,e)=>{for(var n in e)Yt.o(e,n)&&!Yt.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Yt.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var tu={};(()=>{function t(i={}){let s=i.permalinks||[],a=i.pageResolver||(w=>[w.replace(/ /g,"_").toLowerCase()]),u=i.newClassName||"new",c=i.wikiLinkClassName||"internal",m=i.hrefTemplate||(w=>`#/page/${w}`),f;function p(w){return w[w.length-1]}return{enter:{wikiLink:function(w){f={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(f,w)}},exit:{wikiLinkTarget:function(w){let g=this.sliceSerialize(w);p(this.stack).value=g},wikiLinkAlias:function(w){let g=this.sliceSerialize(w);p(this.stack).data.alias=g},wikiLink:function(w){this.exit(w);let g=f,v=a(g.value),F=v.find((Y=>s.indexOf(Y)!==-1)),x=F!==void 0,E;E=x?F:v[0]||"";let _=g.value;g.data.alias&&(_=g.data.alias);let P=c;x||(P+=" "+u),g.data.alias=_,g.data.permalink=E,g.data.exists=x,g.data.hName="a",g.data.hProperties={className:P,href:m(E)},g.data.hChildren=[{type:"text",value:_}]}}}}Yt.d(tu,{V:()=>t,x:()=>r});var e=Yt(113),n=Yt.n(e);function r(i={}){let s=i.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:function(a,u,c){let m=c.enter("wikiLink"),f=n()(c,a.value,{before:"[",after:"]"}),p=n()(c,a.data.alias,{before:"[",after:"]"}),w;return w=p!==f?`[[${f}${s}${p}]]`:`[[${f}]]`,m(),w}}}}})();var Av=tu.V,vv=tu.x,hh=!1;function mh(t={}){let e=this.data();function n(r,i){e[r]?e[r].push(i):e[r]=[i]}!hh&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(hh=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",(function(){var r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",i="]]";return{text:{91:{tokenize:function(s,a,u){var c,m,f=0,p=0,w=0;return function(_){return _!=="[[".charCodeAt(p)?u(_):(s.enter("wikiLink"),s.enter("wikiLinkMarker"),g(_))};function g(_){return p===2?(s.exit("wikiLinkMarker"),(function(P){return Jl(P)||P===Sr.eof?u(P):(s.enter("wikiLinkData"),s.enter("wikiLinkTarget"),v(P))})(_)):_!=="[[".charCodeAt(p)?u(_):(s.consume(_),p++,g)}function v(_){return _===r.charCodeAt(f)?c?(s.exit("wikiLinkTarget"),s.enter("wikiLinkAliasMarker"),F(_)):u(_):_===i.charCodeAt(w)?c?(s.exit("wikiLinkTarget"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),E(_)):u(_):Jl(_)||_===Sr.eof?u(_):(dh(_)||(c=!0),s.consume(_),v)}function F(_){return f===r.length?(s.exit("wikiLinkAliasMarker"),s.enter("wikiLinkAlias"),x(_)):_!==r.charCodeAt(f)?u(_):(s.consume(_),f++,F)}function x(_){return _===i.charCodeAt(w)?m?(s.exit("wikiLinkAlias"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),E(_)):u(_):Jl(_)||_===Sr.eof?u(_):(dh(_)||(m=!0),s.consume(_),x)}function E(_){return w===2?(s.exit("wikiLinkMarker"),s.exit("wikiLink"),a(_)):_!==i.charCodeAt(w)?u(_):(s.consume(_),w++,E)}}}}}})(t)),n("fromMarkdownExtensions",Av(t)),n("toMarkdownExtensions",vv(t))}var Ev=mh,SO=eu.Z,ph=eu.$;(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Cv=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function nu(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return Cv.test(t)}var qn=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Bo(t){let e=(0,qn.getFrontMatterInfo)(t);return(0,qn.parseYaml)(e.frontmatter)??{}}function gh(t,e){let n=(0,qn.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let r=(0,qn.stringifyYaml)(e);return n.exists?yd(t,r,n.from,n.to):`---
${r}---
${t}`}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function ft(t){if(!ut(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function wh(t){return ru(t)&&t.type==="file"}function ru(t){return ut(t)&&!!t.isCanvas}function _r(t,e){return{newContent:e,oldContent:t.original,reference:t}}function yh(t){return t.sort((e,n)=>{if(ut(e)&&ut(n)){let r=ft(e)?e.startOffset:0,i=ft(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(ft(n))-Number(ft(e))||r-i}return on(e)&&on(n)?e.position.start.offset-n.position.start.offset:ut(e)?1:-1})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function bh(t,e,n){let r=Oe(t,e),i=yt(n);await Vo(t,i);let s=kh(t,n);try{await t.vault.copy(r,s)}catch(a){if(!await t.vault.exists(s))throw a}return s}async function Vo(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}function kh(t,e){let n=Te(e);return t.vault.getAvailablePath(Ce(Ee(e),Ae(e,n)),n.slice(1))}function iu(t,e,n){let r=be(t,e);if(t.vault.adapter.insensitive){let i=Ee(n),s=Ae(n),a;for(;a=Vt(t,i,!0),!a;)s=Ce(Ae(i),s),i=Ee(i);n=Ce(a.getParentPrefix(),s)}return r.toLowerCase()===n.toLowerCase()?n:kh(t,n)}async function ou(t,e){let n=await su(t,be(t,e));return n.files.length===0&&n.folders.length===0}async function su(t,e){let n=be(t,e),r={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return r;try{return await t.vault.adapter.list(n)}catch(i){if(await t.vault.exists(n))throw i;return r}}async function Yo(t,e,n,r={}){let s={...{shouldFailOnMissingFile:!0},...r};await uo(async a=>{a.throwIfAborted();let u=await au(t,e);if(a.throwIfAborted(),u===null)return p();let c=await Bn(n,a,u);if(a.throwIfAborted(),c===null)return!1;let m=!0;if(!await Ah(t,e,async w=>{a.throwIfAborted(),await t.vault.process(w,g=>(a.throwIfAborted(),g!==u?(console.warn("Content has changed since it was read. Retrying...",{actualContent:g,expectedContent:u,path:w.path}),m=!1,g):c)),a.throwIfAborted()}))return p();return m;function p(){if(s.shouldFailOnMissingFile){let w=be(t,e);throw new Error(`File '${w}' not found`)}return!0}},s)}async function au(t,e){let n=null;return await Ah(t,e,async r=>{n=await t.vault.read(r)}),n}async function Uo(t,e,n){let r=Oe(t,e,!1,!0),i=iu(t,e,n);if(r.path.toLowerCase()===i.toLowerCase())return r.path!==n&&await t.vault.rename(r,i),i;let s=yt(i);await Vo(t,s);try{await t.vault.rename(r,i)}catch(a){if(!await t.vault.exists(i)||await t.vault.exists(r.path))throw a}return i}async function Ah(t,e,n){let r=be(t,e),i=ot(t,r);if(!i||i.deleted)return!1;try{return await n(i),!0}catch(s){if(i=ot(t,r),!i||i.deleted)return!1;throw s}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Ho(t,e,n,r,i=!0){t.throwIfAborted();let s=await Bn(r,t),a={},u=!1;try{a=Bo(e)}catch(w){console.error(new Error(`Frontmatter parsing failed in ${n}`,{cause:w})),u=!0}if(!Pv(s,e,a,n,i))return i?null:e;s.sort((w,g)=>cn(w)&&cn(g)?w.reference.position.start.offset-g.reference.position.start.offset:zo(w)&&zo(g)?w.reference.key.localeCompare(g.reference.key)||w.reference.startOffset-g.reference.startOffset:Wo(w)&&Wo(g)?w.reference.key.localeCompare(g.reference.key):cn(w)?-1:1),s=s.filter((w,g)=>w.oldContent===w.newContent?!1:g===0?!0:!wt(w,s[g-1]));for(let w=1;w<s.length;w++){let g=s[w];if(!g)continue;let v=s[w-1];if(v&&cn(v)&&cn(g)&&v.reference.position.end.offset&&v.reference.position.end.offset>g.reference.position.start.offset)return console.warn("Overlapping changes",{change:g,previousChange:v}),null}let c="",m=0,f=!1,p=new Map;for(let w of s)if(cn(w))c+=e.slice(m,w.reference.position.start.offset),c+=w.newContent,m=w.reference.position.end.offset;else if(zo(w))if(u)console.error(`Cannot apply frontmatter change in ${n}, because frontmatter parsing failed`,{change:w});else{let g=p.get(w.reference.key);g||(g=[],p.set(w.reference.key,g)),g.push(w),f=!0}else Wo(w)&&(u?console.error(`Cannot apply frontmatter change in ${n}, because frontmatter parsing failed`,{change:w}):(rl(a,w.reference.key,w.newContent),f=!0));return await _v(t,a,p,n),t.throwIfAborted(),c+=e.slice(m),f&&(c=gh(c,a)),c}async function Go(t,e,n,r={},i=!0){await Yo(t,e,async(s,a)=>an(t,e)?await Sv(s,a,be(t,e),n,i):await Ho(s,a,be(t,e),n,i),r)}function hi(t){return ru(t.reference)}function xv(t){return hi(t)&&t.reference.type==="file"}function Tv(t){return hi(t)&&t.reference.type==="text"}function cn(t){return on(t.reference)}function Wo(t){return ut(t.reference)}function zo(t){return ft(t.reference)}async function Sv(t,e,n,r,i=!0){let s=await Bn(r,t),a=Fv(e),u=new Map;for(let c of s){if(!hi(c))return console.warn("Only canvas changes are supported for canvas files",{change:c,path:n}),null;let m=a.nodes[c.reference.nodeIndex];if(!m)return console.warn("Node not found",{nodeIndex:c.reference.nodeIndex,path:n}),null;if(xv(c)){if(m.file!==c.oldContent)return console.warn("Content mismatch",{actualContent:m.file,expectedContent:c.oldContent,nodeIndex:c.reference.nodeIndex,path:n,type:"file"}),null;m.file=c.newContent}else if(Tv(c)){let f=u.get(c.reference.nodeIndex);f||(f=[],u.set(c.reference.nodeIndex,f)),f.push(c)}}for(let[c,m]of u.entries()){let f=a.nodes[c];if(!f)return console.warn("Node not found",{nodeIndex:c,path:n}),null;if(typeof f.text!="string")return console.warn("Node text is not a string",{nodeIndex:c,path:n}),null;let p=m.map(w=>_r(w.reference.originalReference,w.newContent));f.text=await Ho(t,f.text,`${n}.node${String(c)}.VIRTUAL_FILE.md`,p,i)}return JSON.stringify(a,null,"	")}async function _v(t,e,n,r){for(let[i,s]of n.entries()){let a=bn(e,i);if(typeof a!="string")return;let u=s.map(m=>({newContent:m.newContent,oldContent:m.oldContent,reference:{link:"",original:"",position:{end:{col:m.reference.endOffset,line:0,offset:m.reference.endOffset},start:{col:m.reference.startOffset,line:0,offset:m.reference.startOffset}}}})),c=await Ho(t,a,`${r}.frontmatter.${i}.VIRTUAL_FILE.md`,u);if(c===null)return;rl(e,i,c)}}function Fv(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}function Pv(t,e,n,r,i){let s=fr("FileChange:validateChanges"),a=i?console.warn.bind(console):s;for(let u of t)if(cn(u)){let c=u.reference.position.start.offset,m=u.reference.position.end.offset,f=e.slice(c,m);if(f!==u.oldContent)return a("Content mismatch",{actualContent:f,endOffset:m,expectedContent:u.oldContent,path:r,startOffset:c}),!1}else if(zo(u)){let c=bn(n,u.reference.key);if(typeof c!="string")return a("Property value is not a string",{frontmatterKey:u.reference.key,path:r,propertyValue:c}),!1;let m=c.slice(u.reference.startOffset,u.reference.endOffset);if(m!==u.oldContent)return a("Content mismatch",{actualContent:m,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r,startOffset:u.reference.startOffset}),!1}else if(Wo(u)){let c=bn(n,u.reference.key);if(c!==u.oldContent)return a("Content mismatch",{actualContent:c,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r}),!1}return!0}var vh=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Eh(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}function Cn(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),yh(e),e=e.filter((n,r)=>{if(r===0)return!0;let i=e[r-1];if(!i)return!0;if(on(n)&&on(i))return n.position.start.offset!==i.position.start.offset;if(ut(n)&&ut(i)){let s=ft(n)?n.startOffset:0,a=ft(i)?i.startOffset:0;return n.key!==i.key||ft(n)!==ft(i)||s!==a}return!0}),e}function lu(t,e){let n=Oe(t,e,!0);return mi(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}async function dn(t,e,n={}){let r=t.metadataCache.getBacklinksForFile.safe;if(r)return r(e);let i=new Cd;return await uo(async s=>{s.throwIfAborted();let a=Oe(t,e);await Eh(t),s.throwIfAborted(),i=lu(t,a);for(let u of i.keys()){s.throwIfAborted();let c=ot(t,u);if(!c)return!1;await Ch(t,c),s.throwIfAborted();let m=await au(t,c);if(s.throwIfAborted(),!m)return!1;let f=Bo(m),p=i.get(u);if(!p)return!1;for(let w of p){let g;if(on(w))g=m.slice(w.position.start.offset,w.position.end.offset);else if(ut(w)){let v=bn(f,w.key);if(typeof v!="string")return!1;let F=0,x=v.length;ft(w)&&(F=w.startOffset,x=w.endOffset),g=v.slice(F,x)}else return!0;if(g!==w.original)return!1}}return!0},n),i}async function Fr(t,e){let n=ot(t,e);if(!n||n.deleted)return null;await Ch(t,n);let r=t.metadataCache.fileCache[n.path];return r&&r.mtime===n.stat.mtime&&r.size===n.stat.size&&t.metadataCache.metadataCache[r.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await Eh(t)),t.metadataCache.getFileCache(n)}function Iv(t,e){let n=new Set;for(let r of e){if(!r.deleted)continue;let i=r;for(;i.deleted;)n.add(i.path),t.vault.fileMap[i.path]=i,i=i.parent??ti(t,yt(i.path),!0);bt(r)&&t.metadataCache.uniqueFileLookup.add(r.name.toLowerCase(),r)}return()=>{for(let r of n)delete t.vault.fileMap[r];for(let r of e)r.deleted&&bt(r)&&t.metadataCache.uniqueFileLookup.remove(r.name.toLowerCase(),r)}}function mi(t,e,n){let r=Iv(t,e);try{return n()}finally{r()}}async function Ch(t,e){if(!ln(t,e))return;let n=be(t,e);for(let r of t.workspace.getLeavesOfType(xd.Markdown))r.view instanceof vh.MarkdownView&&r.view.file?.path===n&&r.view.dirty&&await r.view.save()}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function xh(t){return t.vault.getConfig("newLinkFormat")==="relative"}function Th(t){return!t.vault.getConfig("useMarkdownLinks")}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ov="\\|",Rv=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,Dv=/[\\[\]<>_*~=`$]/g,Fh=/(?<!\\)\|/g,Ph="|";function Mv(t){let e=Pr(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?wi({app:t.app,link:t.link,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldForceMarkdownLinks:t.shouldForceMarkdownLinks,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}async function uu(t,e,n,r={}){await Go(t,e,async()=>{let i=await Fr(t,e);return await Wv(i,an(t,e),n)},r)}function pi(t){return ge(t,Rv,({substring:e})=>encodeURIComponent(e))}function Pr(t,e,n,r=!1){let{linkPath:i}=Ih(e.link),s=be(t,n),a=t.metadataCache.getFirstLinkpathDest(i,s);if(a)return a;if(!r)return null;if(i.startsWith("/"))return Oe(t,i,!0);let u=Ce(Ee(s),`./${i}`);return u.startsWith("../")?null:Oe(t,u,!0)}function cu(t){let{app:e}=t,r=(e.fileManager.generateMarkdownLink.defaultOptionsFn??(()=>({})))();t={...{isEmptyEmbedAliasAllowed:!0},...r,...t};let s=Oe(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return mi(e,[s],()=>Vv(t))}function gi(t){let e=Lv(t);return e[0]?.raw===t?e[0]:null}function Lv(t){let e=new Set,n="![",r=" [",i=ge(t,n,f=>(e.add(f.offset),r)),a=ch().use(vr).use(ph,{aliasDivider:Ph}).parse(i),u=[],c=[];ci(a,f=>{let p;switch(f.type){case"link":p=Hv(f,t);break;case"wikiLink":p=Gv(f,t);break;default:return}e.has(p.startOffset-1)&&(p.isEmbed=!0,p.startOffset--,p.raw=`!${p.raw}`),u.push(p)}),u.sort((f,p)=>f.startOffset-p.startOffset);let m=0;for(let f of u)Sh(t,m,f.startOffset-1,c),m=f.endOffset+1;return Sh(t,m,t.length-1,c),u.push(...c),u.sort((f,p)=>f.startOffset-p.startOffset),u}function Nv(t){let{app:e,displayText:n,isWikilink:r,newSourcePathOrFile:i,oldSourcePathOrFile:s,oldTargetPath:a,targetPathOrFile:u}=t;if(r===!1)return!1;if(!n)return!0;let c=Oe(e,u,!0),m=be(e,i),f=be(e,s??i),p=Ee(m),w=Ee(f),g=new Set;for(let F of[c.path,a]){if(!F)continue;let x=be(e,F);g.add(x),g.add(Ae(x)),g.add(wr(p,x)),g.add(wr(w,x))}for(let F of[f,m])g.add(e.metadataCache.fileToLinktext(c,F,!1));let v=ge((0,qo.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let F of g){if(F.toLowerCase()===v)return!0;let x=Ee(F),E=Ae(F,Te(F));if(Ce(x,E).toLowerCase()===v)return!0}return!1}function Ih(t){let e=(0,qo.parseLinktext)(ei(t));return{linkPath:e.path,subpath:e.subpath}}function du(t){return gi(t)?.hasAngleBrackets??!1}function Oh(t){return gi(t)?.isEmbed??!1}function $v(t){return gi(t)?.url.startsWith("./")??!1}function jo(t){return gi(t)?.isWikilink??!1}function wi(t){let{app:e,link:n,newSourcePathOrFile:r,newTargetPathOrFile:i,oldSourcePathOrFile:s,oldTargetPathOrFile:a,shouldForceMarkdownLinks:u,shouldUpdateFileNameAlias:c}=t;if(!i)return n.original;let m=Oe(e,i,!0),f=be(e,a??i),p=jo(n.original)&&u!==!0,{subpath:w}=Ih(n.link),g=!c;if(an(e,r)&&wh(n))return m.path+w;let v;if(p){let x=gi(n.original);x?.alias&&(v=x.alias,g=!0)}return v??=Nv({app:e,displayText:n.displayText,isWikilink:p,newSourcePathOrFile:r,oldSourcePathOrFile:s,oldTargetPath:f,targetPathOrFile:m})?void 0:n.displayText,g||(v===Ae(f,Te(f))?v=m.basename:v===Ae(f)&&(v=m.name)),cu({alias:v,app:e,isWikilink:u?!1:void 0,originalLink:n.original,sourcePathOrFile:r,subpath:w,targetPathOrFile:m})}async function Rh(t){let{app:e,newSourcePathOrFile:n,oldSourcePathOrFile:r,shouldForceMarkdownLinks:i,shouldUpdateEmbedOnlyLinks:s,shouldUpdateFileNameAlias:a}=t;an(e,n)&&!e.internalPlugins.getEnabledPluginById(Ot.Canvas)||await uu(e,n,u=>{let c=Oh(u.original);if(!(s!==void 0&&s!==c))return Mv({app:e,link:u,newSourcePathOrFile:n,oldSourcePathOrFile:r,shouldForceMarkdownLinks:i,shouldUpdateFileNameAlias:a})},t)}function Sh(t,e,n,r){if(e>n)return;let i=t.slice(e,n+1);ge(i,/(?<Url>\S+)/g,(s,a)=>{nu(a)&&r.push({encodedUrl:pi(a),endOffset:e+s.offset+a.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:a,startOffset:e+s.offset,url:a})})}function Bv(t,e,n,r,i){n==="/"&&(n="");let s;return e.path===n&&r?s=r:i.shouldForceRelativePath?s=wr(Ee(n),i.isWikilink?Ld(t,e):e.path)+r:s=t.metadataCache.fileToLinktext(e,n,i.isWikilink)+r,i.shouldForceRelativePath&&i.shouldUseLeadingDot&&!s.startsWith(".")&&!s.startsWith("#")&&(s=`./${s}`),s}function Vv(t){let{app:e}=t,n=Oe(e,t.targetPathOrFile,t.isNonExistingFileAllowed),r=be(e,t.sourcePathOrFile),i=t.subpath??"",s=zv(t,n),a=Bv(e,n,r,i,s);return s.isWikilink?Uv(a,t.alias,s.isEmbed):Yv(a,n,t,s)}function Yv(t,e,n,r){let{app:i}=n,s=r.isEmbed?"!":"",a=r.shouldUseAngleBrackets?`<${t}>`:pi(t),u=n.alias??"";!u&&(!r.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(u=!n.shouldIncludeAttachmentExtensionToEmbedAlias||ln(i,e)?e.basename:e.name);let c=ge(u,Dv,"\\$&");return`${s}[${c}](${a})`}function Uv(t,e,n){let r=n?"!":"",i=e??"";if(i&&i.toLowerCase()===t.toLowerCase())return`${r}[[${i}]]`;let s=i?`|${i}`:"";return`${r}[[${t}${s}]]`}async function Wv(t,e,n,r){if(r??=Fe(),r.throwIfAborted(),!t)return[];let i=[],s=(t.sections??[]).filter(a=>a.type==="table").map(a=>({end:a.position.end.offset,start:a.position.start.offset}));for(let a of Cn(t)){r.throwIfAborted();let u=await n(a,r);if(r.throwIfAborted(),u===void 0)continue;let c=_r(a,u);e?hi(c)?i.push(c):console.warn("Unsupported file change",c):(qv(c,s)&&(c.newContent=c.newContent.replaceAll(Fh,Ov)),i.push(c))}return i}function zv(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?Oh(t.originalLink):void 0)??!ln(n,e),isWikilink:t.isWikilink??(t.originalLink?jo(t.originalLink):void 0)??Th(n),shouldForceRelativePath:t.shouldForceRelativePath??xh(n),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?du(t.originalLink):void 0)??!1,shouldUseLeadingDot:t.shouldUseLeadingDot??(t.originalLink?$v(t.originalLink):void 0)??!1}}function Dh(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}function Hv(t,e){let s=Dh(t,e),a=t.children[0],u=e.slice((a?.position?.end.offset??1)+2,(t.position?.end.offset??0)-1),c=s.startsWith("<")||u.startsWith("<"),m=nu(t.url),f=t.url;if(!m&&!c)try{f=decodeURIComponent(f)}catch(p){console.error(`Failed to decode URL ${f}`,p)}return{alias:a?.value,encodedUrl:m?pi(f):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:c,isEmbed:!1,isExternal:m,isWikilink:!1,raw:s,startOffset:t.position?.start.offset??0,title:t.title??void 0,url:f}}function Gv(t,e){return{alias:e.includes(Ph)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:Dh(t,e),startOffset:t.position?.start.offset??0,url:t.value}}function qv(t,e){return!cn(t)||!Fh.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}function Mh(t,e){let n=Object.keys(e).map(r=>jv(t,r,e[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}function jv(t,e,n){let r=t[e],i=t.hasOwnProperty(e),s=i?r:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},a=n(s);return r&&Object.setPrototypeOf(a,r),Object.setPrototypeOf(u,a),t[e]=u,c;function u(...m){return a===s&&t[e]===u&&c(),a.apply(this,m)}function c(){t[e]===u&&(i?t[e]=s:delete t[e]),a!==s&&(a=s,Object.setPrototypeOf(u,r||Function))}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Kv(t,e){return Mh(t,e)}function xn(t,e,n){let r=Kv(e,n),i=!1;function s(){if(!i)try{r()}finally{i=!0}}return t.register(s),r}var Qo=require("obsidian");var Lh=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ko=class extends Lh.Component{registerAsyncEvent(e){Xo(this,e)}};function Xo(t,e){t.register(()=>{e.asyncEvents.offref(e)})}var Vh=Me($h(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var $=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))($||{});(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Bh=`${io}-styles`;function ue(t,...e){t.addClass($.LibraryName,oo(),...e)}function Yh(t,e){ld(e),dd(e);let n=nn(t,"lastLibraryVersion","0.0.0");if((0,Vh.compareVersions)(Ka,n.value)<=0)return;n.value=Ka;let r=Xv();r.DEBUG=cd(),document.head.querySelector(`#${Bh}`)?.remove(),document.head.createEl("style",{attr:{id:Bh},text:sd})}function Xv(){return window}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Jo=class extends Qo.Plugin{events=new Lt;get abortSignal(){return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){fr(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),md(this.afterLoad.bind(this))}onunload(){super.onunload(),pe(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerForLifecycleEvent(e,n){pe(async()=>{await this.waitForLifecycleEvent(e),await n()})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}async onLayoutReady(){await Mt()}async onloadImpl(){Yh(this.app,this.manifest.id),this.register(od(()=>{this.showNotice("An unhandled error occurred. Please check the console for more information.")})),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(Xo(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),Xo(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new Error(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,n){await Mt()}async onSaveSettings(e,n,r){await Mt()}async onunloadImpl(){await Mt()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new Qo.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this._abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(it(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};var jh=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Uh(t,e,n,r){n.throwIfAborted();let i=gt("Logger:invokeAsyncAndLog"),s=performance.now();r??=Ke(1),rn(i,r,`${t}:start`,{fn:e,timestampStart:s});try{await e(n);let a=performance.now(),u=a-s;n.aborted&&(rn(i,r,`${t}:aborted`,{abortReason:n.reason,duration:u,fn:e,timestampEnd:a,timestampStart:s}),n.throwIfAborted()),rn(i,r,`${t}:end`,{duration:u,fn:e,timestampEnd:a,timestampStart:s})}catch(a){let u=performance.now();throw rn(i,r,`${t}:error`,{duration:u-s,error:a,fn:e,timestampEnd:u,timestampStart:s}),a}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Tn(t,e,n,r,i){i??=Ke(1),pe(()=>Zv(t,e,n,r,i),i)}async function Zv(t,e,n,r,i){n??=Fe(),n.throwIfAborted(),r??=6e4,i??=Ke(1);let a=Wh(t).value;a.items.push({abortSignal:n,fn:e,stackTrace:i,timeoutInMilliseconds:r}),a.promise=a.promise.then(()=>zh(t)),await a.promise}function Wh(t){return nn(t,"queue",{items:[],promise:Promise.resolve()})}async function zh(t){let e=Wh(t).value,n=e.items[0];n&&(await Qa(()=>el(n.timeoutInMilliseconds,r=>Uh(zh.name,n.fn,Ln([r,n.abortSignal]),n.stackTrace),{queuedFn:n.fn}),n.stackTrace),e.items.shift())}var Hh=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function es(t,e){let n=Vt(t,e);for(;n;){if(!await ou(t,n))return;let r=n.parent;await Ir(t,n.path),n=r}}async function Ir(t,e,n,r,i){let s=Vn(t,e);if(!s)return!1;let a=bt(s)||(i??!0);if(bt(s)){let u=await dn(t,s);n&&u.clear(n),u.count()!==0&&(r&&new Hh.Notice(`Attachment ${s.path} is still used by other notes. It will not be deleted.`),a=!1)}else if(sl(s)){let u=await su(t,s);for(let c of[...u.files,...u.folders])a&&=await Ir(t,c,n,r);a&&=await ou(t,s)}if(a)try{await t.fileManager.trashFile(s)}catch(u){await t.vault.exists(s.path)&&($n(new Error(`Failed to delete ${s.path}`,{cause:u})),a=!1)}return a}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var fu=new Map,yi=new Set,ts=new Map,st=(t=>(t.Delete="Delete",t.DeleteWithEmptyParents="DeleteWithEmptyParents",t.Keep="Keep",t))(st||{});function Kh(t,e){let n=ns(t.app),r=t.manifest.id;n.set(r,e),qh(t.app),t.register(()=>{n.delete(r),qh(t.app)});let i=t.app,s=t.abortSignal??Fe();t.registerEvent(i.vault.on("delete",a=>{nE(t,a,s)})),t.registerEvent(i.vault.on("rename",(a,u)=>{sE(t,a,u,s)})),t.registerEvent(i.metadataCache.on("deleted",(a,u)=>{iE(t,a,u)})),xn(t,i.fileManager,{runAsyncLinkUpdate:a=>u=>lE(i,a,u)})}async function Xh(t,e,n){let r=Sn(t);if(r.emptyAttachmentFolderBehavior!=="Keep")for(let i of e)switch(r.emptyAttachmentFolderBehavior){case"Delete":await Ir(t,i,n,void 0,!0);break;case"DeleteWithEmptyParents":await es(t,i);break;default:break}}async function Jv(t,e,n,r,i){let s=ts.get(e);if(s){ts.delete(e);for(let a of s)await hu(t,a.oldPath,n,r,i,a.combinedBacklinksMap)}}async function Qv(t,e,n,r,i){if(r.set(e,n),!bi(t,e))return;let s=Sn(t),a=await yr(t,e),u=s.shouldRenameAttachmentFolder?await yr(t,n):a,c=a==="/",m=Vt(t,a);if(!m||a===u&&!s.shouldRenameAttachmentFiles)return;let f=[];if(await ll(t,e))jh.Vault.recurseChildren(m,g=>{bt(g)&&f.push(g)});else for(let g of i){let v=Pr(t,g,e);v&&(c||v.path.startsWith(a))&&(await dn(t,v)).keys().length===1&&f.push(v)}let p=Ae(e,Te(e)),w=Ae(n,Te(n));for(let g of f){if(bi(t,g.path))continue;let v=c?g.path:wr(a,g.path),F=Ce(u,Ee(v)),x=s.shouldRenameAttachmentFiles?ge(g.basename,p,w):g.basename,E=Ce(F,Bt(x,g.extension));if(g.path!==E){if(s.shouldDeleteConflictingAttachments){let _=ot(t,E);_&&(console.warn(`Removing conflicting attachment ${_.path}.`),await t.fileManager.trashFile(_))}else E=t.vault.getAvailablePath(Ce(F,x),g.extension);r.set(g.path,E)}}}function ns(t){return nn(t,"renameDeleteHandlersMap",new Map).value}function Sn(t){let e=ns(t),n=Array.from(e.values()).reverse(),r={};r.isNote=i=>ni(t,i),r.isPathIgnored=()=>!1;for(let i of n){let s=i();r.shouldDeleteConflictingAttachments||=s.shouldDeleteConflictingAttachments??!1,s.emptyAttachmentFolderBehavior&&(r.emptyAttachmentFolderBehavior??=s.emptyAttachmentFolderBehavior),r.shouldHandleDeletions||=s.shouldHandleDeletions??!1,r.shouldHandleRenames||=s.shouldHandleRenames??!1,r.shouldRenameAttachmentFiles||=s.shouldRenameAttachmentFiles??!1,r.shouldRenameAttachmentFolder||=s.shouldRenameAttachmentFolder??!1,r.shouldUpdateFileNameAliases||=s.shouldUpdateFileNameAliases??!1;let a=r.isPathIgnored;r.isPathIgnored=c=>a(c)||(s.isPathIgnored?.(c)??!1);let u=r.isNote;r.isNote=c=>u(c)&&(s.isNote?.(c)??!0)}return r.emptyAttachmentFolderBehavior??="Keep",r}async function eE(t,e,n,r,i){if(!t.vault.adapter.insensitive||e.toLowerCase()!==n.toLowerCase())return!1;let s=Ce(Ee(n),`__temp__${Ae(n)}`);return await Jh(t,n,s),await hu(t,e,s,r,i),await t.vault.rename(Oe(t,s),n),!0}async function tE(t,e,n){if(n.throwIfAborted(),gt("RenameDeleteHandler:handleDelete")(`Handle Delete ${e}`),!bi(t,e))return;let r=Sn(t);if(!r.shouldHandleDeletions)return;if(r.isPathIgnored?.(e)){console.warn(`Skipping delete handler of ${e} as the path is ignored.`);return}let i=fu.get(e);fu.delete(e);let s=new Set;if(i){let c=Cn(i);for(let m of c){let f=Pr(t,m,e);f&&(bi(t,f.path)||(s.add(f.parent?.path??""),await Ir(t,f,e,!1,r.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted()))}}await Xh(t,Array.from(s),e),n.throwIfAborted();let a=await yr(t,e),u=Vt(t,a);u&&await ll(t,e)&&(n.throwIfAborted(),await Ir(t,u,e,!1,r.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted())}function nE(t,e,n){let r=t.app;if(!mu(t))return;let i=e.path;Tn(r,s=>tE(r,i,s),n)}function rE(t,e,n){let r=Sn(t);if(r.isPathIgnored?.(e.path)){console.warn(`Skipping metadata delete handler of ${e.path} as the path is ignored.`);return}r.shouldHandleDeletions&&ln(t,e)&&n&&fu.set(e.path,n)}function iE(t,e,n){mu(t)&&rE(t.app,e,n)}function oE(t,e,n,r){let i=Zh(e,n);if(gt("RenameDeleteHandler:handleRename")(`Handle Rename ${i}`),yi.has(i)){yi.delete(i);return}let s=Sn(t);if(!s.shouldHandleRenames)return;if(s.isPathIgnored?.(e)){console.warn(`Skipping rename handler of old path ${e} as the path is ignored.`);return}if(s.isPathIgnored?.(n)){console.warn(`Skipping rename handler of new path ${n} as the path is ignored.`);return}let a=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),u=a?Cn(a):[],c=lu(t,e).data;Tn(t,m=>hu(t,e,n,c,u,void 0,m),r)}async function hu(t,e,n,r,i,s,a){if(a??=Fe(),a.throwIfAborted(),await Jv(t,e,n,r,i),a.throwIfAborted(),await aE(t,e,n,r,i),a.throwIfAborted(),!await eE(t,e,n,r,i)){a.throwIfAborted();try{let u=new Map;await Qv(t,e,n,u,i),a.throwIfAborted();let c=new Map;Gh(r,u,c,e);for(let p of u.keys()){if(p===e)continue;let w=(await dn(t,p)).data;Gh(w,u,c,p)}let m=new Set;for(let[p,w]of u.entries()){if(p===e)continue;let g=await Jh(t,p,w);u.set(p,g),m.add(Ee(p))}await Xh(t,Array.from(m),e),a.throwIfAborted();let f=Sn(t);for(let[p,w]of Array.from(c.entries()).concat(Array.from(s?.entries()??[])))await uu(t,p,g=>{let v=w.get(mr(g));if(!v)return;let F=u.get(v);if(F)return wi({app:t,link:g,newSourcePathOrFile:p,newTargetPathOrFile:F,oldTargetPathOrFile:v,shouldUpdateFileNameAlias:f.shouldUpdateFileNameAliases})},{shouldFailOnMissingFile:!1}),a.throwIfAborted();if(bi(t,n)&&(await Rh({app:t,newSourcePathOrFile:n,oldSourcePathOrFile:e,shouldFailOnMissingFile:!1,shouldUpdateFileNameAlias:f.shouldUpdateFileNameAliases}),a.throwIfAborted()),!ot(t,n)){let p=ts.get(n);p||(p=[],ts.set(n,p)),p.push({combinedBacklinksMap:c,oldPath:e})}}finally{let u=Array.from(yi);Tn(t,()=>{for(let c of u)yi.delete(c)},a)}}}function sE(t,e,n,r){if(!mu(t)||!bt(e))return;let i=e.path;oE(t.app,n,i,r)}function Gh(t,e,n,r){for(let[i,s]of t.entries()){let a=e.get(i)??i,u=n.get(a)??new Map;n.set(a,u);for(let c of s)u.set(mr(c),r)}}function bi(t,e){return Sn(t).isNote?.(e)??!1}function qh(t){let e=ns(t);gt("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}function Zh(t,e){return`${t} -> ${e}`}async function aE(t,e,n,r,i){let s=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),a=s?Cn(s):[],u=Oe(t,e,!0),c=new Map;await mi(t,[u],async()=>{c=(await dn(t,u)).data});for(let m of a)i.includes(m)||i.push(m);for(let[m,f]of c.entries()){let p=r.get(m);p||(p=[],r.set(m,p));for(let w of f)p.includes(w)||p.push(w)}}async function Jh(t,e,n){if(n=iu(t,e,n),e===n)return n;let r=Zh(e,n);return yi.add(r),n=await Uo(t,e,n),n}async function lE(t,e,n){await e.call(t.fileManager,r);async function r(i){let s=!1,a=t.vault.on("rename",()=>{s=!0});try{await n(i)}finally{t.vault.offref(a)}let u=Sn(t);s&&u.shouldHandleRenames&&Xr(i,c=>u.isPathIgnored?.(c.sourceFile.path)?(console.warn(`Roll back to default link update of source file ${c.sourceFile.path} as the path is ignored.`),!0):u.isPathIgnored?.(c.resolvedFile.path)?(console.warn(`Roll back to default link update of resolved file ${c.resolvedFile.path} as the path is ignored.`),!0):!t.internalPlugins.getEnabledPluginById(Ot.Canvas)||t.plugins.getPlugin("backlink-cache")?!1:c.sourceFile.extension==="canvas"||c.resolvedFile.extension==="canvas")}}function mu(t){let e=t.app,n=t.manifest.id,r=ns(e);return Array.from(r.keys())[0]===n}var _n=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function X(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}function Qh(t){return`${String(t)}px`}var em=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function tm(t){let n={...{abortSignal:Fe(),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeMinTimeoutInMilliseconds:2e3,processItem:Pt,progressBarTitle:"",shouldContinueOnError:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},r=Ke(1),i=n.items,s=0,a=null;n.shouldShowProgressBar&&(a=new em.Notice("",0));let u=sleep(n.noticeMinTimeoutInMilliseconds),c=createEl("progress");if(c.max=i.length,n.shouldShowProgressBar){let f=createFragment();f.createDiv({text:n.progressBarTitle}),f.appendChild(c),a?.setMessage(f)}let m=performance.now();for(let f of i){if(n.abortSignal.aborted){a?.hide();return}s++;let p=`# ${String(s)} / ${String(i.length)}`,w=n.buildNoticeMessage(f,p);n.shouldShowProgressBar||a?.setMessage(w),gt("Loop")(w);try{performance.now()-m>n.uiUpdateThresholdInMilliseconds&&(await pd(),m=performance.now()),await n.processItem(f)}catch(g){if(console.error("Error processing item",f),!n.shouldContinueOnError)throw a?.hide(),new It("loop failed",r,g);ro(new It(no,r,g))}c.value++}await u,a?.hide()}var pu=require("obsidian");var nm=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Or=class extends nm.Modal{constructor(e,n,r){super(e.app),this.resolve=n,ue(this.containerEl,r),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function rs(t){return await new Promise(e=>{t(e).open()})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var gu=class extends Or{isConfirmed=!1;options;constructor(e,n){super(e,n,$.ConfirmModal);let r={app:e.app,cancelButtonText:"Cancel",cssClass:"",message:e.message,okButtonText:"OK",title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve(this.isConfirmed)}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new pu.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(()=>{this.isConfirmed=!0,this.close()}),e.setClass($.OkButton);let n=new pu.ButtonComponent(this.contentEl);n.setButtonText(this.options.cancelButtonText),n.onClick(this.close.bind(this)),n.setClass($.CancelButton)}};async function is(t){return await rs(e=>new gu(t,e))}var ls=require("obsidian");var Au=Me(en(),1),dE=Me(require("obsidian"),1);var rm=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function im(t){return t.validationMessage!==void 0}var uE=/[*\\/<>:|?"]/g,cE=/[\0/]/g;function os(t){return t??=rm.Platform.isWin,t?uE:cE}var lm=Me(om(),1);var fn=require("obsidian");var bu=class extends fn.Modal{constructor(n){super(n.ctx.app);this.options=n;ue(this.containerEl,"preview-modal")}embedComponent;tempFile;onClose(){super.onClose(),this.embedComponent.unload(),pe(async()=>{await this.app.vault.delete(this.tempFile)})}onOpen(){super.onOpen(),pe(this.onOpenAsync.bind(this))}async onOpenAsync(){let n=this.app.embedRegistry.embedByExtension[this.options.ctx.originalAttachmentFileExtension];if(!n||!this.options.ctx.attachmentFileContent)return;let r=`${this.options.ctx.originalAttachmentFileName}.${this.options.ctx.originalAttachmentFileExtension}`;this.titleEl.setText(`Preview attachment file '${r}'`);let i=`__temp${String(Date.now())}__${r}`;this.tempFile=await this.app.vault.createBinary(i,this.options.ctx.attachmentFileContent);let s=this.contentEl.createDiv("preview-container");this.embedComponent=n({app:this.app,containerEl:s},this.tempFile),this.embedComponent.load(),this.embedComponent.loadFile()}},ku=class extends fn.Modal{constructor(n,r){super(n.ctx.app);this.options=n;this.resolve=r;ue(this.containerEl,$.PromptModal),this.value=n.ctx.originalAttachmentFileName}isOkClicked=!1;value;onClose(){super.onClose(),this.resolve(this.isOkClicked?this.value:null)}onOpen(){let n=createFragment(f=>{f.appendText("Provide a value for the prompt token:"),f.createEl("br"),f.appendText(this.options.ctx.fullTemplate.slice(0,this.options.ctx.tokenStartOffset)),f.createSpan({cls:"highlighted-token",text:this.options.ctx.tokenWithFormat}),f.appendText(this.options.ctx.fullTemplate.slice(this.options.ctx.tokenEndOffset))});super.onOpen(),this.titleEl.setText(n);let r=new fn.TextComponent(this.contentEl),i=r.inputEl,s=async()=>{let f=await this.options.valueValidator(i.value);i.setCustomValidity(f??""),i.reportValidity()};r.setValue(this.value),r.setPlaceholder("Provide a value for the prompt token"),i.addClass($.TextBox),r.onChange(f=>{this.value=f}),i.addEventListener("keydown",f=>{f.key==="Enter"?this.handleOk(f,r):f.key==="Escape"&&this.close()}),i.addEventListener("input",it(s)),i.addEventListener("focus",it(s)),pe(s);let a=new fn.ButtonComponent(this.contentEl);a.setButtonText("OK"),a.setCta(),a.onClick(f=>{this.handleOk(f,r)}),a.setClass($.OkButton);let u=new fn.ButtonComponent(this.contentEl);u.setButtonText("Cancel"),u.onClick(this.close.bind(this)),u.setClass($.CancelButton);let c=new fn.ButtonComponent(this.contentEl);c.setButtonText("Preview attachment file"),c.onClick(this.preview.bind(this));let m=this.app.embedRegistry.embedByExtension[this.options.ctx.originalAttachmentFileExtension];(!this.options.ctx.attachmentFileContent||!m)&&c.setDisabled(!0)}handleOk(n,r){n.preventDefault(),r.inputEl.checkValidity()&&(this.isOkClicked=!0,this.close())}preview(){new bu(this.options).open()}};function sm(t){return new Promise(e=>{new ku(t,e).open()})}var fE=Ad(lm.default),um="__VALIDATION__",hE=["1","2","3","4","5","6","any"],mE=/^\.{3,}$/,pE=/\.+$/,ki=/\${(?<Token>.+?)(?::(?<Format>.*?))?}/g;function vu(t){let e=new Map;try{return new Function("registerCustomToken",t)(n),e}catch(r){return $n(new Error("Error registering custom tokens",{cause:r})),null}function n(r,i){e.set(r,i)}}function gE(t){return(0,Au.default)().format(t)}function am(t,e,n,r){let i=ot(t,e);return i?(0,Au.default)(r(i)).format(n):""}function wE(t,e){let{base:i,parameter:s}=as(e);switch(i){case"":case"B":return t.toFixed(s??0);case"KB":return(t/1024).toFixed(s??0);case"MB":return(t/1048576).toFixed(s??0);default:throw new Error(`Invalid file size format: ${e}`)}}function yE(t,e){let n=t.split("/"),r=n.length-1,i=e.indexOf(",");i===-1&&(i=e.length);let a=e.slice(0,i),u=e.slice(i+1),c=as(a);switch(c.base){case"indexFromEnd":r=n.length-1-(c.parameter??0);break;case"indexFromStart":r=c.parameter??0;break;default:if(u)throw new Error(`Invalid format: ${a}`);return jn(n[r]??"",a)}let m=n[r]??"";return jn(m,u)}function jn(t,e){let{base:n,parameter:r}=as(e);switch(n){case"":return t;case"left":return t.slice(0,r??1);case"lower":return t.toLowerCase();case"right":return t.slice(-(r??1));case"slug":return CE(t);case"upper":return t.toUpperCase();default:throw new Error(`Invalid file name format: ${e}`)}}function bE(t){if(t==="uuid")return crypto.randomUUID();let{base:e,parameter:n}=as(t),r;switch(e){case"D":r="0123456789";break;case"DL":r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;case"L":r="ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;default:throw new Error(`Invalid random value format: ${t}`)}let i="";for(let s=0;s<(n??1);s++)i+=vE(r);return i}function kE(t,e,n){let r=ot(t,e);if(!r)return"";let i=t.metadataCache.getFileCache(r);if(!i?.frontmatter)return"";let s=bn(i.frontmatter,n)??"";return String(s)}async function AE(t){if(jn("",t.format),t.noteFilePath===um)return"";let e=await sm({ctx:t,valueValidator:n=>Kn({app:t.app,areSingleDotsAllowed:!0,fileName:n,isEmptyAllowed:!0,tokenValidationMode:"Error"})});if(e===null)throw new Error("Prompt cancelled");return jn(e,t.format)}var Je=class t{static evaluators=new Map;static{this.registerCustomTokens("")}noteFolderPath;app;attachmentFileContent;cursorLine;generatedAttachmentFileName;generatedAttachmentFilePath;headingsInfo=null;noteFileName;noteFilePath;noteFolderName;originalAttachmentFileExtension;originalAttachmentFileName;constructor(e){this.app=e.app,this.noteFilePath=e.noteFilePath,this.noteFileName=Ae(this.noteFilePath,Te(this.noteFilePath)),this.noteFolderName=Ae(Ee(this.noteFilePath)),this.noteFolderPath=Ee(this.noteFilePath);let n=e.originalAttachmentFileName??"",r=Te(n);if(this.originalAttachmentFileName=Ae(n,r),this.originalAttachmentFileExtension=r.slice(1),this.attachmentFileContent=e.attachmentFileContent,this.generatedAttachmentFileName=e.generatedAttachmentFileName??"",this.generatedAttachmentFilePath=e.generatedAttachmentFilePath??"",this.cursorLine=null,this.app.workspace.activeEditor?.file?.path===this.noteFilePath){let i=this.app.workspace.activeEditor.editor?.getCursor();i&&(this.cursorLine=i.line)}}static isRegisteredToken(e){return t.evaluators.has(e.toLowerCase())}static registerCustomTokens(e){this.evaluators.clear(),this.registerToken("date",r=>gE(r.format)),this.registerToken("noteFileCreationDate",r=>am(r.app,r.noteFilePath,r.format,i=>i.stat.ctime)),this.registerToken("noteFileModificationDate",r=>am(r.app,r.noteFilePath,r.format,i=>i.stat.mtime)),this.registerToken("noteFileName",r=>jn(r.noteFileName,r.format)),this.registerToken("noteFilePath",r=>r.noteFilePath),this.registerToken("noteFolderName",r=>yE(r.noteFolderPath,r.format)),this.registerToken("noteFolderPath",r=>r.noteFolderPath),this.registerToken("frontmatter",r=>kE(r.app,r.noteFilePath,r.format)),this.registerToken("originalAttachmentFileExtension",r=>r.originalAttachmentFileExtension),this.registerToken("originalAttachmentFileName",r=>jn(r.originalAttachmentFileName,r.format)),this.registerToken("prompt",r=>AE(r)),this.registerToken("random",r=>bE(r.format)),this.registerToken("attachmentFileSize",r=>wE(r.attachmentFileContent?.byteLength??0,r.format)),this.registerToken("generatedAttachmentFileName",r=>jn(r.generatedAttachmentFileName,r.format)),this.registerToken("generatedAttachmentFilePath",r=>r.generatedAttachmentFilePath),this.registerToken("heading",async(r,i)=>i.getHeading(r.format));let n=vu(e)??new Map;for(let[r,i]of n.entries())this.registerToken(r,i)}static registerToken(e,n){this.evaluators.set(e.toLowerCase(),n)}async fillTemplate(e){return await bd(e,ki,async(n,r,i,s)=>{n.throwIfAborted();let a=t.evaluators.get(i.toLowerCase());if(!a)throw new Error(`Unknown token '${i}'.`);let u={abortSignal:n,app:this.app,attachmentFileContent:this.attachmentFileContent,fillTemplate:this.fillTemplate.bind(this),format:s,fullTemplate:e,generatedAttachmentFileName:this.generatedAttachmentFileName,generatedAttachmentFilePath:this.generatedAttachmentFilePath,noteFileName:this.noteFileName,noteFilePath:this.noteFilePath,noteFolderName:this.noteFolderName,noteFolderPath:this.noteFolderPath,obsidian:dE,originalAttachmentFileExtension:this.originalAttachmentFileExtension,originalAttachmentFileName:this.originalAttachmentFileName,token:i,tokenEndOffset:r.offset+r.substring.length,tokenStartOffset:r.offset,tokenWithFormat:r.substring};try{let c=await a(u,this);if(n.throwIfAborted(),typeof c!="string")throw console.error("Token returned non-string value.",{ctx:u,result:c}),new Error("Token returned non-string value");return c}catch(c){throw new Error(`Error formatting token \${${i}}`,{cause:c})}})}async getHeading(e){if(e||="any",!hE.includes(e))throw new Error(`Invalid heading level: ${e}`);return(await this.initHeadings()).get(e)??""}async initHeadings(){if(this.headingsInfo)return this.headingsInfo;if(this.headingsInfo=new Map,!this.cursorLine)return this.headingsInfo;let e=await Fr(this.app,this.noteFilePath);if(!e?.headings)return this.headingsInfo;let n=new Map;for(let r of e.headings){if(r.position.start.line>this.cursorLine)continue;let i=String(r.level),s=n.get(i)??-1;r.position.start.line>s&&(this.headingsInfo.set(i,r.heading),n.set(i,r.position.start.line),r.position.start.line>(n.get("any")??-1)&&(n.set("any",r.position.start.line),this.headingsInfo.set("any",r.heading)))}return this.headingsInfo}};function Eu(t){return cm(t).some(e=>e.token==="prompt")}async function Kn(t){switch(t.tokenValidationMode){case"Error":{if(t.fileName.match(ki))return"Tokens are not allowed in file name";break}case"Skip":break;case"Validate":{let n=await dm(t.app,t.fileName);if(n)return n;break}default:throw new Error(`Invalid token validation mode: ${t.tokenValidationMode}`)}let e=EE(t.fileName);return e==="."||e===".."?t.areSingleDotsAllowed?"":"Single dots are not allowed in file name":e?os().test(e)?`File name "${t.fileName}" contains invalid symbols`:mE.test(e)?`File name "${t.fileName}" contains more than two dots`:pE.test(e)?`File name "${t.fileName}" contains trailing dots`:"":t.isEmptyAllowed?"":"File name is empty"}async function ss(t){if(t.areTokensAllowed){let r=await dm(t.app,t.path);if(r)return`Unknown token: ${r}`}else if(t.path.match(ki))return"Tokens are not allowed in path";let e=ho(t.path,"/");if(e=fo(e,"/"),e==="")return"";let n=e.split("/");for(let r of n){let i=await Kn({app:t.app,areSingleDotsAllowed:!0,fileName:r,isEmptyAllowed:!0,tokenValidationMode:"Skip"});if(i)return i}return""}function cm(t){let e=t.matchAll(ki);return Array.from(e).map(n=>({format:n.groups?.Format??"",token:n.groups?.Token??""}))}function vE(t){return t[Math.floor(Math.random()*t.length)]??""}function as(t){let e=/^(?<Base>\w*?)(?<Parameter>\d*)$/.exec(t);if(!e)throw new Error(`Invalid format: ${t}`);let n=e.groups?.Base??"",r=e.groups?.Parameter,i=r?parseInt(r,10):void 0;return{base:n,parameter:i}}function EE(t){return ge(t,ki,(e,n,r)=>`_${n}_${r}_`)}function CE(t){return fE(t,{lower:!0})}async function dm(t,e){let n=new Je({app:t,noteFilePath:um}),r=cm(e);for(let i of r){if(!Je.isRegisteredToken(i.token))return`Unknown token '${i.token}'.`;let s=i.format.split(",");for(let a of s)try{await n.fillTemplate(`\${${i.token}:${a}}`)}catch{return`Token '${i.token}' is used with unknown format '${a}'.`}}return null}async function Ai(t,e,n,r){return await SE(t,new Je({app:t.app,attachmentFileContent:r,noteFilePath:e,originalAttachmentFileName:n}))}async function vi(t,e){let n=await fm(t,t.settings.generatedAttachmentFileName,e,!0),r=await Kn({app:t.app,areSingleDotsAllowed:!1,fileName:n,isEmptyAllowed:!1,tokenValidationMode:"Error"});if(r){let i=`Generated attachment file name "${n}" is invalid.
${r}
Check your 'Generated attachment file name' setting.`;throw new ls.Notice(i),console.error(i,e),new Error(i)}return n}function TE(t,e){return t.settings.specialCharacters&&(e=e.replace(t.settings.specialCharactersRegExp,t.settings.specialCharactersReplacement)),e}async function SE(t,e){return await fm(t,t.settings.attachmentFolderPath,e,!1)}async function fm(t,e,n,r){let i=await n.fillTemplate(e),s=await ss({app:t.app,areTokensAllowed:!1,path:i});if(s)throw new Error(`Resolved path ${i} is invalid: ${s}`);return i=TE(t,i),r||((i.startsWith("./")||i.startsWith("../"))&&(i=Ce(n.noteFolderPath,i)),i=(0,ls.normalizePath)(i)),i}var Dr=require("obsidian");var ds=`registerCustomToken('foo', (ctx) => {
  return ctx.noteFileName + ctx.app.appId + ctx.format + ctx.obsidian.apiVersion;
});

registerCustomToken('bar', async (ctx) => {
  await sleep(100);
  return ctx.noteFileName + ctx.app.appId + ctx.format + ctx.obsidian.apiVersion;
});

registerCustomToken('baz', async (ctx) => {
  return ctx.noteFileName + await ctx.fillTemplate('corge \${grault} garply \${waldo:fred} plugh');
});
`,hm=/(?:)/,us=/$./,Rr=(r=>(r.None="None",r.OnlyPastedImages="Only pasted images",r.All="All",r))(Rr||{}),Xn=(s=>(s.Cancel="Cancel",s.Copy="Copy",s.Move="Move",s.Prompt="Prompt",s.Skip="Skip",s))(Xn||{}),cs=class{attachmentFolderPath="./assets/${noteFileName}";attachmentRenameMode="Only pasted images";collectAttachmentUsedByMultipleNotesMode="Skip";duplicateNameSeparator=" ";emptyAttachmentFolderBehavior=st.DeleteWithEmptyParents;generatedAttachmentFileName="file-${date:YYYYMMDDHHmmssSSS}";jpegQuality=.8;markdownUrlFormat="";shouldConvertPastedImagesToJpeg=!1;shouldDeleteOrphanAttachments=!1;shouldRenameAttachmentFiles=!1;shouldRenameAttachmentFolder=!0;shouldRenameCollectedAttachments=!1;specialCharacters="#^[]|*\\<>:?";specialCharactersReplacement="-";treatAsAttachmentExtensions=[".excalidraw.md"];warningVersion="";get customTokensStr(){return this._customTokensStr}set customTokensStr(e){this._customTokensStr=e}get excludePaths(){return this._excludePaths}set excludePaths(e){this._excludePaths=e.filter(Boolean),this._excludePathsRegExp=Cu(this._excludePaths,us)}get excludePathsFromAttachmentCollecting(){return this._excludePathsFromAttachmentCollecting}set excludePathsFromAttachmentCollecting(e){this._excludePathsFromAttachmentCollecting=e.filter(Boolean),this._excludePathsFromAttachmentCollectingRegExp=Cu(this._excludePathsFromAttachmentCollecting,us)}get includePaths(){return this._includePaths}set includePaths(e){this._includePaths=e.filter(Boolean),this._includePathsRegExp=Cu(this._includePaths,hm)}get specialCharactersRegExp(){return new RegExp(`[${co(this.specialCharacters)}]+`,"g")}_customTokensStr="";_excludePaths=[];_excludePathsFromAttachmentCollecting=[];_excludePathsFromAttachmentCollectingRegExp=us;_excludePathsRegExp=us;_includePaths=[];_includePathsRegExp=hm;isExcludedFromAttachmentCollecting(e){return this._excludePathsFromAttachmentCollectingRegExp.test(e)}isPathIgnored(e){return!this._includePathsRegExp.test(e)||this._excludePathsRegExp.test(e)}};function Cu(t,e){if(t.length===0)return e;let n=t.map(r=>r.startsWith("/")&&r.endsWith("/")?r.slice(1,-1):`^${co(r)}`).map(r=>`(${r})`).join("|");return new RegExp(n)}var xu=class extends Dr.Modal{constructor(n,r,i,s){super(n);this.attachmentPath=r;this.backlinks=i;this.resolve=s}isSelected=!1;onClose(){this.isSelected||this.select("Cancel",!1)}onOpen(){super.onOpen(),new Dr.Setting(this.contentEl).setName("Collecting attachment used by multiple notes").setHeading(),this.contentEl.appendChild(createFragment(r=>{r.appendText("Attachment "),X(r,this.attachmentPath),r.appendText(" is referenced by multiple notes."),r.createEl("ul",{},i=>{for(let s of this.backlinks)i.createEl("li",{},a=>[a.appendChild(createFragment(u=>{X(u,s)}))])})}));let n=!1;new Dr.Setting(this.contentEl).setName("Should use the same action for other problematic attachments").addToggle(r=>{r.setValue(!1),r.onChange(i=>{n=i})}),new Dr.Setting(this.contentEl).addButton(r=>{r.setButtonText("Skip"),r.onClick(()=>{this.select("Skip",n)})}).addButton(r=>{r.setButtonText("Move"),r.onClick(()=>{this.select("Move",n)})}).addButton(r=>{r.setButtonText("Copy"),r.onClick(()=>{this.select("Copy",n)})}).addButton(r=>{r.setButtonText("Cancel"),r.onClick(()=>{this.select("Cancel",n)})})}select(n,r){this.isSelected=!0,this.resolve({mode:n,shouldUseSameActionForOtherProblematicAttachments:r}),this.close()}};function mm(t,e,n){return new Promise(r=>{new xu(t,e,n,r).open()})}async function pm(t,e,n,r){r.throwIfAborted();let i=t.app;if(n.isAborted)return;let s=new _n.Notice(`Collecting attachments for ${e.path}`),a=new Map,u=an(i,e);await Go(i,e,async c=>{if(c.throwIfAborted(),n.isAborted)return[];let m=await Fr(i,e);if(c.throwIfAborted(),!m)return[];let f=u?await _E(i,e):Cn(m);c.throwIfAborted();let p=[];for(let w of f){if(n.isAborted)return p;let g=await FE(t,w,e.path,e.path);if(c.throwIfAborted(),!g)continue;if(t.settings.isExcludedFromAttachmentCollecting(g.oldAttachmentPath)){console.warn(`Skipping collecting attachment ${g.oldAttachmentPath} as it is excluded from attachment collecting.`);continue}let v=await dn(i,g.oldAttachmentPath);if(c.throwIfAborted(),v.keys().length>1){let x=v.keys().sort((P,Y)=>P.localeCompare(Y)),E=x.map(P=>`- ${P}`).join(`
`);async function _(P){if(c.throwIfAborted(),!g)return!1;switch(P){case"Cancel":return console.error(`Cancelling collecting attachments, as attachment ${g.oldAttachmentPath} is referenced by multiple notes.
${E}`),new _n.Notice("Collecting attachments cancelled. See console for details."),n.isAborted=!0,!1;case"Copy":g.newAttachmentPath=await bh(i,g.oldAttachmentPath,g.newAttachmentPath);break;case"Move":await F(),c.throwIfAborted();break;case"Prompt":{let{mode:Y,shouldUseSameActionForOtherProblematicAttachments:W}=await mm(i,g.oldAttachmentPath,x);return W&&(n.collectAttachmentUsedByMultipleNotesMode=Y),_(Y)}case"Skip":return console.warn(`Skipping collecting attachment ${g.oldAttachmentPath} as it is referenced by multiple notes.
${E}`),!1;default:throw new Error(`Unknown collect attachment used by multiple notes mode: ${t.settings.collectAttachmentUsedByMultipleNotesMode}`)}return!0}if(!await _(n.collectAttachmentUsedByMultipleNotesMode??t.settings.collectAttachmentUsedByMultipleNotesMode)){c.throwIfAborted();continue}}else c.throwIfAborted(),await F(),c.throwIfAborted();async function F(){c.throwIfAborted(),g&&(g.newAttachmentPath=await Uo(i,g.oldAttachmentPath,g.newAttachmentPath),c.throwIfAborted(),await es(i,Ee(g.oldAttachmentPath)))}if(a.set(g.oldAttachmentPath,g.newAttachmentPath),!u){let x=wi({app:i,link:w,newSourcePathOrFile:e,newTargetPathOrFile:g.newAttachmentPath,oldTargetPathOrFile:g.oldAttachmentPath});p.push(_r(w,x))}}return p},Ed({timeoutInMilliseconds:hs(t)})),u&&await Yo(i,e,(c,m)=>{c.throwIfAborted();let f=JSON.parse(m);for(let p of f.nodes){if(p.type!=="file")continue;let w=a.get(p.file);w&&(p.file=w)}return mr(f)}),s.hide()}function gm(t,e){let n=t.app.workspace.getActiveFile();return Zn(t,n)?(e||Tn(t.app,r=>fs(t,n?.parent??tn(new Error("Parent folder not found")),r),t.abortSignal,hs(t)),!0):!1}function wm(t,e){let n=t.app.workspace.getActiveFile();if(!n||!Zn(t,n))return!1;if(!e){if(t.settings.isPathIgnored(n.path))return new _n.Notice("Note path is ignored"),console.warn(`Cannot collect attachments in the note as note path is ignored: ${n.path}.`),!0;Tn(t.app,r=>pm(t,n,{},r),t.abortSignal,hs(t))}return!0}function ym(t){Tn(t.app,e=>fs(t,t.app.vault.getRoot(),e),t.abortSignal,hs(t))}async function fs(t,e,n){if(n.throwIfAborted(),!await is({app:t.app,message:createFragment(u=>{u.appendText("Do you want to collect attachments for all notes in folder: "),X(u,e.path),u.appendText(" and all its subfolders?"),u.createEl("br"),u.appendText("This operation cannot be undone.")}),title:createFragment(u=>{(0,_n.setIcon)(u.createSpan(),"lucide-alert-triangle"),u.appendText(" Collect attachments in folder")})})){n.throwIfAborted();return}t.consoleDebug(`Collect attachments in folder: ${e.path}`);let r=[];_n.Vault.recurseChildren(e,u=>{Zn(t,u)&&r.push(u)}),r.sort((u,c)=>u.path.localeCompare(c.path));let i={},s=new AbortController,a=Ln([s.signal,t.abortSignal]);await tm({abortSignal:a,buildNoticeMessage:(u,c)=>`Collecting attachments ${c} - ${u.path}`,items:r,processItem:async u=>{if(a.throwIfAborted(),t.settings.isPathIgnored(u.path)){console.warn(`Cannot collect attachments in the note as note path is ignored: ${u.path}.`);return}await pm(t,u,i,a),a.throwIfAborted(),i.isAborted&&s.abort()},progressBarTitle:"Custom Attachment Location: Collecting attachments...",shouldContinueOnError:!0,shouldShowProgressBar:!0})}function Zn(t,e){if(!e||!ni(t.app,e))return!1;let n=be(t.app,e);return t.settings.treatAsAttachmentExtensions.every(r=>!n.endsWith(r))}async function _E(t,e){return(await t.vault.readJson(e.path)).nodes.filter(i=>i.type==="file").map(i=>i.file).map(i=>({link:i,original:i,position:{end:{col:0,line:0,loc:0,offset:0},start:{col:0,line:0,loc:0,offset:0}}}))}function hs(t){return t.settings.collectAttachmentUsedByMultipleNotesMode==="Prompt"||Eu(t.settings.attachmentFolderPath)||Eu(t.settings.generatedAttachmentFileName)?Ya:void 0}async function FE(t,e,n,r){let i=t.app,s=Pr(i,e,r);if(!s)return console.warn(`Skipping collecting attachment ${e.link} as it could not be resolved.`),null;if(Zn(t,s))return console.warn(`Skipping collecting attachment ${s.path} as it is a note.`),null;let a=s.path,u=s.name,c=Ae(r,Te(r)),m=Ae(n,Te(n)),f;t.settings.shouldRenameCollectedAttachments?f=Bt(await vi(t,new Je({app:t.app,attachmentFileContent:await t.app.vault.readBinary(s),noteFilePath:n,originalAttachmentFileName:s.name})),s.extension):t.settings.shouldRenameAttachmentFiles?f=u.replaceAll(c,m):f=u;let p=await Ai(t,n,f),w=Ce(p,f);return a===w?(console.warn(`Skipping collecting attachment ${s.path} as it is already in the destination folder.`),null):{newAttachmentPath:w,oldAttachmentPath:a}}var fg=require("obsidian");var bm=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Tu=class extends Or{options;constructor(e,n){super(e,n,$.AlertModal);let r={app:e.app,cssClass:"",message:e.message,okButtonText:"OK",title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve()}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new bm.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(this.close.bind(this)),e.setClass($.OkButton)}};async function ms(t){await rs(e=>new Tu(t,e))}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Fn=class{getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let r=this.getTransformerId(e,n);if(r){let a=this.transformValue(e,n);return a===void 0?void 0:{__transformerId:r,transformedValue:a}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((a,u)=>this.transformValueRecursively(a,String(u)));let i=e;if(i.__transformerId)return this.getTransformer(i.__transformerId).restoreValue(i.transformedValue,n);let s={};for(let a of hr(e)){let u=e[a],c=this.transformValueRecursively(u,a);s[a]=c}return s}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var At=class extends Fn{};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ps=class extends At{get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var km=Me(en(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var gs=class extends At{get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return(0,km.duration)(e)}transformValue(e){return e.toISOString()}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ws=class extends Fn{constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??tn(`No transformer with id ${e} found`)}transformValue(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(e,n)}getTransformerId(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(r=>r.canTransform(e,n))??null}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ys=class extends At{get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var bs=class extends At{get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var PE="_",ks=class extends Fn{get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(PE)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ei=class{keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,r]of e)this.set(n,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var As=class extends At{get id(){return"two-way-map"}canTransform(e){return e instanceof Ei}restoreValue(e){return new Ei(e)}transformValue(e){return Array.from(e.entries())}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var IE=new ws([new ks,new ps,new gs,new ys,new bs,new As]),vs=class extends Lt{constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=hr(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let r of this.propertyNames)n[r]&&(e[r]=this.defaultSettings[r])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let r=n,i=await this.rawRecordToSettings(r),s=await this.validate(i);for(let u of this.propertyNames)this.setPropertyImpl(u,i[u],s[u]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let a=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);wt(a,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,r){return super.on(e,n,r)}async revalidate(){return await this.edit(Pt),this.currentSettingsWrapper.validationMessages}async saveToFile(e){wt(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(r=>{r[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[r,i]of this.validators.entries()){let s=await i(e[r],e);s&&(n[r]=s)}return n}getTransformer(){return IE}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await Mt()}registerLegacySettingsConverter(e,n){let r=this;this.legacySettingsConverters.push(i);function i(s){let a=new Set(Object.keys(new e)),u=new Set(r.propertyNames),c=s;n(c);for(let m of Object.keys(c))u.has(m)||a.has(m)&&delete s[m]}}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),r=JSON.stringify(n),i=JSON.parse(r);return await this.rawRecordToSettings(i)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let i=n[r]??"";this.currentSettingsWrapper.validationMessages[r]=i,this.currentSettingsWrapper.safeSettings[r]=i?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[r,i]of Object.entries(e)){if(!this.isValidPropertyName(r)){console.warn(`Unknown property: ${r}`);continue}typeof i!=typeof this.defaultSettings[r]&&console.warn("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:i}),n[r]=i}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,r){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=r??"",this.currentSettingsWrapper.safeSettings[e]=r?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let r of this.propertyNames)n[r]=e[r];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var Hu=Me(ug(),1);var S2=2e3,Gu=class{autoRenameFiles=!1;autoRenameFolder=!0;convertImagesOnDragAndDrop=!1;convertImagesToJpeg=!1;dateTimeFormat="";deleteOrphanAttachments=!1;generatedAttachmentFilename="";keepEmptyAttachmentFolders=!1;pastedFileName="file-${date:YYYYMMDDHHmmssSSS}";pastedImageFileName="";renameAttachmentsOnDragAndDrop=!1;renameCollectedFiles=!1;renameOnlyImages=!1;renamePastedFilesWithKnownNames=!1;replaceWhitespace=!1;shouldDuplicateCollectedAttachments=!1;shouldKeepEmptyAttachmentFolders=!1;shouldRenameAttachmentsToLowerCase=!1;toLowerCase=!1;whitespaceReplacement=""},Ms=class extends vs{shouldDebounceCustomTokensValidation=!1;customTokensValidatorDebounced=(0,fg.debounce)(this.customTokensValidatorImpl.bind(this),S2);lastCustomTokenValidatorResult=void 0;createDefaultSettings(){return new cs}registerLegacySettingsConverters(){this.registerLegacySettingsConverter(Gu,e=>{let n=e.dateTimeFormat??"YYYYMMDDHHmmssSSS";e.attachmentFolderPath=cg(e.attachmentFolderPath??"",n),e.generatedAttachmentFileName=cg(e.generatedAttachmentFileName??e.generatedAttachmentFilename??e.pastedFileName??e.pastedImageFileName??"file-${date}",n),e.replaceWhitespace!==void 0&&(e.whitespaceReplacement=e.replaceWhitespace?"-":""),e.autoRenameFiles!==void 0&&(e.shouldRenameAttachmentFiles=e.autoRenameFiles),e.autoRenameFolder!==void 0&&(e.shouldRenameAttachmentFolder=e.autoRenameFolder),e.deleteOrphanAttachments!==void 0&&(e.shouldDeleteOrphanAttachments=e.deleteOrphanAttachments),e.keepEmptyAttachmentFolders!==void 0&&(e.shouldKeepEmptyAttachmentFolders=e.keepEmptyAttachmentFolders),e.renameCollectedFiles!==void 0&&(e.shouldRenameCollectedAttachments=e.renameCollectedFiles),(e.toLowerCase||e.shouldRenameAttachmentsToLowerCase)&&pe(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await ms({app:this.app,message:createFragment(r=>{r.appendText('In plugin version 9.0.0, the "Rename attachments to lower case" setting is deprecated. Use '),X(r,"lower"),r.appendText(" format instead. See "),r.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"documentation."}),r.appendText(" for more information.")})})}),e.customTokensStr&&e.warningVersion&&(0,Hu.compare)(e.warningVersion,"9.0.0")<0&&(e.customTokensStr=`// Custom tokens were commented out as they have to be updated to the new format introduced in plugin version 9.0.0.
// Refer to the documentation (https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens) for more information.

${_2(e.customTokensStr)}
`,pe(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await ms({app:this.app,message:createFragment(r=>{r.appendText("In plugin version 9.0.0, the format of custom token registration changed. Please update your tokens accordingly. Refer to the "),r.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens",text:"documentation"}),r.appendText(" for more information.")})})})),e.convertImagesToJpeg!==void 0&&(e.shouldConvertPastedImagesToJpeg=e.convertImagesToJpeg),e.whitespaceReplacement&&(e.specialCharacters=`${e.specialCharacters??""} `,e.specialCharactersReplacement=e.whitespaceReplacement),e.shouldKeepEmptyAttachmentFolders!==void 0&&(e.emptyAttachmentFolderBehavior=e.shouldKeepEmptyAttachmentFolders?st.Keep:st.DeleteWithEmptyParents),e.attachmentFolderPath=this.replaceLegacyTokens(e.attachmentFolderPath),e.generatedAttachmentFileName=this.replaceLegacyTokens(e.generatedAttachmentFileName),e.markdownUrlFormat=this.replaceLegacyTokens(e.markdownUrlFormat),e.customTokensStr=this.replaceLegacyTokens(e.customTokensStr??""),e.collectAttachmentUsedByMultipleNotesMode===void 0&&e.shouldDuplicateCollectedAttachments!==void 0&&(e.collectAttachmentUsedByMultipleNotesMode=e.shouldDuplicateCollectedAttachments?"Copy":"Skip"),e.warningVersion&&(0,Hu.compare)(e.warningVersion,"9.2.0")<0&&(e.markdownUrlFormat==="${generatedAttachmentFilePath}"||e.markdownUrlFormat==="${noteFilePath}")&&pe(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await ms({app:this.app,message:createFragment(r=>{r.appendText("You have potentially incorrect value set for the "),X(r,"Markdown URL format"),r.appendText(" setting. Please refer to the "),r.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#markdown-url-format",text:"documentation"}),r.appendText(" for more information. This message will not be shown again.")})})}),e.warningVersion=this.plugin.manifest.version})}registerValidators(){this.registerValidator("attachmentFolderPath",async e=>await ss({app:this.app,areTokensAllowed:!0,path:e})),this.registerValidator("generatedAttachmentFileName",e=>Kn({app:this.app,areSingleDotsAllowed:!1,fileName:e,isEmptyAllowed:!1,tokenValidationMode:"Validate"})),this.registerValidator("specialCharacters",e=>{if(e.includes("/"))return"Special characters must not contain /"}),this.registerValidator("specialCharactersReplacement",e=>{if(os().exec(e))return"Special character replacement must not contain invalid file name path characters."}),this.registerValidator("duplicateNameSeparator",async e=>await Kn({app:this.app,areSingleDotsAllowed:!1,fileName:`foo${e}1`,isEmptyAllowed:!1,tokenValidationMode:"Error"})),this.registerValidator("includePaths",e=>dg(e)),this.registerValidator("excludePaths",e=>dg(e)),this.registerValidator("customTokensStr",e=>this.customTokensValidator(e))}customTokensValidator(e){return this.shouldDebounceCustomTokensValidation?this.customTokensValidatorDebounced(e):this.customTokensValidatorImpl(e),this.lastCustomTokenValidatorResult??void 0}customTokensValidatorImpl(e){let n=vu(e);this.lastCustomTokenValidatorResult=n===null?"Invalid custom tokens code":void 0}replaceLegacyTokens(e){if(e===void 0)return"";let n={fileCreationDate:"noteFileCreationDate",fileModificationDate:"noteFileModificationDate",fileName:"noteFileName",filePath:"noteFilePath",folderName:"noteFolderName",folderPath:"noteFolderPath",originalCopiedFileExtension:"originalAttachmentFileExtension",originalCopiedFileName:"originalAttachmentFileName",randomDigit:"random:D",randomDigitOrLetter:"random:DL",randomLetter:"random:L",uuid:"random:uuid"};for(let[r,i]of Object.entries(n))e=ge(e,new RegExp(`\\\${${r}(?<Suffix>[:}])`,"i"),`\${${i}$<Suffix>`),e=ge(e,`substitutions.${r}`,`substitutions.${i}`);return e}};function cg(t,e){return t.replaceAll("${date}",`\${date:${e}}`)}function _2(t){return t.replaceAll(/^/gm,"// ")}function dg(t){for(let e of t)if(e.startsWith("/")&&e.endsWith("/")){let n=e.slice(1,-1);if(!wd(n))return`Invalid regular expression ${e}`}}var pa=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Ls(t,e){let n=Object.keys(t).find(r=>t[r]===e);if(n===void 0)throw new Error(`Invalid enum value: ${e}`);return n}function Ns(t,e){let n=t[e];if(n===void 0)throw new Error(`Invalid enum key: ${e}`);return n}var Qn=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function $s(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains($.SettingComponentWrapper))return e;let n=Array.from(e.children),r=createDiv();ue(r,$.SettingComponentWrapper);for(let i of n)r.appendChild(i);return e.appendChild(r),r}var hg=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var qu=class{constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function mg(t){return F2(t)?t:t instanceof hg.AbstractTextComponent?new qu(t):null}function F2(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}var We=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Bs=class{constructor(e){this.el=e;let n=$s(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),ue(this._validatorEl,$.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},Pn=class{constructor(e){this.validatorEl=e}};function pg(t){return P2(t)?t:t instanceof We.ColorComponent?new Pn(t.colorPickerEl):t instanceof We.DropdownComponent?new Pn(t.selectEl):t instanceof We.ProgressBarComponent?new Bs(t.progressBar):t instanceof We.SearchComponent?new Pn(t.inputEl):t instanceof We.SliderComponent?new Pn(t.sliderEl):t instanceof We.TextAreaComponent?new Pn(t.inputEl):t instanceof We.TextComponent?new Pn(t.inputEl):t instanceof We.ToggleComponent?new Bs(t.toggleEl):null}function P2(t){return!!t.validatorEl}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ju="PluginSettingsTab",Vs=class extends Qn.PluginSettingTab{constructor(e){super(e.app,e),this.plugin=e,ue(this.containerEl,$.PluginSettingsTab),this.saveSettingsDebounced=(0,Qn.debounce)(it(()=>this.plugin.settingsManager.saveToFile(ju)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new Ko,this.asyncEvents=new Lt}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,r){let s={...{componentToPluginSettingsValueConverter:_=>_,onChanged:Pt,pluginSettingsToComponentValueConverter:_=>_,shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},a=pg(e)?.validatorEl,u=mg(e),c=this.pluginSettings[n],m=this.plugin.settingsManager.defaultSettings[n];u?.setPlaceholderValue(s.pluginSettingsToComponentValueConverter(m));let f,p=null,w=null;if(a){let _=$s(a);p=_.createDiv(),ue(p,$.Tooltip,$.TooltipValidator),w=p.createSpan();let P=p.createDiv();ue(P,$.TooltipArrow),p.hide(),_.appendChild(p)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(_,P)=>{n===_&&(f=P,x())}));let g=!1;u&&s.shouldShowPlaceholderForDefaultValues&&wt(c,m)?u.empty():e.setValue(s.pluginSettingsToComponentValueConverter(c));let v=!1,x=(0,Qn.debounce)(()=>{requestAnimationFrame(()=>{E()})},100);return e.onChange(async _=>{if(v){v=!1;return}g=!1;let P=this.pluginSettings[n],Y,W=!0;if(u?.isEmpty()&&s.shouldResetSettingWhenComponentIsEmpty)Y=m;else{let T=s.componentToPluginSettingsValueConverter(_);im(T)?(f=T.validationMessage,W=!1):Y=T}W&&(f=await this.plugin.settingsManager.setProperty(n,Y),u&&s.shouldShowPlaceholderForDefaultValues&&!u.isEmpty()&&wt(Y,m)&&(g=!0)),x(),Y!==void 0&&await s.onChanged(Y,P),this.saveSettingsDebounced()}),a?.addEventListener("focus",()=>{x()}),a?.addEventListener("blur",()=>{x()}),a?.addEventListener("click",()=>{requestAnimationFrame(()=>{x()})}),f=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",x(),e;function E(){g&&!a?.isActiveElement()&&(g=!1,u?.isEmpty()||(v=!0,u?.empty())),a&&(f===""&&(a.setCustomValidity(""),a.checkValidity(),f=a.validationMessage),a.setCustomValidity(f),s.shouldShowValidationMessage?(w&&(w.textContent=f),p?.toggle(!!f)):f&&(0,Qn.setTooltip)(a,f))}}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),pe(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(ju)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await Mt()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,n,r){return this.asyncEvents.on(e,n,r)}async onSaveSettings(e,n,r){if(r===ju){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[n,r]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",n,r)}};var Eg=require("obsidian");var gg=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ys=class extends gg.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),ue(e,$.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var Nr=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Us=class extends Nr.ValueComponent{get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),ue(e,$.CodeHighlighterComponent);let n=e.createDiv();ue(n,$.SettingComponentWrapper),this.textAreaComponent=new Nr.TextAreaComponent(n),this.preEl=n.createEl("pre"),this.codeEl=this.preEl.createEl("code"),this.inputEl.addEventListener("input",it(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let r=2;this.tabSize=r}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let r of[this.preEl,this.codeEl]){for(let i of Array.from(r.classList))i.startsWith(n)&&r.classList.remove(i);r.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,pe(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),pe(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;e.preventDefault();let n=this.getValue(),r=this.inputEl.selectionStart,i=this.inputEl.selectionEnd,s=n.slice(0,r),a=n.slice(i),u=" ".repeat(this.tabSize),c=s;e.shiftKey?s.endsWith(u)&&(c=s.slice(0,-this.tabSize)):c=s+u;let m=`${c}${a}`;this.setValue(m),this.inputEl.selectionStart=c.length,this.inputEl.selectionEnd=c.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await(0,Nr.loadPrism)()).highlightElement(this.codeEl),this.preEl.toggleClass($.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let n=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":Qh(n)}),this.handleScroll()})}};var Ku=Me(en(),1);var Ws=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var De=class extends Ws.ValueComponent{inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,r){super(),this.textComponent=new Ws.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,ue(e,r)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var lt=class extends De{setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var wg="YYYY-MM-DD",zs=class extends lt{constructor(e){super(e,"date",$.DateComponent)}valueFromString(e){return(0,Ku.default)(e,wg).toDate()}valueToString(e){return(0,Ku.default)(e).format(wg)}};var Xu=Me(en(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var yg="YYYY-MM-DDTHH:mm",Hs=class extends lt{constructor(e){super(e,"datetime-local",$.DateTimeComponent)}valueFromString(e){return(0,Xu.default)(e,yg).toDate()}valueToString(e){return(0,Xu.default)(e).format(yg)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Gs=class extends De{constructor(e){super(e,"email",$.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var qs=class extends De{constructor(e){super(e,"file",$.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var Zu=Me(en(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var bg="YYYY-MM",js=class extends lt{constructor(e){super(e,"month",$.MonthComponent)}valueFromString(e){let n=(0,Zu.default)(e,bg);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return(0,Zu.default)().year(e.year).month(e.month-1).format(bg)}};var Ks=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var $r=class extends Ks.ValueComponent{get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new Ks.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,ue(e,$.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Xs=class extends De{constructor(e){super(e,"email",$.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Zs=class extends De{constructor(e){super(e,"file",$.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var Qs=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Js=class extends Qs.ValueComponent{get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new Qs.TextAreaComponent(e),ue(e,$.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ea=class extends lt{constructor(e){super(e,"number",$.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ta=class extends De{constructor(e){super(e,"password",$.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var na=class extends De{constructor(e){super(e,"tel",$.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var ia=Me(en(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ra=class extends lt{constructor(e){super(e,"time",$.TimeComponent)}valueFromString(e){return(0,ia.duration)(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,ia.utc)(e.asMilliseconds()).format(n)}};var kg=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var oa=class extends kg.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),ue(e,$.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var aa=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var sa=class extends aa.ValueComponent{get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new aa.DropdownComponent(e),ue(e,$.TypedDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.dropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var Ag=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var la=class extends Ag.ValueComponent{get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new $r(e),ue(e,$.TypedMultipleDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.multipleDropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(r=>this.values.indexOf(r)).filter(r=>r!==-1);return this.multipleDropdownComponent.setValue(n.map(r=>String(r))),this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ua=class extends De{constructor(e){super(e,"url",$.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Ju=Me(en(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var vg="YYYY-[W]WW",ca=class extends lt{constructor(e){super(e,"week",$.WeekComponent)}valueFromString(e){let n=(0,Ju.default)(e,vg);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return(0,Ju.default)().year(e.year).isoWeek(e.weekNumber).format(vg)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var we=class extends Eg.Setting{addCheckbox(e){return this.addComponent(Ys,e)}addCodeHighlighter(e){return this.addComponent(Us,e)}addComponent(e,n){let r=new e(this.controlEl);return this.components.push(r),n(r),this}addDate(e){return this.addComponent(zs,e)}addDateTime(e){return this.addComponent(Hs,e)}addEmail(e){return this.addComponent(Gs,e)}addFile(e){return this.addComponent(qs,e)}addMonth(e){return this.addComponent(js,e)}addMultipleDropdown(e){return this.addComponent($r,e)}addMultipleEmail(e){return this.addComponent(Xs,e)}addMultipleFile(e){return this.addComponent(Zs,e)}addMultipleText(e){return this.addComponent(Js,e)}addNumber(e){return this.addComponent(ea,e)}addPassword(e){return this.addComponent(ta,e)}addTelephone(e){return this.addComponent(na,e)}addTime(e){return this.addComponent(ra,e)}addTriStateCheckbox(e){return this.addComponent(oa,e)}addTypedDropdown(e){return this.addComponent(sa,e)}addTypedMultipleDropdown(e){return this.addComponent(la,e)}addUrl(e){return this.addComponent(ua,e)}addWeek(e){return this.addComponent(ca,e)}};var fa=require("obsidian");var Br="custom-attachment-location-tokenized-string",da=class extends fa.Component{onload(){super.onload(),pe(this.initPrism.bind(this))}async initPrism(){let e=await(0,fa.loadPrism)();e.languages[Br]={expression:{greedy:!0,inside:{format:{alias:"number",pattern:/[a-zA-Z0-9_]+/},formatDelimiter:{alias:"regex",pattern:/:/},prefix:{alias:"regex",pattern:/[${}]/},token:{alias:"string",pattern:/^[a-zA-Z0-9_,]+/}},pattern:/\${[a-zA-Z0-9_]+(?::[a-zA-Z0-9_,]*)?}/},important:{pattern:/^\./},operator:{alias:"entity",pattern:/\//}},this.register(()=>{delete e.languages[Br]})}};var ha="\u2423",ma=class extends Vs{display(){super.display(),this.containerEl.empty();let e={componentToPluginSettingsValueConverter(i){return(0,pa.normalizePath)(i.trimEnd())},pluginSettingsToComponentValueConverter(i){return i.trimEnd()}};new we(this.containerEl).setName("Location for new attachments").setDesc(createFragment(i=>{i.appendText("Start with "),X(i,"."),i.appendText(" to use relative path."),i.createEl("br"),i.appendText("See available "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"}),i.createEl("br"),i.appendText("Dot-folders like "),X(i,".attachments"),i.appendText(" are not recommended, because Obsidian doesn't track them. You might need to use "),i.createEl("a",{href:"https://github.com/polyipseity/obsidian-show-hidden-files/",text:"Show Hidden Files"}),i.appendText(" Plugin to manage them.")})).addCodeHighlighter(i=>{i.setLanguage(Br),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"attachmentFolderPath",e)}),new we(this.containerEl).setName("Generated attachment file name").setDesc(createFragment(i=>{i.appendText("See available "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"})})).addCodeHighlighter(i=>{i.setLanguage(Br),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"generatedAttachmentFileName",e)}),new we(this.containerEl).setName("Markdown URL format").setDesc(createFragment(i=>{i.appendText("Format for the URL that will be inserted into Markdown."),i.createEl("br"),i.appendText("See available "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"}),i.createEl("br"),i.appendText("Leave blank to use the default format.")})).addCodeHighlighter(i=>{i.setLanguage(Br),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"markdownUrlFormat",e)}),new we(this.containerEl).setName("Attachment rename mode").setDesc(createFragment(i=>{i.appendText("When attaching files:"),i.createEl("br"),X(i,"None"),i.appendText(" - their names are preserved."),i.createEl("br"),X(i,"Only pasted images"),i.appendText(" - only pasted images are renamed."),i.createEl("br"),X(i,"All"),i.appendText(" - all files are renamed.")})).addDropdown(i=>{i.addOptions(Rr),this.bind(i,"attachmentRenameMode",{componentToPluginSettingsValueConverter:s=>Ns(Rr,s),pluginSettingsToComponentValueConverter:s=>Ls(Rr,s)})}),new we(this.containerEl).setName("Should rename attachment folder").setDesc(createFragment(i=>{i.appendText("When renaming md files, automatically rename attachment folder if folder name contains "),X(i,"${noteFileName}"),i.appendText(".")})).addToggle(i=>{this.bind(i,"shouldRenameAttachmentFolder")}),new we(this.containerEl).setName("Should rename attachment files").setDesc(createFragment(i=>{i.appendText("When renaming md files, automatically rename attachment files if file name contains "),X(i,"${noteFileName}"),i.appendText(".")})).addToggle(i=>{this.bind(i,"shouldRenameAttachmentFiles")}),new we(this.containerEl).setName("Special characters").setDesc(createFragment(i=>{i.appendText("Special characters in attachment folder and file name to be replaced or removed."),i.createEl("br"),i.appendText("Leave blank to preserve special characters.")})).addText(i=>{this.bind(i,"specialCharacters",{componentToPluginSettingsValueConverter:s=>s.replaceAll(ha,""),pluginSettingsToComponentValueConverter:s=>s.replaceAll(" ",ha),shouldResetSettingWhenComponentIsEmpty:!1}),i.inputEl.addEventListener("input",()=>{i.inputEl.value=Qu(i.inputEl.value)})}),new we(this.containerEl).setName("Special characters replacement").setDesc(createFragment(i=>{i.appendText("Replacement string for special characters in attachment folder and file name."),i.createEl("br"),i.appendText("Leave blank to remove special characters.")})).addText(i=>{this.bind(i,"specialCharactersReplacement",{shouldResetSettingWhenComponentIsEmpty:!1})}),new we(this.containerEl).setName("Should convert pasted images to JPEG").setDesc("Paste images from clipboard converting them to JPEG.").addToggle(i=>{this.bind(i,"shouldConvertPastedImagesToJpeg")}),new we(this.containerEl).setName("JPEG Quality").setDesc("The smaller the quality, the greater the compression ratio.").addDropdown(i=>{i.addOptions(I2()),this.bind(i,"jpegQuality",{componentToPluginSettingsValueConverter:s=>Number(s),pluginSettingsToComponentValueConverter:s=>s.toString()})}),new we(this.containerEl).setName("Should rename collected attachments").setDesc(createFragment(i=>{i.appendText("If enabled, attachments processed via "),X(i,"Collect attachments"),i.appendText(" commands will be renamed according to the "),X(i,"Pasted File Name"),i.appendText(" setting.")})).addToggle(i=>{this.bind(i,"shouldRenameCollectedAttachments")}),new we(this.containerEl).setName("Collect attachment used by multiple notes mode").setDesc(createFragment(i=>{i.appendText("When the collected attachment is used by multiple notes:"),i.createEl("br"),X(i,"Skip"),i.appendText(" - skip the attachment and proceed to the next one."),i.createEl("br"),X(i,"Move"),i.appendText(" - move the attachment to the new location."),i.createEl("br"),X(i,"Copy"),i.appendText(" - copy the attachment to the new location."),i.createEl("br"),X(i,"Cancel"),i.appendText(" - cancel the attachment collecting."),i.createEl("br"),X(i,"Prompt"),i.appendText(" - prompt the user to select the action.")})).addDropdown(i=>{i.addOptions({Skip:"Skip",Move:"Move",Copy:"Copy",Cancel:"Cancel",Prompt:"Prompt"}),this.bind(i,"collectAttachmentUsedByMultipleNotesMode",{componentToPluginSettingsValueConverter:s=>Ns(Xn,s),pluginSettingsToComponentValueConverter:s=>Ls(Xn,s)})}),new we(this.containerEl).setName("Duplicate name separator").setDesc(createFragment(i=>{i.appendText("When you are pasting/dragging a file with the same name as an existing file, this separator will be added to the file name."),i.createEl("br"),i.appendText("E.g., when you are dragging file "),X(i,"existingFile.pdf"),i.appendText(", it will be renamed to "),X(i,"existingFile 1.pdf"),i.appendText(", "),X(i,"existingFile 2.pdf"),i.appendText(", etc, getting the first name available.")})).addText(i=>{this.bind(i,"duplicateNameSeparator",{componentToPluginSettingsValueConverter:s=>s.replaceAll(ha," "),pluginSettingsToComponentValueConverter:Qu}),i.inputEl.addEventListener("input",()=>{i.inputEl.value=Qu(i.inputEl.value)})}),new we(this.containerEl).setName("Empty attachment folder behavior").setDesc(createFragment(i=>{i.appendText("When the attachment folder becomes empty:"),i.createEl("br"),X(i,"Keep"),i.appendText(" - will keep the empty attachment folder."),i.createEl("br"),X(i,"Delete"),i.appendText(" - will delete the empty attachment folder."),i.createEl("br"),X(i,"Delete with empty parents"),i.appendText(" - will delete the empty attachment folder and its empty parent folders.")})).addDropdown(i=>{i.addOptions({[st.Keep]:"Keep",[st.Delete]:"Delete",[st.DeleteWithEmptyParents]:"Delete with empty parents"}),this.bind(i,"emptyAttachmentFolderBehavior",{componentToPluginSettingsValueConverter:s=>Ns(st,s),pluginSettingsToComponentValueConverter:s=>Ls(st,s)})}),new we(this.containerEl).setName("Should delete orphan attachments").setDesc("If enabled, when the note is deleted, its orphan attachments are deleted as well.").addToggle(i=>{this.bind(i,"shouldDeleteOrphanAttachments")}),new we(this.containerEl).setName("Include paths").setDesc(createFragment(i=>{i.appendText("Include notes from the following paths."),i.createEl("br"),i.appendText("Insert each path on a new line."),i.createEl("br"),i.appendText("You can use path string or "),X(i,"/regular expression/."),i.createEl("br"),i.appendText("If the setting is empty, all notes are included.")})).addMultipleText(i=>{this.bind(i,"includePaths")}),new we(this.containerEl).setName("Exclude paths").setDesc(createFragment(i=>{i.appendText("Exclude notes from the following paths."),i.createEl("br"),i.appendText("Insert each path on a new line."),i.createEl("br"),i.appendText("You can use path string or "),X(i,"/regular expression/."),i.createEl("br"),i.appendText("If the setting is empty, no notes are excluded.")})).addMultipleText(i=>{this.bind(i,"excludePaths")}),new we(this.containerEl).setName("Exclude paths from attachment collecting").setDesc(createFragment(i=>{i.appendText("Exclude attachments from the following paths when "),X(i,"Collect attachments"),i.appendText(" command is executed."),i.createEl("br"),i.appendText("Insert each path on a new line."),i.createEl("br"),i.appendText("You can use path string or "),X(i,"/regular expression/."),i.createEl("br"),i.appendText("If the setting is empty, no paths are excluded from attachment collecting.")})).addMultipleText(i=>{this.bind(i,"excludePathsFromAttachmentCollecting")});let r=(0,pa.debounce)(i=>{pe(async()=>{Je.registerCustomTokens(i),await this.revalidate()})},2e3);new we(this.containerEl).setName("Custom tokens").setDesc(createFragment(i=>{i.appendText("Custom tokens to be used in the attachment folder path and pasted file name."),i.createEl("br"),i.appendText("See "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens",text:"documentation"}),i.appendText(" for more information."),i.createEl("br"),i.appendText("\u26A0\uFE0F Custom tokens can be an arbitrary JavaScript code. If poorly written, it can cause the data loss. Use it at your own risk.")})).addCodeHighlighter(i=>{i.setLanguage("javascript"),i.inputEl.addClass("custom-tokens-setting-control"),this.bind(i,"customTokensStr",{onChanged:s=>{r(s)}}),i.setPlaceholder(ds)}),this.plugin.settingsManager.shouldDebounceCustomTokensValidation=!0,new we(this.containerEl).addButton(i=>{i.setButtonText("Reset to sample custom tokens"),i.setWarning(),i.onClick(it(async()=>{this.plugin.settings.customTokensStr!==ds&&(this.plugin.settings.customTokensStr!==""&&!await is({app:this.plugin.app,message:"Are you sure you want to reset the custom tokens to the sample custom tokens? Your changes will be lost.",title:"Reset to sample custom tokens"})||(await this.plugin.settingsManager.editAndSave(s=>{s.customTokensStr=ds}),this.display()))}))}),new we(this.containerEl).setName("Treat as attachment extensions").setDesc(createFragment(i=>{i.appendText("Treat files with these extensions as attachments."),i.createEl("br"),i.appendText("By default, "),X(i,".md"),i.appendText(", "),X(i,".canvas"),i.appendText(" and "),X(i,".base"),i.appendText(" linked files are not treated as attachments and are not moved with the note."),i.createEl("br"),i.appendText("You can add custom extensions, e.g. "),X(i,".foo.md"),i.appendText(", "),X(i,".bar.canvas"),i.appendText(", "),X(i,".baz.base"),i.appendText(", to override this behavior.")})).addMultipleText(i=>{this.bind(i,"treatAsAttachmentExtensions")})}hide(){super.hide(),this.plugin.settingsManager.shouldDebounceCustomTokensValidation=!1}};function I2(){let e={};for(let n=1;n<=10;n++){let r=(n/10).toFixed(1);e[r]=r}return e}function Qu(t){return t.replaceAll(" ",ha)}var O2=/Pasted image (?<Timestamp>\d{14})/,R2="YYYYMMDDHHmmss",D2=10,ga=class extends Jo{currentAttachmentFolderPath=null;getAvailablePathForAttachmentsOriginal=null;lastOpenFilePath=null;pathMarkdownUrlMap=new Map;createSettingsManager(){return new Ms(this)}createSettingsTab(){return new ma(this)}async onLayoutReady(){await super.onLayoutReady(),Je.registerCustomTokens(this.settings.customTokensStr),await this.settingsManager.loadFromFile(!1),xn(this,this.app.vault,{getAvailablePath:()=>this.getAvailablePath.bind(this),getAvailablePathForAttachments:e=>{this.getAvailablePathForAttachmentsOriginal=e.bind(this.app.vault);let n={isExtended:!0};return Object.assign(this.getAvailablePathForAttachments.bind(this),n)},getConfig:e=>n=>this.getConfig(e,n)}),ec.webUtils&&xn(this,ec.webUtils,{getPathForFile:e=>n=>this.getPathForFile(n,e)}),xn(this,this.app.fileManager,{generateMarkdownLink:e=>(n,r,i,s)=>this.generateMarkdownLink(e,n,r,i,s)}),xn(this,vd(this.app.shareReceiver),{importFiles:e=>n=>this.importFiles(e,n)})}async onloadImpl(){await super.onloadImpl(),Kh(this,()=>({emptyAttachmentFolderBehavior:this.settings.emptyAttachmentFolderBehavior,isNote:n=>Zn(this,n),isPathIgnored:n=>this.settings.isPathIgnored(n),shouldHandleDeletions:this.settings.shouldDeleteOrphanAttachments,shouldHandleRenames:!0,shouldRenameAttachmentFiles:this.settings.shouldRenameAttachmentFiles,shouldRenameAttachmentFolder:this.settings.shouldRenameAttachmentFolder,shouldUpdateFileNameAliases:!0})),this.addCommand({checkCallback:e=>wm(this,e),id:"collect-attachments-current-note",name:"Collect attachments in current note"}),this.addCommand({checkCallback:e=>gm(this,e),id:"collect-attachments-current-folder",name:"Collect attachments in current folder"}),this.addCommand({callback:()=>{ym(this)},id:"collect-attachments-entire-vault",name:"Collect attachments in entire vault"}),this.registerEvent(this.app.workspace.on("file-menu",this.handleFileMenu.bind(this))),xn(this,this.app,{saveAttachment:()=>(e,n,r)=>this.saveAttachment(e,n,r)}),this.addChild(new da),this.registerEvent(this.app.workspace.on("file-open",it(this.handleFileOpen.bind(this)))),this.registerEvent(this.app.vault.on("rename",it(this.handleRename.bind(this))))}generateMarkdownLink(e,n,r,i,s){let a=e.call(this.app.fileManager,n,r,i,s);if(!this.settings.markdownUrlFormat)return a;let u=this.pathMarkdownUrlMap.get(n.path);return u?(jo(a)&&(a=cu({app:this.app,isWikilink:!1,originalLink:a,sourcePathOrFile:r,targetPathOrFile:n})),du(a)?a.replace(/\]\(<.+?>\)/,`](<${u}>)`):a.replace(/\]\(.+?\)/,`](${pi(u)})`)):a}getAvailablePath(e,n){let r=0;for(;;){let i=Bt(r===0?e:`${e}${this.settings.duplicateNameSeparator}${r.toString()}`,n);if(!Vn(this.app,i,!0))return i;r++}}async getAvailablePathForAttachments(e,n,r,i,s){if(r&&this.settings.isPathIgnored(r.path)&&this.getAvailablePathForAttachmentsOriginal)return this.getAvailablePathForAttachmentsOriginal(e,n,r);let a;if(!r||!Zn(this,r))a=await al(this.app,e,n,r,!0);else{let u=await Ai(this,r.path,Bt(e,n),s);a=this.app.vault.getAvailablePath(Ce(u,e),n)}if(!i){let u=yt(a);await this.app.vault.exists(u)||(await Vo(this.app,u),this.settings.emptyAttachmentFolderBehavior===st.Keep&&await this.app.vault.create(Ce(u,".gitkeep"),""))}return a}getConfig(e,n){return n!=="attachmentFolderPath"||this.currentAttachmentFolderPath===null?e.call(this.app.vault,n):this.currentAttachmentFolderPath}getPathForFile(e,n){let r=e;return r.path?r.path:n(e)}handleFileMenu(e,n){n instanceof Cg.TFolder&&e.addItem(r=>{r.setTitle("Collect attachments in folder").setIcon("download").onClick(()=>fs(this,n,this.abortSignal))})}async handleFileOpen(e){if(e===null||this.settings.isPathIgnored(e.path)){this.currentAttachmentFolderPath=null,this.lastOpenFilePath=null;return}e.path!==this.lastOpenFilePath&&(this.lastOpenFilePath=e.path,this.currentAttachmentFolderPath=await Ai(this,e.path,"dummy.pdf"))}async handleRename(){await this.handleFileOpen(this.app.workspace.getActiveFile())}async importFiles(e,n){for(let r of n){let i=window.Capacitor.convertFileSrc(r.uri),a=await(await fetch(i)).arrayBuffer(),u=new Je({app:this.app,attachmentFileContent:a,noteFilePath:this.app.workspace.getActiveFile()?.path??"",originalAttachmentFileName:r.name}),c=await vi(this,u),m=Te(r.name).slice(1);r.name=Bt(c,m)}return e.call(this.app.shareReceiver,n)}async saveAttachment(e,n,r){let i=this.app.workspace.getActiveFile();if(!i||this.settings.isPathIgnored(i.path))return await this.saveAttachmentCore(e,n,r);let s=!1,a=O2.exec(e);if(a){let m=a.groups?.Timestamp;if(m){let f=(0,tc.default)(m,R2);f.isValid()&&(0,tc.default)().diff(f,"seconds")<D2&&(s=!0)}}s&&n==="png"&&this.settings.shouldConvertPastedImagesToJpeg&&(n="jpg",r=await gd(new Blob([r],{type:"image/png"}),this.settings.jpegQuality));let u=!1;switch(this.settings.attachmentRenameMode){case"All":u=!0;break;case"None":break;case"Only pasted images":u=s;break;default:throw new Error("Invalid attachment rename mode")}u&&(e=await vi(this,new Je({app:this.app,attachmentFileContent:r,noteFilePath:i.path,originalAttachmentFileName:Bt(e,n)})));let c=await this.saveAttachmentCore(e,n,r);if(this.settings.markdownUrlFormat){let m=await new Je({app:this.app,attachmentFileContent:r,generatedAttachmentFileName:c.name,generatedAttachmentFilePath:c.path,noteFilePath:i.path,originalAttachmentFileName:Bt(e,n)}).fillTemplate(this.settings.markdownUrlFormat);this.pathMarkdownUrlMap.set(c.path,m)}else this.pathMarkdownUrlMap.delete(c.path);return c}async saveAttachmentCore(e,n,r){let i=this.app.workspace.getActiveFile(),s=await this.getAvailablePathForAttachments(e,n,i,!1,r);return await this.app.vault.createBinary(s,r)}};var M2=ga;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/

/* nosourcemap */